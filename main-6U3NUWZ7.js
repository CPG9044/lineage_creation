import"./chunk-TXOQJK3V.js";import{e as Wb,h as Yb}from"./chunk-6RYNP5DB.js";import"./chunk-X6YHEMIY.js";import{I as Gb,ka as qb}from"./chunk-CEQZZ5XL.js";import{g as Kb}from"./chunk-H6HTD5N2.js";import{a as M,b as re,c as nl,e as kr,f as zb,g as lr,h as $b,i as rl,j as S}from"./chunk-KUCED5OY.js";var QA=zb((xb,Rb)=>{"use strict";(function(n,e){typeof define=="function"&&define.amd?define([],e):typeof xb<"u"?e():(e(),n.FileSaver={})})(xb,function(){"use strict";function n(a,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function e(a,c,l){var u=new XMLHttpRequest;u.open("GET",a),u.responseType="blob",u.onload=function(){s(u.response,c,l)},u.onerror=function(){console.error("could not download file")},u.send()}function t(a){var c=new XMLHttpRequest;c.open("HEAD",a,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function r(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(c)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(a,c,l){var u=i.URL||i.webkitURL,d=document.createElement("a");c=c||a.name||"download",d.download=c,d.rel="noopener",typeof a=="string"?(d.href=a,d.origin===location.origin?r(d):t(d.href)?e(a,c,l):r(d,d.target="_blank")):(d.href=u.createObjectURL(a),setTimeout(function(){u.revokeObjectURL(d.href)},4e4),setTimeout(function(){r(d)},0))}:"msSaveOrOpenBlob"in navigator?function(a,c,l){if(c=c||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(n(a,l),c);else if(t(a))e(a,c,l);else{var u=document.createElement("a");u.href=a,u.target="_blank",setTimeout(function(){r(u)})}}:function(a,c,l,u){if(u=u||open("","_blank"),u&&(u.document.title=u.document.body.innerText="downloading..."),typeof a=="string")return e(a,c,l);var d=a.type==="application/octet-stream",p=/constructor/i.test(i.HTMLElement)||i.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||d&&p||o)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var w=m.result;w=h?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=w:location=w,u=null},m.readAsDataURL(a)}else{var g=i.URL||i.webkitURL,y=g.createObjectURL(a);u?u.location=y:location.href=y,u=null,setTimeout(function(){g.revokeObjectURL(y)},4e4)}});i.saveAs=s.saveAs=s,typeof Rb<"u"&&(Rb.exports=s)})});var JA=zb((ZA,Nb)=>{"use strict";(function(n){typeof ZA=="object"&&typeof Nb<"u"?Nb.exports=n():typeof define=="function"&&define.amd?define([],n):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=n()})(function(){return function n(e,t,r){function i(a,c){if(!t[a]){if(!e[a]){var l=typeof nl=="function"&&nl;if(!c&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var d=t[a]={exports:{}};e[a][0].call(d.exports,function(p){var h=e[a][1][p];return i(h||p)},d,d.exports,n,e,t,r)}return t[a].exports}for(var o=typeof nl=="function"&&nl,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(n,e,t){"use strict";var r=n("./utils"),i=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(s){for(var a,c,l,u,d,p,h,m=[],g=0,y=s.length,w=y,A=r.getTypeOf(s)!=="string";g<s.length;)w=y-g,l=A?(a=s[g++],c=g<y?s[g++]:0,g<y?s[g++]:0):(a=s.charCodeAt(g++),c=g<y?s.charCodeAt(g++):0,g<y?s.charCodeAt(g++):0),u=a>>2,d=(3&a)<<4|c>>4,p=1<w?(15&c)<<2|l>>6:64,h=2<w?63&l:64,m.push(o.charAt(u)+o.charAt(d)+o.charAt(p)+o.charAt(h));return m.join("")},t.decode=function(s){var a,c,l,u,d,p,h=0,m=0,g="data:";if(s.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var y,w=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===o.charAt(64)&&w--,s.charAt(s.length-2)===o.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=i.uint8array?new Uint8Array(0|w):new Array(0|w);h<s.length;)a=o.indexOf(s.charAt(h++))<<2|(u=o.indexOf(s.charAt(h++)))>>4,c=(15&u)<<4|(d=o.indexOf(s.charAt(h++)))>>2,l=(3&d)<<6|(p=o.indexOf(s.charAt(h++))),y[m++]=a,d!==64&&(y[m++]=c),p!==64&&(y[m++]=l);return y}},{"./support":30,"./utils":32}],2:[function(n,e,t){"use strict";var r=n("./external"),i=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),s=n("./stream/DataLengthProbe");function a(c,l,u,d,p){this.compressedSize=c,this.uncompressedSize=l,this.crc32=u,this.compression=d,this.compressedContent=p}a.prototype={getContentWorker:function(){var c=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),l=this;return c.on("end",function(){if(this.streamInfo.data_length!==l.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(c,l,u){return c.pipe(new o).pipe(new s("uncompressedSize")).pipe(l.compressWorker(u)).pipe(new s("compressedSize")).withStreamInfo("compression",l)},e.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,e,t){"use strict";var r=n("./stream/GenericWorker");t.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},t.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,e,t){"use strict";var r=n("./utils"),i=function(){for(var o,s=[],a=0;a<256;a++){o=a;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;s[a]=o}return s}();e.exports=function(o,s){return o!==void 0&&o.length?r.getTypeOf(o)!=="string"?function(a,c,l,u){var d=i,p=u+l;a^=-1;for(var h=u;h<p;h++)a=a>>>8^d[255&(a^c[h])];return-1^a}(0|s,o,o.length,0):function(a,c,l,u){var d=i,p=u+l;a^=-1;for(var h=u;h<p;h++)a=a>>>8^d[255&(a^c.charCodeAt(h))];return-1^a}(0|s,o,o.length,0):0}},{"./utils":32}],5:[function(n,e,t){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},{}],6:[function(n,e,t){"use strict";var r=null;r=typeof Promise<"u"?Promise:n("lie"),e.exports={Promise:r}},{lie:37}],7:[function(n,e,t){"use strict";var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",i=n("pako"),o=n("./utils"),s=n("./stream/GenericWorker"),a=r?"uint8array":"array";function c(l,u){s.call(this,"FlateWorker/"+l),this._pako=null,this._pakoAction=l,this._pakoOptions=u,this.meta={}}t.magic="\b\0",o.inherits(c,s),c.prototype.processChunk=function(l){this.meta=l.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(a,l.data),!1)},c.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var l=this;this._pako.onData=function(u){l.push({data:u,meta:l.meta})}},t.compressWorker=function(l){return new c("Deflate",l)},t.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,e,t){"use strict";function r(d,p){var h,m="";for(h=0;h<p;h++)m+=String.fromCharCode(255&d),d>>>=8;return m}function i(d,p,h,m,g,y){var w,A,_=d.file,L=d.compression,P=y!==a.utf8encode,G=o.transformTo("string",y(_.name)),H=o.transformTo("string",a.utf8encode(_.name)),J=_.comment,we=o.transformTo("string",y(J)),I=o.transformTo("string",a.utf8encode(J)),V=H.length!==_.name.length,v=I.length!==J.length,K="",Ue="",Q="",Ye=_.dir,Z=_.date,Ae={crc32:0,compressedSize:0,uncompressedSize:0};p&&!h||(Ae.crc32=d.crc32,Ae.compressedSize=d.compressedSize,Ae.uncompressedSize=d.uncompressedSize);var U=0;p&&(U|=8),P||!V&&!v||(U|=2048);var O=0,Ie=0;Ye&&(O|=16),g==="UNIX"?(Ie=798,O|=function(ie,St){var en=ie;return ie||(en=St?16893:33204),(65535&en)<<16}(_.unixPermissions,Ye)):(Ie=20,O|=function(ie){return 63&(ie||0)}(_.dosPermissions)),w=Z.getUTCHours(),w<<=6,w|=Z.getUTCMinutes(),w<<=5,w|=Z.getUTCSeconds()/2,A=Z.getUTCFullYear()-1980,A<<=4,A|=Z.getUTCMonth()+1,A<<=5,A|=Z.getUTCDate(),V&&(Ue=r(1,1)+r(c(G),4)+H,K+="up"+r(Ue.length,2)+Ue),v&&(Q=r(1,1)+r(c(we),4)+I,K+="uc"+r(Q.length,2)+Q);var fe="";return fe+=`
\0`,fe+=r(U,2),fe+=L.magic,fe+=r(w,2),fe+=r(A,2),fe+=r(Ae.crc32,4),fe+=r(Ae.compressedSize,4),fe+=r(Ae.uncompressedSize,4),fe+=r(G.length,2),fe+=r(K.length,2),{fileRecord:l.LOCAL_FILE_HEADER+fe+G+K,dirRecord:l.CENTRAL_FILE_HEADER+r(Ie,2)+fe+r(we.length,2)+"\0\0\0\0"+r(O,4)+r(m,4)+G+K+we}}var o=n("../utils"),s=n("../stream/GenericWorker"),a=n("../utf8"),c=n("../crc32"),l=n("../signature");function u(d,p,h,m){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=h,this.encodeFileName=m,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(u,s),u.prototype.push=function(d){var p=d.meta.percent||0,h=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,s.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:h?(p+100*(h-m-1))/h:100}}))},u.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var p=this.streamFiles&&!d.file.dir;if(p){var h=i(d,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:h.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(d){this.accumulate=!1;var p=this.streamFiles&&!d.file.dir,h=i(d,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(h.dirRecord),p)this.push({data:function(m){return l.DATA_DESCRIPTOR+r(m.crc32,4)+r(m.compressedSize,4)+r(m.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:h.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var d=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var h=this.bytesWritten-d,m=function(g,y,w,A,_){var L=o.transformTo("string",_(A));return l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(g,2)+r(g,2)+r(y,4)+r(w,4)+r(L.length,2)+L}(this.dirRecords.length,h,d,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(d){this._sources.push(d);var p=this;return d.on("data",function(h){p.processChunk(h)}),d.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),d.on("error",function(h){p.error(h)}),this},u.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(d){var p=this._sources;if(!s.prototype.error.call(this,d))return!1;for(var h=0;h<p.length;h++)try{p[h].error(d)}catch{}return!0},u.prototype.lock=function(){s.prototype.lock.call(this);for(var d=this._sources,p=0;p<d.length;p++)d[p].lock()},e.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,e,t){"use strict";var r=n("../compressions"),i=n("./ZipFileWorker");t.generateWorker=function(o,s,a){var c=new i(s.streamFiles,a,s.platform,s.encodeFileName),l=0;try{o.forEach(function(u,d){l++;var p=function(y,w){var A=y||w,_=r[A];if(!_)throw new Error(A+" is not a valid compression method !");return _}(d.options.compression,s.compression),h=d.options.compressionOptions||s.compressionOptions||{},m=d.dir,g=d.date;d._compressWorker(p,h).withStreamInfo("file",{name:u,dir:m,date:g,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(c)}),c.entriesCount=l}catch(u){c.error(u)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,e,t){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var i=new r;for(var o in this)typeof this[o]!="function"&&(i[o]=this[o]);return i}}(r.prototype=n("./object")).loadAsync=n("./load"),r.support=n("./support"),r.defaults=n("./defaults"),r.version="3.10.1",r.loadAsync=function(i,o){return new r().loadAsync(i,o)},r.external=n("./external"),e.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,e,t){"use strict";var r=n("./utils"),i=n("./external"),o=n("./utf8"),s=n("./zipEntries"),a=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function l(u){return new i.Promise(function(d,p){var h=u.decompressed.getContentWorker().pipe(new a);h.on("error",function(m){p(m)}).on("end",function(){h.streamInfo.crc32!==u.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}e.exports=function(u,d){var p=this;return d=r.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(u)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",u,!0,d.optimizedBinaryString,d.base64).then(function(h){var m=new s(d);return m.load(h),m}).then(function(h){var m=[i.Promise.resolve(h)],g=h.files;if(d.checkCRC32)for(var y=0;y<g.length;y++)m.push(l(g[y]));return i.Promise.all(m)}).then(function(h){for(var m=h.shift(),g=m.files,y=0;y<g.length;y++){var w=g[y],A=w.fileNameStr,_=r.resolve(w.fileNameStr);p.file(_,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:d.createFolders}),w.dir||(p.file(_).unsafeOriginalName=A)}return m.zipComment.length&&(p.comment=m.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,e,t){"use strict";var r=n("../utils"),i=n("../stream/GenericWorker");function o(s,a){i.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(a)}r.inherits(o,i),o.prototype._bindStream=function(s){var a=this;(this._stream=s).pause(),s.on("data",function(c){a.push({data:c,meta:{percent:0}})}).on("error",function(c){a.isPaused?this.generatedError=c:a.error(c)}).on("end",function(){a.isPaused?a._upstreamEnded=!0:a.end()})},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,e,t){"use strict";var r=n("readable-stream").Readable;function i(o,s,a){r.call(this,s),this._helper=o;var c=this;o.on("data",function(l,u){c.push(l)||c._helper.pause(),a&&a(u)}).on("error",function(l){c.emit("error",l)}).on("end",function(){c.push(null)})}n("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},e.exports=i},{"../utils":32,"readable-stream":16}],14:[function(n,e,t){"use strict";e.exports={isNode:typeof Buffer<"u",newBufferFrom:function(r,i){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,i);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,i)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var i=new Buffer(r);return i.fill(0),i},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(n,e,t){"use strict";function r(_,L,P){var G,H=o.getTypeOf(L),J=o.extend(P||{},c);J.date=J.date||new Date,J.compression!==null&&(J.compression=J.compression.toUpperCase()),typeof J.unixPermissions=="string"&&(J.unixPermissions=parseInt(J.unixPermissions,8)),J.unixPermissions&&16384&J.unixPermissions&&(J.dir=!0),J.dosPermissions&&16&J.dosPermissions&&(J.dir=!0),J.dir&&(_=g(_)),J.createFolders&&(G=m(_))&&y.call(this,G,!0);var we=H==="string"&&J.binary===!1&&J.base64===!1;P&&P.binary!==void 0||(J.binary=!we),(L instanceof l&&L.uncompressedSize===0||J.dir||!L||L.length===0)&&(J.base64=!1,J.binary=!0,L="",J.compression="STORE",H="string");var I=null;I=L instanceof l||L instanceof s?L:p.isNode&&p.isStream(L)?new h(_,L):o.prepareContent(_,L,J.binary,J.optimizedBinaryString,J.base64);var V=new u(_,I,J);this.files[_]=V}var i=n("./utf8"),o=n("./utils"),s=n("./stream/GenericWorker"),a=n("./stream/StreamHelper"),c=n("./defaults"),l=n("./compressedObject"),u=n("./zipObject"),d=n("./generate"),p=n("./nodejsUtils"),h=n("./nodejs/NodejsStreamInputAdapter"),m=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var L=_.lastIndexOf("/");return 0<L?_.substring(0,L):""},g=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},y=function(_,L){return L=L!==void 0?L:c.createFolders,_=g(_),this.files[_]||r.call(this,_,null,{dir:!0,createFolders:L}),this.files[_]};function w(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var L,P,G;for(L in this.files)G=this.files[L],(P=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&_(P,G)},filter:function(_){var L=[];return this.forEach(function(P,G){_(P,G)&&L.push(G)}),L},file:function(_,L,P){if(arguments.length!==1)return _=this.root+_,r.call(this,_,L,P),this;if(w(_)){var G=_;return this.filter(function(J,we){return!we.dir&&G.test(J)})}var H=this.files[this.root+_];return H&&!H.dir?H:null},folder:function(_){if(!_)return this;if(w(_))return this.filter(function(H,J){return J.dir&&_.test(H)});var L=this.root+_,P=y.call(this,L),G=this.clone();return G.root=P.name,G},remove:function(_){_=this.root+_;var L=this.files[_];if(L||(_.slice(-1)!=="/"&&(_+="/"),L=this.files[_]),L&&!L.dir)delete this.files[_];else for(var P=this.filter(function(H,J){return J.name.slice(0,_.length)===_}),G=0;G<P.length;G++)delete this.files[P[G].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var L,P={};try{if((P=o.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=P.type.toLowerCase(),P.compression=P.compression.toUpperCase(),P.type==="binarystring"&&(P.type="string"),!P.type)throw new Error("No output type specified.");o.checkSupport(P.type),P.platform!=="darwin"&&P.platform!=="freebsd"&&P.platform!=="linux"&&P.platform!=="sunos"||(P.platform="UNIX"),P.platform==="win32"&&(P.platform="DOS");var G=P.comment||this.comment||"";L=d.generateWorker(this,P,G)}catch(H){(L=new s("error")).error(H)}return new a(L,P.type||"string",P.mimeType)},generateAsync:function(_,L){return this.generateInternalStream(_).accumulate(L)},generateNodeStream:function(_,L){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(L)}};e.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,e,t){"use strict";e.exports=n("stream")},{stream:void 0}],17:[function(n,e,t){"use strict";var r=n("./DataReader");function i(o){r.call(this,o);for(var s=0;s<this.data.length;s++)o[s]=255&o[s]}n("../utils").inherits(i,r),i.prototype.byteAt=function(o){return this.data[this.zero+o]},i.prototype.lastIndexOfSignature=function(o){for(var s=o.charCodeAt(0),a=o.charCodeAt(1),c=o.charCodeAt(2),l=o.charCodeAt(3),u=this.length-4;0<=u;--u)if(this.data[u]===s&&this.data[u+1]===a&&this.data[u+2]===c&&this.data[u+3]===l)return u-this.zero;return-1},i.prototype.readAndCheckSignature=function(o){var s=o.charCodeAt(0),a=o.charCodeAt(1),c=o.charCodeAt(2),l=o.charCodeAt(3),u=this.readData(4);return s===u[0]&&a===u[1]&&c===u[2]&&l===u[3]},i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,s},e.exports=i},{"../utils":32,"./DataReader":18}],18:[function(n,e,t){"use strict";var r=n("../utils");function i(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var s,a=0;for(this.checkOffset(o),s=this.index+o-1;s>=this.index;s--)a=(a<<8)+this.byteAt(s);return this.index+=o,a},readString:function(o){return r.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},e.exports=i},{"../utils":32}],19:[function(n,e,t){"use strict";var r=n("./Uint8ArrayReader");function i(o){r.call(this,o)}n("../utils").inherits(i,r),i.prototype.readData=function(o){this.checkOffset(o);var s=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,s},e.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,e,t){"use strict";var r=n("./DataReader");function i(o){r.call(this,o)}n("../utils").inherits(i,r),i.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},i.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},i.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},i.prototype.readData=function(o){this.checkOffset(o);var s=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,s},e.exports=i},{"../utils":32,"./DataReader":18}],21:[function(n,e,t){"use strict";var r=n("./ArrayReader");function i(o){r.call(this,o)}n("../utils").inherits(i,r),i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,s},e.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(n,e,t){"use strict";var r=n("../utils"),i=n("../support"),o=n("./ArrayReader"),s=n("./StringReader"),a=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");e.exports=function(l){var u=r.getTypeOf(l);return r.checkSupport(u),u!=="string"||i.uint8array?u==="nodebuffer"?new a(l):i.uint8array?new c(r.transformTo("uint8array",l)):new o(r.transformTo("array",l)):new s(l)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,e,t){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,e,t){"use strict";var r=n("./GenericWorker"),i=n("../utils");function o(s){r.call(this,"ConvertWorker to "+s),this.destType=s}i.inherits(o,r),o.prototype.processChunk=function(s){this.push({data:i.transformTo(this.destType,s.data),meta:s.meta})},e.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,e,t){"use strict";var r=n("./GenericWorker"),i=n("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,r),o.prototype.processChunk=function(s){this.streamInfo.crc32=i(s.data,this.streamInfo.crc32||0),this.push(s)},e.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,e,t){"use strict";var r=n("../utils"),i=n("./GenericWorker");function o(s){i.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}r.inherits(o,i),o.prototype.processChunk=function(s){if(s){var a=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=a+s.data.length}i.prototype.processChunk.call(this,s)},e.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,e,t){"use strict";var r=n("../utils"),i=n("./GenericWorker");function o(s){i.call(this,"DataWorker");var a=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(c){a.dataIsReady=!0,a.data=c,a.max=c&&c.length||0,a.type=r.getTypeOf(c),a.isPaused||a._tickAndRepeat()},function(c){a.error(c)})}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,a=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,a);break;case"uint8array":s=this.data.subarray(this.index,a);break;case"array":case"nodebuffer":s=this.data.slice(this.index,a)}return this.index=a,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,e,t){"use strict";function r(i){this.name=i||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(i){this.emit("data",i)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(i){this.emit("error",i)}return!0},error:function(i){return!this.isFinished&&(this.isPaused?this.generatedError=i:(this.isFinished=!0,this.emit("error",i),this.previous&&this.previous.error(i),this.cleanUp()),!0)},on:function(i,o){return this._listeners[i].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(i,o){if(this._listeners[i])for(var s=0;s<this._listeners[i].length;s++)this._listeners[i][s].call(this,o)},pipe:function(i){return i.registerPrevious(this)},registerPrevious:function(i){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=i.streamInfo,this.mergeStreamInfo(),this.previous=i;var o=this;return i.on("data",function(s){o.processChunk(s)}),i.on("end",function(){o.end()}),i.on("error",function(s){o.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var i=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),i=!0),this.previous&&this.previous.resume(),!i},flush:function(){},processChunk:function(i){this.push(i)},withStreamInfo:function(i,o){return this.extraStreamInfo[i]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var i in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,i)&&(this.streamInfo[i]=this.extraStreamInfo[i])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var i="Worker "+this.name;return this.previous?this.previous+" -> "+i:i}},e.exports=r},{}],29:[function(n,e,t){"use strict";var r=n("../utils"),i=n("./ConvertWorker"),o=n("./GenericWorker"),s=n("../base64"),a=n("../support"),c=n("../external"),l=null;if(a.nodestream)try{l=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function u(p,h){return new c.Promise(function(m,g){var y=[],w=p._internalType,A=p._outputType,_=p._mimeType;p.on("data",function(L,P){y.push(L),h&&h(P)}).on("error",function(L){y=[],g(L)}).on("end",function(){try{var L=function(P,G,H){switch(P){case"blob":return r.newBlob(r.transformTo("arraybuffer",G),H);case"base64":return s.encode(G);default:return r.transformTo(P,G)}}(A,function(P,G){var H,J=0,we=null,I=0;for(H=0;H<G.length;H++)I+=G[H].length;switch(P){case"string":return G.join("");case"array":return Array.prototype.concat.apply([],G);case"uint8array":for(we=new Uint8Array(I),H=0;H<G.length;H++)we.set(G[H],J),J+=G[H].length;return we;case"nodebuffer":return Buffer.concat(G);default:throw new Error("concat : unsupported type '"+P+"'")}}(w,y),_);m(L)}catch(P){g(P)}y=[]}).resume()})}function d(p,h,m){var g=h;switch(h){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=h,this._mimeType=m,r.checkSupport(g),this._worker=p.pipe(new i(g)),p.lock()}catch(y){this._worker=new o("error"),this._worker.error(y)}}d.prototype={accumulate:function(p){return u(this,p)},on:function(p,h){var m=this;return p==="data"?this._worker.on(p,function(g){h.call(m,g.data,g.meta)}):this._worker.on(p,function(){r.delay(h,arguments,m)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:this._outputType!=="nodebuffer"},p)}},e.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,e,t){"use strict";if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",t.nodebuffer=typeof Buffer<"u",t.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")t.blob=!1;else{var r=new ArrayBuffer(0);try{t.blob=new Blob([r],{type:"application/zip"}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),t.blob=i.getBlob("application/zip").size===0}catch{t.blob=!1}}}try{t.nodestream=!!n("readable-stream").Readable}catch{t.nodestream=!1}},{"readable-stream":16}],31:[function(n,e,t){"use strict";for(var r=n("./utils"),i=n("./support"),o=n("./nodejsUtils"),s=n("./stream/GenericWorker"),a=new Array(256),c=0;c<256;c++)a[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;a[254]=a[254]=1;function l(){s.call(this,"utf-8 decode"),this.leftOver=null}function u(){s.call(this,"utf-8 encode")}t.utf8encode=function(d){return i.nodebuffer?o.newBufferFrom(d,"utf-8"):function(p){var h,m,g,y,w,A=p.length,_=0;for(y=0;y<A;y++)(64512&(m=p.charCodeAt(y)))==55296&&y+1<A&&(64512&(g=p.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),y++),_+=m<128?1:m<2048?2:m<65536?3:4;for(h=i.uint8array?new Uint8Array(_):new Array(_),y=w=0;w<_;y++)(64512&(m=p.charCodeAt(y)))==55296&&y+1<A&&(64512&(g=p.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),y++),m<128?h[w++]=m:(m<2048?h[w++]=192|m>>>6:(m<65536?h[w++]=224|m>>>12:(h[w++]=240|m>>>18,h[w++]=128|m>>>12&63),h[w++]=128|m>>>6&63),h[w++]=128|63&m);return h}(d)},t.utf8decode=function(d){return i.nodebuffer?r.transformTo("nodebuffer",d).toString("utf-8"):function(p){var h,m,g,y,w=p.length,A=new Array(2*w);for(h=m=0;h<w;)if((g=p[h++])<128)A[m++]=g;else if(4<(y=a[g]))A[m++]=65533,h+=y-1;else{for(g&=y===2?31:y===3?15:7;1<y&&h<w;)g=g<<6|63&p[h++],y--;1<y?A[m++]=65533:g<65536?A[m++]=g:(g-=65536,A[m++]=55296|g>>10&1023,A[m++]=56320|1023&g)}return A.length!==m&&(A.subarray?A=A.subarray(0,m):A.length=m),r.applyFromCharCode(A)}(d=r.transformTo(i.uint8array?"uint8array":"array",d))},r.inherits(l,s),l.prototype.processChunk=function(d){var p=r.transformTo(i.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var h=p;(p=new Uint8Array(h.length+this.leftOver.length)).set(this.leftOver,0),p.set(h,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var m=function(y,w){var A;for((w=w||y.length)>y.length&&(w=y.length),A=w-1;0<=A&&(192&y[A])==128;)A--;return A<0||A===0?w:A+a[y[A]]>w?A:w}(p),g=p;m!==p.length&&(i.uint8array?(g=p.subarray(0,m),this.leftOver=p.subarray(m,p.length)):(g=p.slice(0,m),this.leftOver=p.slice(m,p.length))),this.push({data:t.utf8decode(g),meta:d.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=l,r.inherits(u,s),u.prototype.processChunk=function(d){this.push({data:t.utf8encode(d.data),meta:d.meta})},t.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,e,t){"use strict";var r=n("./support"),i=n("./base64"),o=n("./nodejsUtils"),s=n("./external");function a(h){return h}function c(h,m){for(var g=0;g<h.length;++g)m[g]=255&h.charCodeAt(g);return m}n("setimmediate"),t.newBlob=function(h,m){t.checkSupport("blob");try{return new Blob([h],{type:m})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(h),g.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(h,m,g){var y=[],w=0,A=h.length;if(A<=g)return String.fromCharCode.apply(null,h);for(;w<A;)m==="array"||m==="nodebuffer"?y.push(String.fromCharCode.apply(null,h.slice(w,Math.min(w+g,A)))):y.push(String.fromCharCode.apply(null,h.subarray(w,Math.min(w+g,A)))),w+=g;return y.join("")},stringifyByChar:function(h){for(var m="",g=0;g<h.length;g++)m+=String.fromCharCode(h[g]);return m},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function u(h){var m=65536,g=t.getTypeOf(h),y=!0;if(g==="uint8array"?y=l.applyCanBeUsed.uint8array:g==="nodebuffer"&&(y=l.applyCanBeUsed.nodebuffer),y)for(;1<m;)try{return l.stringifyByChunk(h,g,m)}catch{m=Math.floor(m/2)}return l.stringifyByChar(h)}function d(h,m){for(var g=0;g<h.length;g++)m[g]=h[g];return m}t.applyFromCharCode=u;var p={};p.string={string:a,array:function(h){return c(h,new Array(h.length))},arraybuffer:function(h){return p.string.uint8array(h).buffer},uint8array:function(h){return c(h,new Uint8Array(h.length))},nodebuffer:function(h){return c(h,o.allocBuffer(h.length))}},p.array={string:u,array:a,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return o.newBufferFrom(h)}},p.arraybuffer={string:function(h){return u(new Uint8Array(h))},array:function(h){return d(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:a,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return o.newBufferFrom(new Uint8Array(h))}},p.uint8array={string:u,array:function(h){return d(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:a,nodebuffer:function(h){return o.newBufferFrom(h)}},p.nodebuffer={string:u,array:function(h){return d(h,new Array(h.length))},arraybuffer:function(h){return p.nodebuffer.uint8array(h).buffer},uint8array:function(h){return d(h,new Uint8Array(h.length))},nodebuffer:a},t.transformTo=function(h,m){if(m=m||"",!h)return m;t.checkSupport(h);var g=t.getTypeOf(m);return p[g][h](m)},t.resolve=function(h){for(var m=h.split("/"),g=[],y=0;y<m.length;y++){var w=m[y];w==="."||w===""&&y!==0&&y!==m.length-1||(w===".."?g.pop():g.push(w))}return g.join("/")},t.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":r.nodebuffer&&o.isBuffer(h)?"nodebuffer":r.uint8array&&h instanceof Uint8Array?"uint8array":r.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(h){if(!r[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(h){var m,g,y="";for(g=0;g<(h||"").length;g++)y+="\\x"+((m=h.charCodeAt(g))<16?"0":"")+m.toString(16).toUpperCase();return y},t.delay=function(h,m,g){setImmediate(function(){h.apply(g||null,m||[])})},t.inherits=function(h,m){function g(){}g.prototype=m.prototype,h.prototype=new g},t.extend=function(){var h,m,g={};for(h=0;h<arguments.length;h++)for(m in arguments[h])Object.prototype.hasOwnProperty.call(arguments[h],m)&&g[m]===void 0&&(g[m]=arguments[h][m]);return g},t.prepareContent=function(h,m,g,y,w){return s.Promise.resolve(m).then(function(A){return r.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new s.Promise(function(_,L){var P=new FileReader;P.onload=function(G){_(G.target.result)},P.onerror=function(G){L(G.target.error)},P.readAsArrayBuffer(A)}):A}).then(function(A){var _=t.getTypeOf(A);return _?(_==="arraybuffer"?A=t.transformTo("uint8array",A):_==="string"&&(w?A=i.decode(A):g&&y!==!0&&(A=function(L){return c(L,r.uint8array?new Uint8Array(L.length):new Array(L.length))}(A))),A):s.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,e,t){"use strict";var r=n("./reader/readerFor"),i=n("./utils"),o=n("./signature"),s=n("./zipEntry"),a=n("./support");function c(l){this.files=[],this.loadOptions=l}c.prototype={checkSignature:function(l){if(!this.reader.readAndCheckSignature(l)){this.reader.index-=4;var u=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(u)+", expected "+i.pretty(l)+")")}},isSignature:function(l,u){var d=this.reader.index;this.reader.setIndex(l);var p=this.reader.readString(4)===u;return this.reader.setIndex(d),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var l=this.reader.readData(this.zipCommentLength),u=a.uint8array?"uint8array":"array",d=i.transformTo(u,l);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var l,u,d,p=this.zip64EndOfCentralSize-44;0<p;)l=this.reader.readInt(2),u=this.reader.readInt(4),d=this.reader.readData(u),this.zip64ExtensibleData[l]={id:l,length:u,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var l,u;for(l=0;l<this.files.length;l++)u=this.files[l],this.reader.setIndex(u.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),u.readLocalPart(this.reader),u.handleUTF8(),u.processAttributes()},readCentralDir:function(){var l;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(l=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(l);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var l=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(l<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(l);var u=l;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(l=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(l),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var p=u-d;if(0<p)this.isSignature(u,o.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(l){this.reader=r(l)},load:function(l){this.prepareReader(l),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,e,t){"use strict";var r=n("./reader/readerFor"),i=n("./utils"),o=n("./compressedObject"),s=n("./crc32"),a=n("./utf8"),c=n("./compressions"),l=n("./support");function u(d,p){this.options=d,this.loadOptions=p}u.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var p,h;if(d.skip(22),this.fileNameLength=d.readInt(2),h=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(h),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(m){for(var g in c)if(Object.prototype.hasOwnProperty.call(c,g)&&c[g].magic===m)return c[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,p,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var p=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(p),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var p,h,m,g=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<g;)p=d.readInt(2),h=d.readInt(2),m=d.readData(h),this.extraFields[p]={id:p,length:h,value:m};d.setIndex(g)},handleUTF8:function(){var d=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var h=i.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(h)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var g=i.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var p=r(d.value);return p.readInt(1)!==1||s(this.fileName)!==p.readInt(4)?null:a.utf8decode(p.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var p=r(d.value);return p.readInt(1)!==1||s(this.fileComment)!==p.readInt(4)?null:a.utf8decode(p.readData(d.length-5))}return null}},e.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,e,t){"use strict";function r(p,h,m){this.name=p,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=h,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var i=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),s=n("./utf8"),a=n("./compressedObject"),c=n("./stream/GenericWorker");r.prototype={internalStream:function(p){var h=null,m="string";try{if(!p)throw new Error("No output type specified.");var g=(m=p.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),h=this._decompressWorker();var y=!this._dataBinary;y&&!g&&(h=h.pipe(new s.Utf8EncodeWorker)),!y&&g&&(h=h.pipe(new s.Utf8DecodeWorker))}catch(w){(h=new c("error")).error(w)}return new i(h,m,"")},async:function(p,h){return this.internalStream(p).accumulate(h)},nodeStream:function(p,h){return this.internalStream(p||"nodebuffer").toNodejsStream(h)},_compressWorker:function(p,h){if(this._data instanceof a&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new s.Utf8EncodeWorker)),a.createWorkerFrom(m,p,h)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<l.length;d++)r.prototype[l[d]]=u;e.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,e,t){(function(r){"use strict";var i,o,s=r.MutationObserver||r.WebKitMutationObserver;if(s){var a=0,c=new s(p),l=r.document.createTextNode("");c.observe(l,{characterData:!0}),i=function(){l.data=a=++a%2}}else if(r.setImmediate||r.MessageChannel===void 0)i="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var h=r.document.createElement("script");h.onreadystatechange=function(){p(),h.onreadystatechange=null,h.parentNode.removeChild(h),h=null},r.document.documentElement.appendChild(h)}:function(){setTimeout(p,0)};else{var u=new r.MessageChannel;u.port1.onmessage=p,i=function(){u.port2.postMessage(0)}}var d=[];function p(){var h,m;o=!0;for(var g=d.length;g;){for(m=d,d=[],h=-1;++h<g;)m[h]();g=d.length}o=!1}e.exports=function(h){d.push(h)!==1||o||i()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,e,t){"use strict";var r=n("immediate");function i(){}var o={},s=["REJECTED"],a=["FULFILLED"],c=["PENDING"];function l(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,g!==i&&h(this,g)}function u(g,y,w){this.promise=g,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function d(g,y,w){r(function(){var A;try{A=y(w)}catch(_){return o.reject(g,_)}A===g?o.reject(g,new TypeError("Cannot resolve promise with itself")):o.resolve(g,A)})}function p(g){var y=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof y=="function")return function(){y.apply(g,arguments)}}function h(g,y){var w=!1;function A(P){w||(w=!0,o.reject(g,P))}function _(P){w||(w=!0,o.resolve(g,P))}var L=m(function(){y(_,A)});L.status==="error"&&A(L.value)}function m(g,y){var w={};try{w.value=g(y),w.status="success"}catch(A){w.status="error",w.value=A}return w}(e.exports=l).prototype.finally=function(g){if(typeof g!="function")return this;var y=this.constructor;return this.then(function(w){return y.resolve(g()).then(function(){return w})},function(w){return y.resolve(g()).then(function(){throw w})})},l.prototype.catch=function(g){return this.then(null,g)},l.prototype.then=function(g,y){if(typeof g!="function"&&this.state===a||typeof y!="function"&&this.state===s)return this;var w=new this.constructor(i);return this.state!==c?d(w,this.state===a?g:y,this.outcome):this.queue.push(new u(w,g,y)),w},u.prototype.callFulfilled=function(g){o.resolve(this.promise,g)},u.prototype.otherCallFulfilled=function(g){d(this.promise,this.onFulfilled,g)},u.prototype.callRejected=function(g){o.reject(this.promise,g)},u.prototype.otherCallRejected=function(g){d(this.promise,this.onRejected,g)},o.resolve=function(g,y){var w=m(p,y);if(w.status==="error")return o.reject(g,w.value);var A=w.value;if(A)h(g,A);else{g.state=a,g.outcome=y;for(var _=-1,L=g.queue.length;++_<L;)g.queue[_].callFulfilled(y)}return g},o.reject=function(g,y){g.state=s,g.outcome=y;for(var w=-1,A=g.queue.length;++w<A;)g.queue[w].callRejected(y);return g},l.resolve=function(g){return g instanceof this?g:o.resolve(new this(i),g)},l.reject=function(g){var y=new this(i);return o.reject(y,g)},l.all=function(g){var y=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=g.length,A=!1;if(!w)return this.resolve([]);for(var _=new Array(w),L=0,P=-1,G=new this(i);++P<w;)H(g[P],P);return G;function H(J,we){y.resolve(J).then(function(I){_[we]=I,++L!==w||A||(A=!0,o.resolve(G,_))},function(I){A||(A=!0,o.reject(G,I))})}},l.race=function(g){var y=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=g.length,A=!1;if(!w)return this.resolve([]);for(var _=-1,L=new this(i);++_<w;)P=g[_],y.resolve(P).then(function(G){A||(A=!0,o.resolve(L,G))},function(G){A||(A=!0,o.reject(L,G))});var P;return L}},{immediate:36}],38:[function(n,e,t){"use strict";var r={};(0,n("./lib/utils/common").assign)(r,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),e.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,e,t){"use strict";var r=n("./zlib/deflate"),i=n("./utils/common"),o=n("./utils/strings"),s=n("./zlib/messages"),a=n("./zlib/zstream"),c=Object.prototype.toString,l=0,u=-1,d=0,p=8;function h(g){if(!(this instanceof h))return new h(g);this.options=i.assign({level:u,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},g||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var w=r.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(w!==l)throw new Error(s[w]);if(y.header&&r.deflateSetHeader(this.strm,y.header),y.dictionary){var A;if(A=typeof y.dictionary=="string"?o.string2buf(y.dictionary):c.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(w=r.deflateSetDictionary(this.strm,A))!==l)throw new Error(s[w]);this._dict_set=!0}}function m(g,y){var w=new h(y);if(w.push(g,!0),w.err)throw w.msg||s[w.err];return w.result}h.prototype.push=function(g,y){var w,A,_=this.strm,L=this.options.chunkSize;if(this.ended)return!1;A=y===~~y?y:y===!0?4:0,typeof g=="string"?_.input=o.string2buf(g):c.call(g)==="[object ArrayBuffer]"?_.input=new Uint8Array(g):_.input=g,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new i.Buf8(L),_.next_out=0,_.avail_out=L),(w=r.deflate(_,A))!==1&&w!==l)return this.onEnd(w),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(i.shrinkBuf(_.output,_.next_out))):this.onData(i.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&w!==1);return A===4?(w=r.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===l):A!==2||(this.onEnd(l),!(_.avail_out=0))},h.prototype.onData=function(g){this.chunks.push(g)},h.prototype.onEnd=function(g){g===l&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},t.Deflate=h,t.deflate=m,t.deflateRaw=function(g,y){return(y=y||{}).raw=!0,m(g,y)},t.gzip=function(g,y){return(y=y||{}).gzip=!0,m(g,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,e,t){"use strict";var r=n("./zlib/inflate"),i=n("./utils/common"),o=n("./utils/strings"),s=n("./zlib/constants"),a=n("./zlib/messages"),c=n("./zlib/zstream"),l=n("./zlib/gzheader"),u=Object.prototype.toString;function d(h){if(!(this instanceof d))return new d(h);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},h||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||h&&h.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&!(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var g=r.inflateInit2(this.strm,m.windowBits);if(g!==s.Z_OK)throw new Error(a[g]);this.header=new l,r.inflateGetHeader(this.strm,this.header)}function p(h,m){var g=new d(m);if(g.push(h,!0),g.err)throw g.msg||a[g.err];return g.result}d.prototype.push=function(h,m){var g,y,w,A,_,L,P=this.strm,G=this.options.chunkSize,H=this.options.dictionary,J=!1;if(this.ended)return!1;y=m===~~m?m:m===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof h=="string"?P.input=o.binstring2buf(h):u.call(h)==="[object ArrayBuffer]"?P.input=new Uint8Array(h):P.input=h,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new i.Buf8(G),P.next_out=0,P.avail_out=G),(g=r.inflate(P,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&H&&(L=typeof H=="string"?o.string2buf(H):u.call(H)==="[object ArrayBuffer]"?new Uint8Array(H):H,g=r.inflateSetDictionary(this.strm,L)),g===s.Z_BUF_ERROR&&J===!0&&(g=s.Z_OK,J=!1),g!==s.Z_STREAM_END&&g!==s.Z_OK)return this.onEnd(g),!(this.ended=!0);P.next_out&&(P.avail_out!==0&&g!==s.Z_STREAM_END&&(P.avail_in!==0||y!==s.Z_FINISH&&y!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=o.utf8border(P.output,P.next_out),A=P.next_out-w,_=o.buf2string(P.output,w),P.next_out=A,P.avail_out=G-A,A&&i.arraySet(P.output,P.output,w,A,0),this.onData(_)):this.onData(i.shrinkBuf(P.output,P.next_out)))),P.avail_in===0&&P.avail_out===0&&(J=!0)}while((0<P.avail_in||P.avail_out===0)&&g!==s.Z_STREAM_END);return g===s.Z_STREAM_END&&(y=s.Z_FINISH),y===s.Z_FINISH?(g=r.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===s.Z_OK):y!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(P.avail_out=0))},d.prototype.onData=function(h){this.chunks.push(h)},d.prototype.onEnd=function(h){h===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},t.Inflate=d,t.inflate=p,t.inflateRaw=function(h,m){return(m=m||{}).raw=!0,p(h,m)},t.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,e,t){"use strict";var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";t.assign=function(s){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var c=a.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var l in c)c.hasOwnProperty(l)&&(s[l]=c[l])}}return s},t.shrinkBuf=function(s,a){return s.length===a?s:s.subarray?s.subarray(0,a):(s.length=a,s)};var i={arraySet:function(s,a,c,l,u){if(a.subarray&&s.subarray)s.set(a.subarray(c,c+l),u);else for(var d=0;d<l;d++)s[u+d]=a[c+d]},flattenChunks:function(s){var a,c,l,u,d,p;for(a=l=0,c=s.length;a<c;a++)l+=s[a].length;for(p=new Uint8Array(l),a=u=0,c=s.length;a<c;a++)d=s[a],p.set(d,u),u+=d.length;return p}},o={arraySet:function(s,a,c,l,u){for(var d=0;d<l;d++)s[u+d]=a[c+d]},flattenChunks:function(s){return[].concat.apply([],s)}};t.setTyped=function(s){s?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(r)},{}],42:[function(n,e,t){"use strict";var r=n("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var s=new r.Buf8(256),a=0;a<256;a++)s[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function c(l,u){if(u<65537&&(l.subarray&&o||!l.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(l,u));for(var d="",p=0;p<u;p++)d+=String.fromCharCode(l[p]);return d}s[254]=s[254]=1,t.string2buf=function(l){var u,d,p,h,m,g=l.length,y=0;for(h=0;h<g;h++)(64512&(d=l.charCodeAt(h)))==55296&&h+1<g&&(64512&(p=l.charCodeAt(h+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),h++),y+=d<128?1:d<2048?2:d<65536?3:4;for(u=new r.Buf8(y),h=m=0;m<y;h++)(64512&(d=l.charCodeAt(h)))==55296&&h+1<g&&(64512&(p=l.charCodeAt(h+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),h++),d<128?u[m++]=d:(d<2048?u[m++]=192|d>>>6:(d<65536?u[m++]=224|d>>>12:(u[m++]=240|d>>>18,u[m++]=128|d>>>12&63),u[m++]=128|d>>>6&63),u[m++]=128|63&d);return u},t.buf2binstring=function(l){return c(l,l.length)},t.binstring2buf=function(l){for(var u=new r.Buf8(l.length),d=0,p=u.length;d<p;d++)u[d]=l.charCodeAt(d);return u},t.buf2string=function(l,u){var d,p,h,m,g=u||l.length,y=new Array(2*g);for(d=p=0;d<g;)if((h=l[d++])<128)y[p++]=h;else if(4<(m=s[h]))y[p++]=65533,d+=m-1;else{for(h&=m===2?31:m===3?15:7;1<m&&d<g;)h=h<<6|63&l[d++],m--;1<m?y[p++]=65533:h<65536?y[p++]=h:(h-=65536,y[p++]=55296|h>>10&1023,y[p++]=56320|1023&h)}return c(y,p)},t.utf8border=function(l,u){var d;for((u=u||l.length)>l.length&&(u=l.length),d=u-1;0<=d&&(192&l[d])==128;)d--;return d<0||d===0?u:d+s[l[d]]>u?d:u}},{"./common":41}],43:[function(n,e,t){"use strict";e.exports=function(r,i,o,s){for(var a=65535&r|0,c=r>>>16&65535|0,l=0;o!==0;){for(o-=l=2e3<o?2e3:o;c=c+(a=a+i[s++]|0)|0,--l;);a%=65521,c%=65521}return a|c<<16|0}},{}],44:[function(n,e,t){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,e,t){"use strict";var r=function(){for(var i,o=[],s=0;s<256;s++){i=s;for(var a=0;a<8;a++)i=1&i?3988292384^i>>>1:i>>>1;o[s]=i}return o}();e.exports=function(i,o,s,a){var c=r,l=a+s;i^=-1;for(var u=a;u<l;u++)i=i>>>8^c[255&(i^o[u])];return-1^i}},{}],46:[function(n,e,t){"use strict";var r,i=n("../utils/common"),o=n("./trees"),s=n("./adler32"),a=n("./crc32"),c=n("./messages"),l=0,u=4,d=0,p=-2,h=-1,m=4,g=2,y=8,w=9,A=286,_=30,L=19,P=2*A+1,G=15,H=3,J=258,we=J+H+1,I=42,V=113,v=1,K=2,Ue=3,Q=4;function Ye(f,$){return f.msg=c[$],$}function Z(f){return(f<<1)-(4<f?9:0)}function Ae(f){for(var $=f.length;0<=--$;)f[$]=0}function U(f){var $=f.state,B=$.pending;B>f.avail_out&&(B=f.avail_out),B!==0&&(i.arraySet(f.output,$.pending_buf,$.pending_out,B,f.next_out),f.next_out+=B,$.pending_out+=B,f.total_out+=B,f.avail_out-=B,$.pending-=B,$.pending===0&&($.pending_out=0))}function O(f,$){o._tr_flush_block(f,0<=f.block_start?f.block_start:-1,f.strstart-f.block_start,$),f.block_start=f.strstart,U(f.strm)}function Ie(f,$){f.pending_buf[f.pending++]=$}function fe(f,$){f.pending_buf[f.pending++]=$>>>8&255,f.pending_buf[f.pending++]=255&$}function ie(f,$){var B,E,b=f.max_chain_length,k=f.strstart,W=f.prev_length,Y=f.nice_match,R=f.strstart>f.w_size-we?f.strstart-(f.w_size-we):0,X=f.window,pe=f.w_mask,ne=f.prev,be=f.strstart+J,ht=X[k+W-1],tt=X[k+W];f.prev_length>=f.good_match&&(b>>=2),Y>f.lookahead&&(Y=f.lookahead);do if(X[(B=$)+W]===tt&&X[B+W-1]===ht&&X[B]===X[k]&&X[++B]===X[k+1]){k+=2,B++;do;while(X[++k]===X[++B]&&X[++k]===X[++B]&&X[++k]===X[++B]&&X[++k]===X[++B]&&X[++k]===X[++B]&&X[++k]===X[++B]&&X[++k]===X[++B]&&X[++k]===X[++B]&&k<be);if(E=J-(be-k),k=be-J,W<E){if(f.match_start=$,Y<=(W=E))break;ht=X[k+W-1],tt=X[k+W]}}while(($=ne[$&pe])>R&&--b!=0);return W<=f.lookahead?W:f.lookahead}function St(f){var $,B,E,b,k,W,Y,R,X,pe,ne=f.w_size;do{if(b=f.window_size-f.lookahead-f.strstart,f.strstart>=ne+(ne-we)){for(i.arraySet(f.window,f.window,ne,ne,0),f.match_start-=ne,f.strstart-=ne,f.block_start-=ne,$=B=f.hash_size;E=f.head[--$],f.head[$]=ne<=E?E-ne:0,--B;);for($=B=ne;E=f.prev[--$],f.prev[$]=ne<=E?E-ne:0,--B;);b+=ne}if(f.strm.avail_in===0)break;if(W=f.strm,Y=f.window,R=f.strstart+f.lookahead,X=b,pe=void 0,pe=W.avail_in,X<pe&&(pe=X),B=pe===0?0:(W.avail_in-=pe,i.arraySet(Y,W.input,W.next_in,pe,R),W.state.wrap===1?W.adler=s(W.adler,Y,pe,R):W.state.wrap===2&&(W.adler=a(W.adler,Y,pe,R)),W.next_in+=pe,W.total_in+=pe,pe),f.lookahead+=B,f.lookahead+f.insert>=H)for(k=f.strstart-f.insert,f.ins_h=f.window[k],f.ins_h=(f.ins_h<<f.hash_shift^f.window[k+1])&f.hash_mask;f.insert&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[k+H-1])&f.hash_mask,f.prev[k&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=k,k++,f.insert--,!(f.lookahead+f.insert<H)););}while(f.lookahead<we&&f.strm.avail_in!==0)}function en(f,$){for(var B,E;;){if(f.lookahead<we){if(St(f),f.lookahead<we&&$===l)return v;if(f.lookahead===0)break}if(B=0,f.lookahead>=H&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+H-1])&f.hash_mask,B=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),B!==0&&f.strstart-B<=f.w_size-we&&(f.match_length=ie(f,B)),f.match_length>=H)if(E=o._tr_tally(f,f.strstart-f.match_start,f.match_length-H),f.lookahead-=f.match_length,f.match_length<=f.max_lazy_match&&f.lookahead>=H){for(f.match_length--;f.strstart++,f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+H-1])&f.hash_mask,B=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart,--f.match_length!=0;);f.strstart++}else f.strstart+=f.match_length,f.match_length=0,f.ins_h=f.window[f.strstart],f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+1])&f.hash_mask;else E=o._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++;if(E&&(O(f,!1),f.strm.avail_out===0))return v}return f.insert=f.strstart<H-1?f.strstart:H-1,$===u?(O(f,!0),f.strm.avail_out===0?Ue:Q):f.last_lit&&(O(f,!1),f.strm.avail_out===0)?v:K}function et(f,$){for(var B,E,b;;){if(f.lookahead<we){if(St(f),f.lookahead<we&&$===l)return v;if(f.lookahead===0)break}if(B=0,f.lookahead>=H&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+H-1])&f.hash_mask,B=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),f.prev_length=f.match_length,f.prev_match=f.match_start,f.match_length=H-1,B!==0&&f.prev_length<f.max_lazy_match&&f.strstart-B<=f.w_size-we&&(f.match_length=ie(f,B),f.match_length<=5&&(f.strategy===1||f.match_length===H&&4096<f.strstart-f.match_start)&&(f.match_length=H-1)),f.prev_length>=H&&f.match_length<=f.prev_length){for(b=f.strstart+f.lookahead-H,E=o._tr_tally(f,f.strstart-1-f.prev_match,f.prev_length-H),f.lookahead-=f.prev_length-1,f.prev_length-=2;++f.strstart<=b&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+H-1])&f.hash_mask,B=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),--f.prev_length!=0;);if(f.match_available=0,f.match_length=H-1,f.strstart++,E&&(O(f,!1),f.strm.avail_out===0))return v}else if(f.match_available){if((E=o._tr_tally(f,0,f.window[f.strstart-1]))&&O(f,!1),f.strstart++,f.lookahead--,f.strm.avail_out===0)return v}else f.match_available=1,f.strstart++,f.lookahead--}return f.match_available&&(E=o._tr_tally(f,0,f.window[f.strstart-1]),f.match_available=0),f.insert=f.strstart<H-1?f.strstart:H-1,$===u?(O(f,!0),f.strm.avail_out===0?Ue:Q):f.last_lit&&(O(f,!1),f.strm.avail_out===0)?v:K}function st(f,$,B,E,b){this.good_length=f,this.max_lazy=$,this.nice_length=B,this.max_chain=E,this.func=b}function Gt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*P),this.dyn_dtree=new i.Buf16(2*(2*_+1)),this.bl_tree=new i.Buf16(2*(2*L+1)),Ae(this.dyn_ltree),Ae(this.dyn_dtree),Ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(G+1),this.heap=new i.Buf16(2*A+1),Ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*A+1),Ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function At(f){var $;return f&&f.state?(f.total_in=f.total_out=0,f.data_type=g,($=f.state).pending=0,$.pending_out=0,$.wrap<0&&($.wrap=-$.wrap),$.status=$.wrap?I:V,f.adler=$.wrap===2?0:1,$.last_flush=l,o._tr_init($),d):Ye(f,p)}function Ar(f){var $=At(f);return $===d&&function(B){B.window_size=2*B.w_size,Ae(B.head),B.max_lazy_match=r[B.level].max_lazy,B.good_match=r[B.level].good_length,B.nice_match=r[B.level].nice_length,B.max_chain_length=r[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=H-1,B.match_available=0,B.ins_h=0}(f.state),$}function cr(f,$,B,E,b,k){if(!f)return p;var W=1;if($===h&&($=6),E<0?(W=0,E=-E):15<E&&(W=2,E-=16),b<1||w<b||B!==y||E<8||15<E||$<0||9<$||k<0||m<k)return Ye(f,p);E===8&&(E=9);var Y=new Gt;return(f.state=Y).strm=f,Y.wrap=W,Y.gzhead=null,Y.w_bits=E,Y.w_size=1<<Y.w_bits,Y.w_mask=Y.w_size-1,Y.hash_bits=b+7,Y.hash_size=1<<Y.hash_bits,Y.hash_mask=Y.hash_size-1,Y.hash_shift=~~((Y.hash_bits+H-1)/H),Y.window=new i.Buf8(2*Y.w_size),Y.head=new i.Buf16(Y.hash_size),Y.prev=new i.Buf16(Y.w_size),Y.lit_bufsize=1<<b+6,Y.pending_buf_size=4*Y.lit_bufsize,Y.pending_buf=new i.Buf8(Y.pending_buf_size),Y.d_buf=1*Y.lit_bufsize,Y.l_buf=3*Y.lit_bufsize,Y.level=$,Y.strategy=k,Y.method=B,Ar(f)}r=[new st(0,0,0,0,function(f,$){var B=65535;for(B>f.pending_buf_size-5&&(B=f.pending_buf_size-5);;){if(f.lookahead<=1){if(St(f),f.lookahead===0&&$===l)return v;if(f.lookahead===0)break}f.strstart+=f.lookahead,f.lookahead=0;var E=f.block_start+B;if((f.strstart===0||f.strstart>=E)&&(f.lookahead=f.strstart-E,f.strstart=E,O(f,!1),f.strm.avail_out===0)||f.strstart-f.block_start>=f.w_size-we&&(O(f,!1),f.strm.avail_out===0))return v}return f.insert=0,$===u?(O(f,!0),f.strm.avail_out===0?Ue:Q):(f.strstart>f.block_start&&(O(f,!1),f.strm.avail_out),v)}),new st(4,4,8,4,en),new st(4,5,16,8,en),new st(4,6,32,32,en),new st(4,4,16,16,et),new st(8,16,32,32,et),new st(8,16,128,128,et),new st(8,32,128,256,et),new st(32,128,258,1024,et),new st(32,258,258,4096,et)],t.deflateInit=function(f,$){return cr(f,$,y,15,8,0)},t.deflateInit2=cr,t.deflateReset=Ar,t.deflateResetKeep=At,t.deflateSetHeader=function(f,$){return f&&f.state?f.state.wrap!==2?p:(f.state.gzhead=$,d):p},t.deflate=function(f,$){var B,E,b,k;if(!f||!f.state||5<$||$<0)return f?Ye(f,p):p;if(E=f.state,!f.output||!f.input&&f.avail_in!==0||E.status===666&&$!==u)return Ye(f,f.avail_out===0?-5:p);if(E.strm=f,B=E.last_flush,E.last_flush=$,E.status===I)if(E.wrap===2)f.adler=0,Ie(E,31),Ie(E,139),Ie(E,8),E.gzhead?(Ie(E,(E.gzhead.text?1:0)+(E.gzhead.hcrc?2:0)+(E.gzhead.extra?4:0)+(E.gzhead.name?8:0)+(E.gzhead.comment?16:0)),Ie(E,255&E.gzhead.time),Ie(E,E.gzhead.time>>8&255),Ie(E,E.gzhead.time>>16&255),Ie(E,E.gzhead.time>>24&255),Ie(E,E.level===9?2:2<=E.strategy||E.level<2?4:0),Ie(E,255&E.gzhead.os),E.gzhead.extra&&E.gzhead.extra.length&&(Ie(E,255&E.gzhead.extra.length),Ie(E,E.gzhead.extra.length>>8&255)),E.gzhead.hcrc&&(f.adler=a(f.adler,E.pending_buf,E.pending,0)),E.gzindex=0,E.status=69):(Ie(E,0),Ie(E,0),Ie(E,0),Ie(E,0),Ie(E,0),Ie(E,E.level===9?2:2<=E.strategy||E.level<2?4:0),Ie(E,3),E.status=V);else{var W=y+(E.w_bits-8<<4)<<8;W|=(2<=E.strategy||E.level<2?0:E.level<6?1:E.level===6?2:3)<<6,E.strstart!==0&&(W|=32),W+=31-W%31,E.status=V,fe(E,W),E.strstart!==0&&(fe(E,f.adler>>>16),fe(E,65535&f.adler)),f.adler=1}if(E.status===69)if(E.gzhead.extra){for(b=E.pending;E.gzindex<(65535&E.gzhead.extra.length)&&(E.pending!==E.pending_buf_size||(E.gzhead.hcrc&&E.pending>b&&(f.adler=a(f.adler,E.pending_buf,E.pending-b,b)),U(f),b=E.pending,E.pending!==E.pending_buf_size));)Ie(E,255&E.gzhead.extra[E.gzindex]),E.gzindex++;E.gzhead.hcrc&&E.pending>b&&(f.adler=a(f.adler,E.pending_buf,E.pending-b,b)),E.gzindex===E.gzhead.extra.length&&(E.gzindex=0,E.status=73)}else E.status=73;if(E.status===73)if(E.gzhead.name){b=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>b&&(f.adler=a(f.adler,E.pending_buf,E.pending-b,b)),U(f),b=E.pending,E.pending===E.pending_buf_size)){k=1;break}k=E.gzindex<E.gzhead.name.length?255&E.gzhead.name.charCodeAt(E.gzindex++):0,Ie(E,k)}while(k!==0);E.gzhead.hcrc&&E.pending>b&&(f.adler=a(f.adler,E.pending_buf,E.pending-b,b)),k===0&&(E.gzindex=0,E.status=91)}else E.status=91;if(E.status===91)if(E.gzhead.comment){b=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>b&&(f.adler=a(f.adler,E.pending_buf,E.pending-b,b)),U(f),b=E.pending,E.pending===E.pending_buf_size)){k=1;break}k=E.gzindex<E.gzhead.comment.length?255&E.gzhead.comment.charCodeAt(E.gzindex++):0,Ie(E,k)}while(k!==0);E.gzhead.hcrc&&E.pending>b&&(f.adler=a(f.adler,E.pending_buf,E.pending-b,b)),k===0&&(E.status=103)}else E.status=103;if(E.status===103&&(E.gzhead.hcrc?(E.pending+2>E.pending_buf_size&&U(f),E.pending+2<=E.pending_buf_size&&(Ie(E,255&f.adler),Ie(E,f.adler>>8&255),f.adler=0,E.status=V)):E.status=V),E.pending!==0){if(U(f),f.avail_out===0)return E.last_flush=-1,d}else if(f.avail_in===0&&Z($)<=Z(B)&&$!==u)return Ye(f,-5);if(E.status===666&&f.avail_in!==0)return Ye(f,-5);if(f.avail_in!==0||E.lookahead!==0||$!==l&&E.status!==666){var Y=E.strategy===2?function(R,X){for(var pe;;){if(R.lookahead===0&&(St(R),R.lookahead===0)){if(X===l)return v;break}if(R.match_length=0,pe=o._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++,pe&&(O(R,!1),R.strm.avail_out===0))return v}return R.insert=0,X===u?(O(R,!0),R.strm.avail_out===0?Ue:Q):R.last_lit&&(O(R,!1),R.strm.avail_out===0)?v:K}(E,$):E.strategy===3?function(R,X){for(var pe,ne,be,ht,tt=R.window;;){if(R.lookahead<=J){if(St(R),R.lookahead<=J&&X===l)return v;if(R.lookahead===0)break}if(R.match_length=0,R.lookahead>=H&&0<R.strstart&&(ne=tt[be=R.strstart-1])===tt[++be]&&ne===tt[++be]&&ne===tt[++be]){ht=R.strstart+J;do;while(ne===tt[++be]&&ne===tt[++be]&&ne===tt[++be]&&ne===tt[++be]&&ne===tt[++be]&&ne===tt[++be]&&ne===tt[++be]&&ne===tt[++be]&&be<ht);R.match_length=J-(ht-be),R.match_length>R.lookahead&&(R.match_length=R.lookahead)}if(R.match_length>=H?(pe=o._tr_tally(R,1,R.match_length-H),R.lookahead-=R.match_length,R.strstart+=R.match_length,R.match_length=0):(pe=o._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++),pe&&(O(R,!1),R.strm.avail_out===0))return v}return R.insert=0,X===u?(O(R,!0),R.strm.avail_out===0?Ue:Q):R.last_lit&&(O(R,!1),R.strm.avail_out===0)?v:K}(E,$):r[E.level].func(E,$);if(Y!==Ue&&Y!==Q||(E.status=666),Y===v||Y===Ue)return f.avail_out===0&&(E.last_flush=-1),d;if(Y===K&&($===1?o._tr_align(E):$!==5&&(o._tr_stored_block(E,0,0,!1),$===3&&(Ae(E.head),E.lookahead===0&&(E.strstart=0,E.block_start=0,E.insert=0))),U(f),f.avail_out===0))return E.last_flush=-1,d}return $!==u?d:E.wrap<=0?1:(E.wrap===2?(Ie(E,255&f.adler),Ie(E,f.adler>>8&255),Ie(E,f.adler>>16&255),Ie(E,f.adler>>24&255),Ie(E,255&f.total_in),Ie(E,f.total_in>>8&255),Ie(E,f.total_in>>16&255),Ie(E,f.total_in>>24&255)):(fe(E,f.adler>>>16),fe(E,65535&f.adler)),U(f),0<E.wrap&&(E.wrap=-E.wrap),E.pending!==0?d:1)},t.deflateEnd=function(f){var $;return f&&f.state?($=f.state.status)!==I&&$!==69&&$!==73&&$!==91&&$!==103&&$!==V&&$!==666?Ye(f,p):(f.state=null,$===V?Ye(f,-3):d):p},t.deflateSetDictionary=function(f,$){var B,E,b,k,W,Y,R,X,pe=$.length;if(!f||!f.state||(k=(B=f.state).wrap)===2||k===1&&B.status!==I||B.lookahead)return p;for(k===1&&(f.adler=s(f.adler,$,pe,0)),B.wrap=0,pe>=B.w_size&&(k===0&&(Ae(B.head),B.strstart=0,B.block_start=0,B.insert=0),X=new i.Buf8(B.w_size),i.arraySet(X,$,pe-B.w_size,B.w_size,0),$=X,pe=B.w_size),W=f.avail_in,Y=f.next_in,R=f.input,f.avail_in=pe,f.next_in=0,f.input=$,St(B);B.lookahead>=H;){for(E=B.strstart,b=B.lookahead-(H-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[E+H-1])&B.hash_mask,B.prev[E&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=E,E++,--b;);B.strstart=E,B.lookahead=H-1,St(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=H-1,B.match_available=0,f.next_in=Y,f.input=R,f.avail_in=W,B.wrap=k,d},t.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,e,t){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,e,t){"use strict";e.exports=function(r,i){var o,s,a,c,l,u,d,p,h,m,g,y,w,A,_,L,P,G,H,J,we,I,V,v,K;o=r.state,s=r.next_in,v=r.input,a=s+(r.avail_in-5),c=r.next_out,K=r.output,l=c-(i-r.avail_out),u=c+(r.avail_out-257),d=o.dmax,p=o.wsize,h=o.whave,m=o.wnext,g=o.window,y=o.hold,w=o.bits,A=o.lencode,_=o.distcode,L=(1<<o.lenbits)-1,P=(1<<o.distbits)-1;e:do{w<15&&(y+=v[s++]<<w,w+=8,y+=v[s++]<<w,w+=8),G=A[y&L];t:for(;;){if(y>>>=H=G>>>24,w-=H,(H=G>>>16&255)===0)K[c++]=65535&G;else{if(!(16&H)){if(!(64&H)){G=A[(65535&G)+(y&(1<<H)-1)];continue t}if(32&H){o.mode=12;break e}r.msg="invalid literal/length code",o.mode=30;break e}J=65535&G,(H&=15)&&(w<H&&(y+=v[s++]<<w,w+=8),J+=y&(1<<H)-1,y>>>=H,w-=H),w<15&&(y+=v[s++]<<w,w+=8,y+=v[s++]<<w,w+=8),G=_[y&P];n:for(;;){if(y>>>=H=G>>>24,w-=H,!(16&(H=G>>>16&255))){if(!(64&H)){G=_[(65535&G)+(y&(1<<H)-1)];continue n}r.msg="invalid distance code",o.mode=30;break e}if(we=65535&G,w<(H&=15)&&(y+=v[s++]<<w,(w+=8)<H&&(y+=v[s++]<<w,w+=8)),d<(we+=y&(1<<H)-1)){r.msg="invalid distance too far back",o.mode=30;break e}if(y>>>=H,w-=H,(H=c-l)<we){if(h<(H=we-H)&&o.sane){r.msg="invalid distance too far back",o.mode=30;break e}if(V=g,(I=0)===m){if(I+=p-H,H<J){for(J-=H;K[c++]=g[I++],--H;);I=c-we,V=K}}else if(m<H){if(I+=p+m-H,(H-=m)<J){for(J-=H;K[c++]=g[I++],--H;);if(I=0,m<J){for(J-=H=m;K[c++]=g[I++],--H;);I=c-we,V=K}}}else if(I+=m-H,H<J){for(J-=H;K[c++]=g[I++],--H;);I=c-we,V=K}for(;2<J;)K[c++]=V[I++],K[c++]=V[I++],K[c++]=V[I++],J-=3;J&&(K[c++]=V[I++],1<J&&(K[c++]=V[I++]))}else{for(I=c-we;K[c++]=K[I++],K[c++]=K[I++],K[c++]=K[I++],2<(J-=3););J&&(K[c++]=K[I++],1<J&&(K[c++]=K[I++]))}break}}break}}while(s<a&&c<u);s-=J=w>>3,y&=(1<<(w-=J<<3))-1,r.next_in=s,r.next_out=c,r.avail_in=s<a?a-s+5:5-(s-a),r.avail_out=c<u?u-c+257:257-(c-u),o.hold=y,o.bits=w}},{}],49:[function(n,e,t){"use strict";var r=n("../utils/common"),i=n("./adler32"),o=n("./crc32"),s=n("./inffast"),a=n("./inftrees"),c=1,l=2,u=0,d=-2,p=1,h=852,m=592;function g(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(I){var V;return I&&I.state?(V=I.state,I.total_in=I.total_out=V.total=0,I.msg="",V.wrap&&(I.adler=1&V.wrap),V.mode=p,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new r.Buf32(h),V.distcode=V.distdyn=new r.Buf32(m),V.sane=1,V.back=-1,u):d}function A(I){var V;return I&&I.state?((V=I.state).wsize=0,V.whave=0,V.wnext=0,w(I)):d}function _(I,V){var v,K;return I&&I.state?(K=I.state,V<0?(v=0,V=-V):(v=1+(V>>4),V<48&&(V&=15)),V&&(V<8||15<V)?d:(K.window!==null&&K.wbits!==V&&(K.window=null),K.wrap=v,K.wbits=V,A(I))):d}function L(I,V){var v,K;return I?(K=new y,(I.state=K).window=null,(v=_(I,V))!==u&&(I.state=null),v):d}var P,G,H=!0;function J(I){if(H){var V;for(P=new r.Buf32(512),G=new r.Buf32(32),V=0;V<144;)I.lens[V++]=8;for(;V<256;)I.lens[V++]=9;for(;V<280;)I.lens[V++]=7;for(;V<288;)I.lens[V++]=8;for(a(c,I.lens,0,288,P,0,I.work,{bits:9}),V=0;V<32;)I.lens[V++]=5;a(l,I.lens,0,32,G,0,I.work,{bits:5}),H=!1}I.lencode=P,I.lenbits=9,I.distcode=G,I.distbits=5}function we(I,V,v,K){var Ue,Q=I.state;return Q.window===null&&(Q.wsize=1<<Q.wbits,Q.wnext=0,Q.whave=0,Q.window=new r.Buf8(Q.wsize)),K>=Q.wsize?(r.arraySet(Q.window,V,v-Q.wsize,Q.wsize,0),Q.wnext=0,Q.whave=Q.wsize):(K<(Ue=Q.wsize-Q.wnext)&&(Ue=K),r.arraySet(Q.window,V,v-K,Ue,Q.wnext),(K-=Ue)?(r.arraySet(Q.window,V,v-K,K,0),Q.wnext=K,Q.whave=Q.wsize):(Q.wnext+=Ue,Q.wnext===Q.wsize&&(Q.wnext=0),Q.whave<Q.wsize&&(Q.whave+=Ue))),0}t.inflateReset=A,t.inflateReset2=_,t.inflateResetKeep=w,t.inflateInit=function(I){return L(I,15)},t.inflateInit2=L,t.inflate=function(I,V){var v,K,Ue,Q,Ye,Z,Ae,U,O,Ie,fe,ie,St,en,et,st,Gt,At,Ar,cr,f,$,B,E,b=0,k=new r.Buf8(4),W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return d;(v=I.state).mode===12&&(v.mode=13),Ye=I.next_out,Ue=I.output,Ae=I.avail_out,Q=I.next_in,K=I.input,Z=I.avail_in,U=v.hold,O=v.bits,Ie=Z,fe=Ae,$=u;e:for(;;)switch(v.mode){case p:if(v.wrap===0){v.mode=13;break}for(;O<16;){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}if(2&v.wrap&&U===35615){k[v.check=0]=255&U,k[1]=U>>>8&255,v.check=o(v.check,k,2,0),O=U=0,v.mode=2;break}if(v.flags=0,v.head&&(v.head.done=!1),!(1&v.wrap)||(((255&U)<<8)+(U>>8))%31){I.msg="incorrect header check",v.mode=30;break}if((15&U)!=8){I.msg="unknown compression method",v.mode=30;break}if(O-=4,f=8+(15&(U>>>=4)),v.wbits===0)v.wbits=f;else if(f>v.wbits){I.msg="invalid window size",v.mode=30;break}v.dmax=1<<f,I.adler=v.check=1,v.mode=512&U?10:12,O=U=0;break;case 2:for(;O<16;){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}if(v.flags=U,(255&v.flags)!=8){I.msg="unknown compression method",v.mode=30;break}if(57344&v.flags){I.msg="unknown header flags set",v.mode=30;break}v.head&&(v.head.text=U>>8&1),512&v.flags&&(k[0]=255&U,k[1]=U>>>8&255,v.check=o(v.check,k,2,0)),O=U=0,v.mode=3;case 3:for(;O<32;){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}v.head&&(v.head.time=U),512&v.flags&&(k[0]=255&U,k[1]=U>>>8&255,k[2]=U>>>16&255,k[3]=U>>>24&255,v.check=o(v.check,k,4,0)),O=U=0,v.mode=4;case 4:for(;O<16;){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}v.head&&(v.head.xflags=255&U,v.head.os=U>>8),512&v.flags&&(k[0]=255&U,k[1]=U>>>8&255,v.check=o(v.check,k,2,0)),O=U=0,v.mode=5;case 5:if(1024&v.flags){for(;O<16;){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}v.length=U,v.head&&(v.head.extra_len=U),512&v.flags&&(k[0]=255&U,k[1]=U>>>8&255,v.check=o(v.check,k,2,0)),O=U=0}else v.head&&(v.head.extra=null);v.mode=6;case 6:if(1024&v.flags&&(Z<(ie=v.length)&&(ie=Z),ie&&(v.head&&(f=v.head.extra_len-v.length,v.head.extra||(v.head.extra=new Array(v.head.extra_len)),r.arraySet(v.head.extra,K,Q,ie,f)),512&v.flags&&(v.check=o(v.check,K,ie,Q)),Z-=ie,Q+=ie,v.length-=ie),v.length))break e;v.length=0,v.mode=7;case 7:if(2048&v.flags){if(Z===0)break e;for(ie=0;f=K[Q+ie++],v.head&&f&&v.length<65536&&(v.head.name+=String.fromCharCode(f)),f&&ie<Z;);if(512&v.flags&&(v.check=o(v.check,K,ie,Q)),Z-=ie,Q+=ie,f)break e}else v.head&&(v.head.name=null);v.length=0,v.mode=8;case 8:if(4096&v.flags){if(Z===0)break e;for(ie=0;f=K[Q+ie++],v.head&&f&&v.length<65536&&(v.head.comment+=String.fromCharCode(f)),f&&ie<Z;);if(512&v.flags&&(v.check=o(v.check,K,ie,Q)),Z-=ie,Q+=ie,f)break e}else v.head&&(v.head.comment=null);v.mode=9;case 9:if(512&v.flags){for(;O<16;){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}if(U!==(65535&v.check)){I.msg="header crc mismatch",v.mode=30;break}O=U=0}v.head&&(v.head.hcrc=v.flags>>9&1,v.head.done=!0),I.adler=v.check=0,v.mode=12;break;case 10:for(;O<32;){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}I.adler=v.check=g(U),O=U=0,v.mode=11;case 11:if(v.havedict===0)return I.next_out=Ye,I.avail_out=Ae,I.next_in=Q,I.avail_in=Z,v.hold=U,v.bits=O,2;I.adler=v.check=1,v.mode=12;case 12:if(V===5||V===6)break e;case 13:if(v.last){U>>>=7&O,O-=7&O,v.mode=27;break}for(;O<3;){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}switch(v.last=1&U,O-=1,3&(U>>>=1)){case 0:v.mode=14;break;case 1:if(J(v),v.mode=20,V!==6)break;U>>>=2,O-=2;break e;case 2:v.mode=17;break;case 3:I.msg="invalid block type",v.mode=30}U>>>=2,O-=2;break;case 14:for(U>>>=7&O,O-=7&O;O<32;){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}if((65535&U)!=(U>>>16^65535)){I.msg="invalid stored block lengths",v.mode=30;break}if(v.length=65535&U,O=U=0,v.mode=15,V===6)break e;case 15:v.mode=16;case 16:if(ie=v.length){if(Z<ie&&(ie=Z),Ae<ie&&(ie=Ae),ie===0)break e;r.arraySet(Ue,K,Q,ie,Ye),Z-=ie,Q+=ie,Ae-=ie,Ye+=ie,v.length-=ie;break}v.mode=12;break;case 17:for(;O<14;){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}if(v.nlen=257+(31&U),U>>>=5,O-=5,v.ndist=1+(31&U),U>>>=5,O-=5,v.ncode=4+(15&U),U>>>=4,O-=4,286<v.nlen||30<v.ndist){I.msg="too many length or distance symbols",v.mode=30;break}v.have=0,v.mode=18;case 18:for(;v.have<v.ncode;){for(;O<3;){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}v.lens[W[v.have++]]=7&U,U>>>=3,O-=3}for(;v.have<19;)v.lens[W[v.have++]]=0;if(v.lencode=v.lendyn,v.lenbits=7,B={bits:v.lenbits},$=a(0,v.lens,0,19,v.lencode,0,v.work,B),v.lenbits=B.bits,$){I.msg="invalid code lengths set",v.mode=30;break}v.have=0,v.mode=19;case 19:for(;v.have<v.nlen+v.ndist;){for(;st=(b=v.lencode[U&(1<<v.lenbits)-1])>>>16&255,Gt=65535&b,!((et=b>>>24)<=O);){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}if(Gt<16)U>>>=et,O-=et,v.lens[v.have++]=Gt;else{if(Gt===16){for(E=et+2;O<E;){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}if(U>>>=et,O-=et,v.have===0){I.msg="invalid bit length repeat",v.mode=30;break}f=v.lens[v.have-1],ie=3+(3&U),U>>>=2,O-=2}else if(Gt===17){for(E=et+3;O<E;){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}O-=et,f=0,ie=3+(7&(U>>>=et)),U>>>=3,O-=3}else{for(E=et+7;O<E;){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}O-=et,f=0,ie=11+(127&(U>>>=et)),U>>>=7,O-=7}if(v.have+ie>v.nlen+v.ndist){I.msg="invalid bit length repeat",v.mode=30;break}for(;ie--;)v.lens[v.have++]=f}}if(v.mode===30)break;if(v.lens[256]===0){I.msg="invalid code -- missing end-of-block",v.mode=30;break}if(v.lenbits=9,B={bits:v.lenbits},$=a(c,v.lens,0,v.nlen,v.lencode,0,v.work,B),v.lenbits=B.bits,$){I.msg="invalid literal/lengths set",v.mode=30;break}if(v.distbits=6,v.distcode=v.distdyn,B={bits:v.distbits},$=a(l,v.lens,v.nlen,v.ndist,v.distcode,0,v.work,B),v.distbits=B.bits,$){I.msg="invalid distances set",v.mode=30;break}if(v.mode=20,V===6)break e;case 20:v.mode=21;case 21:if(6<=Z&&258<=Ae){I.next_out=Ye,I.avail_out=Ae,I.next_in=Q,I.avail_in=Z,v.hold=U,v.bits=O,s(I,fe),Ye=I.next_out,Ue=I.output,Ae=I.avail_out,Q=I.next_in,K=I.input,Z=I.avail_in,U=v.hold,O=v.bits,v.mode===12&&(v.back=-1);break}for(v.back=0;st=(b=v.lencode[U&(1<<v.lenbits)-1])>>>16&255,Gt=65535&b,!((et=b>>>24)<=O);){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}if(st&&!(240&st)){for(At=et,Ar=st,cr=Gt;st=(b=v.lencode[cr+((U&(1<<At+Ar)-1)>>At)])>>>16&255,Gt=65535&b,!(At+(et=b>>>24)<=O);){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}U>>>=At,O-=At,v.back+=At}if(U>>>=et,O-=et,v.back+=et,v.length=Gt,st===0){v.mode=26;break}if(32&st){v.back=-1,v.mode=12;break}if(64&st){I.msg="invalid literal/length code",v.mode=30;break}v.extra=15&st,v.mode=22;case 22:if(v.extra){for(E=v.extra;O<E;){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}v.length+=U&(1<<v.extra)-1,U>>>=v.extra,O-=v.extra,v.back+=v.extra}v.was=v.length,v.mode=23;case 23:for(;st=(b=v.distcode[U&(1<<v.distbits)-1])>>>16&255,Gt=65535&b,!((et=b>>>24)<=O);){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}if(!(240&st)){for(At=et,Ar=st,cr=Gt;st=(b=v.distcode[cr+((U&(1<<At+Ar)-1)>>At)])>>>16&255,Gt=65535&b,!(At+(et=b>>>24)<=O);){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}U>>>=At,O-=At,v.back+=At}if(U>>>=et,O-=et,v.back+=et,64&st){I.msg="invalid distance code",v.mode=30;break}v.offset=Gt,v.extra=15&st,v.mode=24;case 24:if(v.extra){for(E=v.extra;O<E;){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}v.offset+=U&(1<<v.extra)-1,U>>>=v.extra,O-=v.extra,v.back+=v.extra}if(v.offset>v.dmax){I.msg="invalid distance too far back",v.mode=30;break}v.mode=25;case 25:if(Ae===0)break e;if(ie=fe-Ae,v.offset>ie){if((ie=v.offset-ie)>v.whave&&v.sane){I.msg="invalid distance too far back",v.mode=30;break}St=ie>v.wnext?(ie-=v.wnext,v.wsize-ie):v.wnext-ie,ie>v.length&&(ie=v.length),en=v.window}else en=Ue,St=Ye-v.offset,ie=v.length;for(Ae<ie&&(ie=Ae),Ae-=ie,v.length-=ie;Ue[Ye++]=en[St++],--ie;);v.length===0&&(v.mode=21);break;case 26:if(Ae===0)break e;Ue[Ye++]=v.length,Ae--,v.mode=21;break;case 27:if(v.wrap){for(;O<32;){if(Z===0)break e;Z--,U|=K[Q++]<<O,O+=8}if(fe-=Ae,I.total_out+=fe,v.total+=fe,fe&&(I.adler=v.check=v.flags?o(v.check,Ue,fe,Ye-fe):i(v.check,Ue,fe,Ye-fe)),fe=Ae,(v.flags?U:g(U))!==v.check){I.msg="incorrect data check",v.mode=30;break}O=U=0}v.mode=28;case 28:if(v.wrap&&v.flags){for(;O<32;){if(Z===0)break e;Z--,U+=K[Q++]<<O,O+=8}if(U!==(4294967295&v.total)){I.msg="incorrect length check",v.mode=30;break}O=U=0}v.mode=29;case 29:$=1;break e;case 30:$=-3;break e;case 31:return-4;case 32:default:return d}return I.next_out=Ye,I.avail_out=Ae,I.next_in=Q,I.avail_in=Z,v.hold=U,v.bits=O,(v.wsize||fe!==I.avail_out&&v.mode<30&&(v.mode<27||V!==4))&&we(I,I.output,I.next_out,fe-I.avail_out)?(v.mode=31,-4):(Ie-=I.avail_in,fe-=I.avail_out,I.total_in+=Ie,I.total_out+=fe,v.total+=fe,v.wrap&&fe&&(I.adler=v.check=v.flags?o(v.check,Ue,fe,I.next_out-fe):i(v.check,Ue,fe,I.next_out-fe)),I.data_type=v.bits+(v.last?64:0)+(v.mode===12?128:0)+(v.mode===20||v.mode===15?256:0),(Ie==0&&fe===0||V===4)&&$===u&&($=-5),$)},t.inflateEnd=function(I){if(!I||!I.state)return d;var V=I.state;return V.window&&(V.window=null),I.state=null,u},t.inflateGetHeader=function(I,V){var v;return I&&I.state&&2&(v=I.state).wrap?((v.head=V).done=!1,u):d},t.inflateSetDictionary=function(I,V){var v,K=V.length;return I&&I.state?(v=I.state).wrap!==0&&v.mode!==11?d:v.mode===11&&i(1,V,K,0)!==v.check?-3:we(I,V,K,K)?(v.mode=31,-4):(v.havedict=1,u):d},t.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,e,t){"use strict";var r=n("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(c,l,u,d,p,h,m,g){var y,w,A,_,L,P,G,H,J,we=g.bits,I=0,V=0,v=0,K=0,Ue=0,Q=0,Ye=0,Z=0,Ae=0,U=0,O=null,Ie=0,fe=new r.Buf16(16),ie=new r.Buf16(16),St=null,en=0;for(I=0;I<=15;I++)fe[I]=0;for(V=0;V<d;V++)fe[l[u+V]]++;for(Ue=we,K=15;1<=K&&fe[K]===0;K--);if(K<Ue&&(Ue=K),K===0)return p[h++]=20971520,p[h++]=20971520,g.bits=1,0;for(v=1;v<K&&fe[v]===0;v++);for(Ue<v&&(Ue=v),I=Z=1;I<=15;I++)if(Z<<=1,(Z-=fe[I])<0)return-1;if(0<Z&&(c===0||K!==1))return-1;for(ie[1]=0,I=1;I<15;I++)ie[I+1]=ie[I]+fe[I];for(V=0;V<d;V++)l[u+V]!==0&&(m[ie[l[u+V]]++]=V);if(P=c===0?(O=St=m,19):c===1?(O=i,Ie-=257,St=o,en-=257,256):(O=s,St=a,-1),I=v,L=h,Ye=V=U=0,A=-1,_=(Ae=1<<(Q=Ue))-1,c===1&&852<Ae||c===2&&592<Ae)return 1;for(;;){for(G=I-Ye,J=m[V]<P?(H=0,m[V]):m[V]>P?(H=St[en+m[V]],O[Ie+m[V]]):(H=96,0),y=1<<I-Ye,v=w=1<<Q;p[L+(U>>Ye)+(w-=y)]=G<<24|H<<16|J|0,w!==0;);for(y=1<<I-1;U&y;)y>>=1;if(y!==0?(U&=y-1,U+=y):U=0,V++,--fe[I]==0){if(I===K)break;I=l[u+m[V]]}if(Ue<I&&(U&_)!==A){for(Ye===0&&(Ye=Ue),L+=v,Z=1<<(Q=I-Ye);Q+Ye<K&&!((Z-=fe[Q+Ye])<=0);)Q++,Z<<=1;if(Ae+=1<<Q,c===1&&852<Ae||c===2&&592<Ae)return 1;p[A=U&_]=Ue<<24|Q<<16|L-h|0}}return U!==0&&(p[L+U]=I-Ye<<24|64<<16|0),g.bits=Ue,0}},{"../utils/common":41}],51:[function(n,e,t){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,e,t){"use strict";var r=n("../utils/common"),i=0,o=1;function s(b){for(var k=b.length;0<=--k;)b[k]=0}var a=0,c=29,l=256,u=l+1+c,d=30,p=19,h=2*u+1,m=15,g=16,y=7,w=256,A=16,_=17,L=18,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],G=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],we=new Array(2*(u+2));s(we);var I=new Array(2*d);s(I);var V=new Array(512);s(V);var v=new Array(256);s(v);var K=new Array(c);s(K);var Ue,Q,Ye,Z=new Array(d);function Ae(b,k,W,Y,R){this.static_tree=b,this.extra_bits=k,this.extra_base=W,this.elems=Y,this.max_length=R,this.has_stree=b&&b.length}function U(b,k){this.dyn_tree=b,this.max_code=0,this.stat_desc=k}function O(b){return b<256?V[b]:V[256+(b>>>7)]}function Ie(b,k){b.pending_buf[b.pending++]=255&k,b.pending_buf[b.pending++]=k>>>8&255}function fe(b,k,W){b.bi_valid>g-W?(b.bi_buf|=k<<b.bi_valid&65535,Ie(b,b.bi_buf),b.bi_buf=k>>g-b.bi_valid,b.bi_valid+=W-g):(b.bi_buf|=k<<b.bi_valid&65535,b.bi_valid+=W)}function ie(b,k,W){fe(b,W[2*k],W[2*k+1])}function St(b,k){for(var W=0;W|=1&b,b>>>=1,W<<=1,0<--k;);return W>>>1}function en(b,k,W){var Y,R,X=new Array(m+1),pe=0;for(Y=1;Y<=m;Y++)X[Y]=pe=pe+W[Y-1]<<1;for(R=0;R<=k;R++){var ne=b[2*R+1];ne!==0&&(b[2*R]=St(X[ne]++,ne))}}function et(b){var k;for(k=0;k<u;k++)b.dyn_ltree[2*k]=0;for(k=0;k<d;k++)b.dyn_dtree[2*k]=0;for(k=0;k<p;k++)b.bl_tree[2*k]=0;b.dyn_ltree[2*w]=1,b.opt_len=b.static_len=0,b.last_lit=b.matches=0}function st(b){8<b.bi_valid?Ie(b,b.bi_buf):0<b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0}function Gt(b,k,W,Y){var R=2*k,X=2*W;return b[R]<b[X]||b[R]===b[X]&&Y[k]<=Y[W]}function At(b,k,W){for(var Y=b.heap[W],R=W<<1;R<=b.heap_len&&(R<b.heap_len&&Gt(k,b.heap[R+1],b.heap[R],b.depth)&&R++,!Gt(k,Y,b.heap[R],b.depth));)b.heap[W]=b.heap[R],W=R,R<<=1;b.heap[W]=Y}function Ar(b,k,W){var Y,R,X,pe,ne=0;if(b.last_lit!==0)for(;Y=b.pending_buf[b.d_buf+2*ne]<<8|b.pending_buf[b.d_buf+2*ne+1],R=b.pending_buf[b.l_buf+ne],ne++,Y===0?ie(b,R,k):(ie(b,(X=v[R])+l+1,k),(pe=P[X])!==0&&fe(b,R-=K[X],pe),ie(b,X=O(--Y),W),(pe=G[X])!==0&&fe(b,Y-=Z[X],pe)),ne<b.last_lit;);ie(b,w,k)}function cr(b,k){var W,Y,R,X=k.dyn_tree,pe=k.stat_desc.static_tree,ne=k.stat_desc.has_stree,be=k.stat_desc.elems,ht=-1;for(b.heap_len=0,b.heap_max=h,W=0;W<be;W++)X[2*W]!==0?(b.heap[++b.heap_len]=ht=W,b.depth[W]=0):X[2*W+1]=0;for(;b.heap_len<2;)X[2*(R=b.heap[++b.heap_len]=ht<2?++ht:0)]=1,b.depth[R]=0,b.opt_len--,ne&&(b.static_len-=pe[2*R+1]);for(k.max_code=ht,W=b.heap_len>>1;1<=W;W--)At(b,X,W);for(R=be;W=b.heap[1],b.heap[1]=b.heap[b.heap_len--],At(b,X,1),Y=b.heap[1],b.heap[--b.heap_max]=W,b.heap[--b.heap_max]=Y,X[2*R]=X[2*W]+X[2*Y],b.depth[R]=(b.depth[W]>=b.depth[Y]?b.depth[W]:b.depth[Y])+1,X[2*W+1]=X[2*Y+1]=R,b.heap[1]=R++,At(b,X,1),2<=b.heap_len;);b.heap[--b.heap_max]=b.heap[1],function(tt,$n){var Xc,Dr,el,Dt,gd,vm,ni=$n.dyn_tree,jb=$n.max_code,cD=$n.stat_desc.static_tree,lD=$n.stat_desc.has_stree,uD=$n.stat_desc.extra_bits,Vb=$n.stat_desc.extra_base,tl=$n.stat_desc.max_length,vd=0;for(Dt=0;Dt<=m;Dt++)tt.bl_count[Dt]=0;for(ni[2*tt.heap[tt.heap_max]+1]=0,Xc=tt.heap_max+1;Xc<h;Xc++)tl<(Dt=ni[2*ni[2*(Dr=tt.heap[Xc])+1]+1]+1)&&(Dt=tl,vd++),ni[2*Dr+1]=Dt,jb<Dr||(tt.bl_count[Dt]++,gd=0,Vb<=Dr&&(gd=uD[Dr-Vb]),vm=ni[2*Dr],tt.opt_len+=vm*(Dt+gd),lD&&(tt.static_len+=vm*(cD[2*Dr+1]+gd)));if(vd!==0){do{for(Dt=tl-1;tt.bl_count[Dt]===0;)Dt--;tt.bl_count[Dt]--,tt.bl_count[Dt+1]+=2,tt.bl_count[tl]--,vd-=2}while(0<vd);for(Dt=tl;Dt!==0;Dt--)for(Dr=tt.bl_count[Dt];Dr!==0;)jb<(el=tt.heap[--Xc])||(ni[2*el+1]!==Dt&&(tt.opt_len+=(Dt-ni[2*el+1])*ni[2*el],ni[2*el+1]=Dt),Dr--)}}(b,k),en(X,ht,b.bl_count)}function f(b,k,W){var Y,R,X=-1,pe=k[1],ne=0,be=7,ht=4;for(pe===0&&(be=138,ht=3),k[2*(W+1)+1]=65535,Y=0;Y<=W;Y++)R=pe,pe=k[2*(Y+1)+1],++ne<be&&R===pe||(ne<ht?b.bl_tree[2*R]+=ne:R!==0?(R!==X&&b.bl_tree[2*R]++,b.bl_tree[2*A]++):ne<=10?b.bl_tree[2*_]++:b.bl_tree[2*L]++,X=R,ht=(ne=0)===pe?(be=138,3):R===pe?(be=6,3):(be=7,4))}function $(b,k,W){var Y,R,X=-1,pe=k[1],ne=0,be=7,ht=4;for(pe===0&&(be=138,ht=3),Y=0;Y<=W;Y++)if(R=pe,pe=k[2*(Y+1)+1],!(++ne<be&&R===pe)){if(ne<ht)for(;ie(b,R,b.bl_tree),--ne!=0;);else R!==0?(R!==X&&(ie(b,R,b.bl_tree),ne--),ie(b,A,b.bl_tree),fe(b,ne-3,2)):ne<=10?(ie(b,_,b.bl_tree),fe(b,ne-3,3)):(ie(b,L,b.bl_tree),fe(b,ne-11,7));X=R,ht=(ne=0)===pe?(be=138,3):R===pe?(be=6,3):(be=7,4)}}s(Z);var B=!1;function E(b,k,W,Y){fe(b,(a<<1)+(Y?1:0),3),function(R,X,pe,ne){st(R),ne&&(Ie(R,pe),Ie(R,~pe)),r.arraySet(R.pending_buf,R.window,X,pe,R.pending),R.pending+=pe}(b,k,W,!0)}t._tr_init=function(b){B||(function(){var k,W,Y,R,X,pe=new Array(m+1);for(R=Y=0;R<c-1;R++)for(K[R]=Y,k=0;k<1<<P[R];k++)v[Y++]=R;for(v[Y-1]=R,R=X=0;R<16;R++)for(Z[R]=X,k=0;k<1<<G[R];k++)V[X++]=R;for(X>>=7;R<d;R++)for(Z[R]=X<<7,k=0;k<1<<G[R]-7;k++)V[256+X++]=R;for(W=0;W<=m;W++)pe[W]=0;for(k=0;k<=143;)we[2*k+1]=8,k++,pe[8]++;for(;k<=255;)we[2*k+1]=9,k++,pe[9]++;for(;k<=279;)we[2*k+1]=7,k++,pe[7]++;for(;k<=287;)we[2*k+1]=8,k++,pe[8]++;for(en(we,u+1,pe),k=0;k<d;k++)I[2*k+1]=5,I[2*k]=St(k,5);Ue=new Ae(we,P,l+1,u,m),Q=new Ae(I,G,0,d,m),Ye=new Ae(new Array(0),H,0,p,y)}(),B=!0),b.l_desc=new U(b.dyn_ltree,Ue),b.d_desc=new U(b.dyn_dtree,Q),b.bl_desc=new U(b.bl_tree,Ye),b.bi_buf=0,b.bi_valid=0,et(b)},t._tr_stored_block=E,t._tr_flush_block=function(b,k,W,Y){var R,X,pe=0;0<b.level?(b.strm.data_type===2&&(b.strm.data_type=function(ne){var be,ht=4093624447;for(be=0;be<=31;be++,ht>>>=1)if(1&ht&&ne.dyn_ltree[2*be]!==0)return i;if(ne.dyn_ltree[18]!==0||ne.dyn_ltree[20]!==0||ne.dyn_ltree[26]!==0)return o;for(be=32;be<l;be++)if(ne.dyn_ltree[2*be]!==0)return o;return i}(b)),cr(b,b.l_desc),cr(b,b.d_desc),pe=function(ne){var be;for(f(ne,ne.dyn_ltree,ne.l_desc.max_code),f(ne,ne.dyn_dtree,ne.d_desc.max_code),cr(ne,ne.bl_desc),be=p-1;3<=be&&ne.bl_tree[2*J[be]+1]===0;be--);return ne.opt_len+=3*(be+1)+5+5+4,be}(b),R=b.opt_len+3+7>>>3,(X=b.static_len+3+7>>>3)<=R&&(R=X)):R=X=W+5,W+4<=R&&k!==-1?E(b,k,W,Y):b.strategy===4||X===R?(fe(b,2+(Y?1:0),3),Ar(b,we,I)):(fe(b,4+(Y?1:0),3),function(ne,be,ht,tt){var $n;for(fe(ne,be-257,5),fe(ne,ht-1,5),fe(ne,tt-4,4),$n=0;$n<tt;$n++)fe(ne,ne.bl_tree[2*J[$n]+1],3);$(ne,ne.dyn_ltree,be-1),$(ne,ne.dyn_dtree,ht-1)}(b,b.l_desc.max_code+1,b.d_desc.max_code+1,pe+1),Ar(b,b.dyn_ltree,b.dyn_dtree)),et(b),Y&&st(b)},t._tr_tally=function(b,k,W){return b.pending_buf[b.d_buf+2*b.last_lit]=k>>>8&255,b.pending_buf[b.d_buf+2*b.last_lit+1]=255&k,b.pending_buf[b.l_buf+b.last_lit]=255&W,b.last_lit++,k===0?b.dyn_ltree[2*W]++:(b.matches++,k--,b.dyn_ltree[2*(v[W]+l+1)]++,b.dyn_dtree[2*O(k)]++),b.last_lit===b.lit_bufsize-1},t._tr_align=function(b){fe(b,2,3),ie(b,w,we),function(k){k.bi_valid===16?(Ie(k,k.bi_buf),k.bi_buf=0,k.bi_valid=0):8<=k.bi_valid&&(k.pending_buf[k.pending++]=255&k.bi_buf,k.bi_buf>>=8,k.bi_valid-=8)}(b)}},{"../utils/common":41}],53:[function(n,e,t){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,e,t){(function(r){(function(i,o){"use strict";if(!i.setImmediate){var s,a,c,l,u=1,d={},p=!1,h=i.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(i);m=m&&m.setTimeout?m:i,s={}.toString.call(i.process)==="[object process]"?function(A){process.nextTick(function(){y(A)})}:function(){if(i.postMessage&&!i.importScripts){var A=!0,_=i.onmessage;return i.onmessage=function(){A=!1},i.postMessage("","*"),i.onmessage=_,A}}()?(l="setImmediate$"+Math.random()+"$",i.addEventListener?i.addEventListener("message",w,!1):i.attachEvent("onmessage",w),function(A){i.postMessage(l+A,"*")}):i.MessageChannel?((c=new MessageChannel).port1.onmessage=function(A){y(A.data)},function(A){c.port2.postMessage(A)}):h&&"onreadystatechange"in h.createElement("script")?(a=h.documentElement,function(A){var _=h.createElement("script");_.onreadystatechange=function(){y(A),_.onreadystatechange=null,a.removeChild(_),_=null},a.appendChild(_)}):function(A){setTimeout(y,0,A)},m.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var _=new Array(arguments.length-1),L=0;L<_.length;L++)_[L]=arguments[L+1];var P={callback:A,args:_};return d[u]=P,s(u),u++},m.clearImmediate=g}function g(A){delete d[A]}function y(A){if(p)setTimeout(y,0,A);else{var _=d[A];if(_){p=!0;try{(function(L){var P=L.callback,G=L.args;switch(G.length){case 0:P();break;case 1:P(G[0]);break;case 2:P(G[0],G[1]);break;case 3:P(G[0],G[1],G[2]);break;default:P.apply(o,G)}})(_)}finally{g(A),p=!1}}}}function w(A){A.source===i&&typeof A.data=="string"&&A.data.indexOf(l)===0&&y(+A.data.slice(l.length))}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});function Qb(n,e){return Object.is(n,e)}var Lt=null,yd=!1,Cd=1,Gi=Symbol("SIGNAL");function it(n){let e=Lt;return Lt=n,e}function Zb(){return Lt}var ol={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bm(n){if(yd)throw new Error("");if(Lt===null)return;Lt.consumerOnSignalRead(n);let e=Lt.nextProducerIndex++;if(_d(Lt),e<Lt.producerNode.length&&Lt.producerNode[e]!==n&&il(Lt)){let t=Lt.producerNode[e];Ed(t,Lt.producerIndexOfThis[e])}Lt.producerNode[e]!==n&&(Lt.producerNode[e]=n,Lt.producerIndexOfThis[e]=il(Lt)?tw(n,Lt,e):0),Lt.producerLastReadVersion[e]=n.version}function dD(){Cd++}function Jb(n){if(!(il(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Cd)){if(!n.producerMustRecompute(n)&&!Em(n)){n.dirty=!1,n.lastCleanEpoch=Cd;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Cd}}function Xb(n){if(n.liveConsumerNode===void 0)return;let e=yd;yd=!0;try{for(let t of n.liveConsumerNode)t.dirty||hD(t)}finally{yd=e}}function ew(){return Lt?.consumerAllowSignalWrites!==!1}function hD(n){n.dirty=!0,Xb(n),n.consumerMarkedDirty?.(n)}function wd(n){return n&&(n.nextProducerIndex=0),it(n)}function wm(n,e){if(it(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(il(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ed(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Em(n){_d(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Jb(t),r!==t.version))return!0}return!1}function _m(n){if(_d(n),il(n))for(let e=0;e<n.producerNode.length;e++)Ed(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function tw(n,e,t){if(nw(n),n.liveConsumerNode.length===0&&rw(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=tw(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Ed(n,e){if(nw(n),n.liveConsumerNode.length===1&&rw(n))for(let r=0;r<n.producerNode.length;r++)Ed(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];_d(i),i.producerIndexOfThis[r]=e}}function il(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function _d(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function nw(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function rw(n){return n.producerNode!==void 0}function iw(n){let e=Object.create(fD);e.computation=n;let t=()=>{if(Jb(e),bm(e),e.value===bd)throw e.error;return e.value};return t[Gi]=e,t}var ym=Symbol("UNSET"),Cm=Symbol("COMPUTING"),bd=Symbol("ERRORED"),fD=re(M({},ol),{value:ym,dirty:!0,error:null,equal:Qb,producerMustRecompute(n){return n.value===ym||n.value===Cm},producerRecomputeValue(n){if(n.value===Cm)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Cm;let t=wd(n),r;try{r=n.computation()}catch(i){r=bd,n.error=i}finally{wm(n,t)}if(e!==ym&&e!==bd&&r!==bd&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function pD(){throw new Error}var ow=pD;function sw(){ow()}function aw(n){ow=n}var mD=null;function cw(n){let e=Object.create(uw);e.value=n;let t=()=>(bm(e),e.value);return t[Gi]=e,t}function Im(n,e){ew()||sw(),n.equal(n.value,e)||(n.value=e,gD(n))}function lw(n,e){ew()||sw(),Im(n,e(n.value))}var uw=re(M({},ol),{equal:Qb,value:void 0});function gD(n){n.version++,dD(),Xb(n),mD?.()}function Ee(n){return typeof n=="function"}function ea(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Id=ea(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function sl(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ft=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Ee(r))try{r()}catch(o){e=o instanceof Id?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{dw(o)}catch(s){e=e??[],s instanceof Id?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Id(e)}}add(e){var t;if(e&&e!==this)if(this.closed)dw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&sl(t,e)}remove(e){let{_finalizers:t}=this;t&&sl(t,e),e instanceof n&&e._removeParent(this)}};Ft.EMPTY=(()=>{let n=new Ft;return n.closed=!0,n})();var Tm=Ft.EMPTY;function Td(n){return n instanceof Ft||n&&"closed"in n&&Ee(n.remove)&&Ee(n.add)&&Ee(n.unsubscribe)}function dw(n){Ee(n)?n():n.unsubscribe()}var ur={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ta={setTimeout(n,e,...t){let{delegate:r}=ta;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ta;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Sd(n){ta.setTimeout(()=>{let{onUnhandledError:e}=ur;if(e)e(n);else throw n})}function al(){}var hw=Sm("C",void 0,void 0);function fw(n){return Sm("E",void 0,n)}function pw(n){return Sm("N",n,void 0)}function Sm(n,e,t){return{kind:n,value:e,error:t}}var jo=null;function na(n){if(ur.useDeprecatedSynchronousErrorHandling){let e=!jo;if(e&&(jo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=jo;if(jo=null,t)throw r}}else n()}function mw(n){ur.useDeprecatedSynchronousErrorHandling&&jo&&(jo.errorThrown=!0,jo.error=n)}var Vo=class extends Ft{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Td(e)&&e.add(this)):this.destination=CD}static create(e,t,r){return new ra(e,t,r)}next(e){this.isStopped?Dm(pw(e),this):this._next(e)}error(e){this.isStopped?Dm(fw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Dm(hw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},vD=Function.prototype.bind;function Am(n,e){return vD.call(n,e)}var km=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ad(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ad(r)}else Ad(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ad(t)}}},ra=class extends Vo{constructor(e,t,r){super();let i;if(Ee(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&ur.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Am(e.next,o),error:e.error&&Am(e.error,o),complete:e.complete&&Am(e.complete,o)}):i=e}this.destination=new km(i)}};function Ad(n){ur.useDeprecatedSynchronousErrorHandling?mw(n):Sd(n)}function yD(n){throw n}function Dm(n,e){let{onStoppedNotification:t}=ur;t&&ta.setTimeout(()=>t(n,e))}var CD={closed:!0,next:al,error:yD,complete:al};var ia=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Nn(n){return n}function Mm(...n){return xm(n)}function xm(n){return n.length===0?Nn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var $e=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=wD(t)?t:new ra(t,r,i);return na(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=gw(r),new r((i,o)=>{let s=new ra({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ia](){return this}pipe(...t){return xm(t)(this)}toPromise(t){return t=gw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function gw(n){var e;return(e=n??ur.Promise)!==null&&e!==void 0?e:Promise}function bD(n){return n&&Ee(n.next)&&Ee(n.error)&&Ee(n.complete)}function wD(n){return n&&n instanceof Vo||bD(n)&&Td(n)}function Rm(n){return Ee(n?.lift)}function nt(n){return e=>{if(Rm(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ze(n,e,t,r,i){return new Nm(n,e,t,r,i)}var Nm=class extends Vo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function oa(){return nt((n,e)=>{let t=null;n._refCount++;let r=Ze(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var sa=class extends $e{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Rm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ft;let t=this.getSubject();e.add(this.source.subscribe(Ze(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ft.EMPTY)}return e}refCount(){return oa()(this)}};var vw=ea(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var kt=(()=>{class n extends $e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Dd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new vw}next(t){na(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){na(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){na(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Tm:(this.currentObservers=null,o.push(t),new Ft(()=>{this.currentObservers=null,sl(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new $e;return t.source=this,t}}return n.create=(e,t)=>new Dd(e,t),n})(),Dd=class extends kt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Tm}};var Mt=class extends kt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Om={now(){return(Om.delegate||Date).now()},delegate:void 0};var cl=class extends kt{constructor(e=1/0,t=1/0,r=Om){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var En=new $e(n=>n.complete());function yw(n){return n&&Ee(n.schedule)}function Cw(n){return n[n.length-1]}function kd(n){return Ee(Cw(n))?n.pop():void 0}function qi(n){return yw(Cw(n))?n.pop():void 0}function ke(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o}function ww(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function bw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zo(n){return this instanceof zo?(this.v=n,this):new zo(n)}function Ew(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(m){return Promise.resolve(m).then(h,d)}}function a(h,m){r[h]&&(i[h]=function(g){return new Promise(function(y,w){o.push([h,g,y,w])>1||c(h,g)})},m&&(i[h]=m(i[h])))}function c(h,m){try{l(r[h](m))}catch(g){p(o[0][3],g)}}function l(h){h.value instanceof zo?Promise.resolve(h.value.v).then(u,d):p(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function p(h,m){h(m),o.shift(),o.length&&c(o[0][0],o[0][1])}}function _w(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof bw=="function"?bw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var aa=n=>n&&typeof n.length=="number"&&typeof n!="function";function Md(n){return Ee(n?.then)}function xd(n){return Ee(n[ia])}function Rd(n){return Symbol.asyncIterator&&Ee(n?.[Symbol.asyncIterator])}function Nd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ED(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Od=ED();function Pd(n){return Ee(n?.[Od])}function Fd(n){return Ew(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield zo(t.read());if(i)return yield zo(void 0);yield yield zo(r)}}finally{t.releaseLock()}})}function Ld(n){return Ee(n?.getReader)}function wt(n){if(n instanceof $e)return n;if(n!=null){if(xd(n))return _D(n);if(aa(n))return ID(n);if(Md(n))return TD(n);if(Rd(n))return Iw(n);if(Pd(n))return SD(n);if(Ld(n))return AD(n)}throw Nd(n)}function _D(n){return new $e(e=>{let t=n[ia]();if(Ee(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ID(n){return new $e(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function TD(n){return new $e(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Sd)})}function SD(n){return new $e(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Iw(n){return new $e(e=>{DD(n,e).catch(t=>e.error(t))})}function AD(n){return Iw(Fd(n))}function DD(n,e){var t,r,i,o;return ww(this,void 0,void 0,function*(){try{for(t=_w(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function _n(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ud(n,e=0){return nt((t,r)=>{t.subscribe(Ze(r,i=>_n(r,n,()=>r.next(i),e),()=>_n(r,n,()=>r.complete(),e),i=>_n(r,n,()=>r.error(i),e)))})}function Hd(n,e=0){return nt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Tw(n,e){return wt(n).pipe(Hd(e),Ud(e))}function Sw(n,e){return wt(n).pipe(Hd(e),Ud(e))}function Aw(n,e){return new $e(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Dw(n,e){return new $e(t=>{let r;return _n(t,e,()=>{r=n[Od](),_n(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Ee(r?.return)&&r.return()})}function Bd(n,e){if(!n)throw new Error("Iterable cannot be null");return new $e(t=>{_n(t,e,()=>{let r=n[Symbol.asyncIterator]();_n(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function kw(n,e){return Bd(Fd(n),e)}function Mw(n,e){if(n!=null){if(xd(n))return Tw(n,e);if(aa(n))return Aw(n,e);if(Md(n))return Sw(n,e);if(Rd(n))return Bd(n,e);if(Pd(n))return Dw(n,e);if(Ld(n))return kw(n,e)}throw Nd(n)}function Ge(n,e){return e?Mw(n,e):wt(n)}function ge(...n){let e=qi(n);return Ge(n,e)}function Mr(n,e){let t=Ee(n)?n:()=>n,r=i=>i.error(t());return new $e(e?i=>e.schedule(r,0,i):r)}function Pm(n){return!!n&&(n instanceof $e||Ee(n.lift)&&Ee(n.subscribe))}var ri=ea(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Te(n,e){return nt((t,r)=>{let i=0;t.subscribe(Ze(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:kD}=Array;function MD(n,e){return kD(e)?n(...e):n(e)}function ca(n){return Te(e=>MD(n,e))}var{isArray:xD}=Array,{getPrototypeOf:RD,prototype:ND,keys:OD}=Object;function jd(n){if(n.length===1){let e=n[0];if(xD(e))return{args:e,keys:null};if(PD(e)){let t=OD(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function PD(n){return n&&typeof n=="object"&&RD(n)===ND}function Vd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ll(...n){let e=qi(n),t=kd(n),{args:r,keys:i}=jd(n);if(r.length===0)return Ge([],e);let o=new $e(FD(r,e,i?s=>Vd(i,s):Nn));return t?o.pipe(ca(t)):o}function FD(n,e,t=Nn){return r=>{xw(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)xw(e,()=>{let l=Ge(n[c],e),u=!1;l.subscribe(Ze(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function xw(n,e,t){n?_n(t,n,e):e()}function Rw(n,e,t,r,i,o,s,a){let c=[],l=0,u=0,d=!1,p=()=>{d&&!c.length&&!l&&e.complete()},h=g=>l<r?m(g):c.push(g),m=g=>{o&&e.next(g),l++;let y=!1;wt(t(g,u++)).subscribe(Ze(e,w=>{i?.(w),o?h(w):e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;c.length&&l<r;){let w=c.shift();s?_n(e,s,()=>m(w)):m(w)}p()}catch(w){e.error(w)}}))};return n.subscribe(Ze(e,h,()=>{d=!0,p()})),()=>{a?.()}}function Et(n,e,t=1/0){return Ee(e)?Et((r,i)=>Te((o,s)=>e(r,o,i,s))(wt(n(r,i))),t):(typeof e=="number"&&(t=e),nt((r,i)=>Rw(r,i,n,t)))}function la(n=1/0){return Et(Nn,n)}function Nw(){return la(1)}function ua(...n){return Nw()(Ge(n,qi(n)))}function zd(n){return new $e(e=>{wt(n()).subscribe(e)})}function Fm(...n){let e=kd(n),{args:t,keys:r}=jd(n),i=new $e(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;wt(t[u]).subscribe(Ze(o,p=>{d||(d=!0,l--),a[u]=p},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Vd(r,a):a),o.complete())}))}});return e?i.pipe(ca(e)):i}var LD=["addListener","removeListener"],UD=["addEventListener","removeEventListener"],HD=["on","off"];function ul(n,e,t,r){if(Ee(t)&&(r=t,t=void 0),r)return ul(n,e,t).pipe(ca(r));let[i,o]=VD(n)?UD.map(s=>a=>n[s](e,a,t)):BD(n)?LD.map(Ow(n,e)):jD(n)?HD.map(Ow(n,e)):[];if(!i&&aa(n))return Et(s=>ul(s,e,t))(wt(n));if(!i)throw new TypeError("Invalid event target");return new $e(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function Ow(n,e){return t=>r=>n[t](e,r)}function BD(n){return Ee(n.addListener)&&Ee(n.removeListener)}function jD(n){return Ee(n.on)&&Ee(n.off)}function VD(n){return Ee(n.addEventListener)&&Ee(n.removeEventListener)}function sn(n,e){return nt((t,r)=>{let i=0;t.subscribe(Ze(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Yt(n){return nt((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ze(t,void 0,void 0,s=>{o=wt(n(s,Yt(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Pw(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(Ze(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Gn(n,e){return Ee(e)?Et(n,e,1):Et(n,1)}function Ki(n){return nt((e,t)=>{let r=!1;e.subscribe(Ze(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function xr(n){return n<=0?()=>En:nt((e,t)=>{let r=0;e.subscribe(Ze(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Lm(n){return Te(()=>n)}function $d(n=zD){return nt((e,t)=>{let r=!1;e.subscribe(Ze(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function zD(){return new ri}function Wi(n){return nt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function dr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?sn((i,o)=>n(i,o,r)):Nn,xr(1),t?Ki(e):$d(()=>new ri))}function da(n){return n<=0?()=>En:nt((e,t)=>{let r=[];e.subscribe(Ze(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Um(n,e){let t=arguments.length>=2;return r=>r.pipe(n?sn((i,o)=>n(i,o,r)):Nn,da(1),t?Ki(e):$d(()=>new ri))}function Hm(n,e){return nt(Pw(n,e,arguments.length>=2,!0))}function Bm(...n){let e=qi(n);return nt((t,r)=>{(e?ua(n,t,e):ua(n,t)).subscribe(r)})}function an(n,e){return nt((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ze(r,c=>{i?.unsubscribe();let l=0,u=o++;wt(n(c,u)).subscribe(i=Ze(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function jm(n){return nt((e,t)=>{wt(n).subscribe(Ze(t,()=>t.complete(),al)),!t.closed&&e.subscribe(t)})}function Ut(n,e,t){let r=Ee(n)||e||t?{next:n,error:e,complete:t}:n;return r?nt((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ze(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Nn}var $D="https://g.co/ng/security#xss",me=class extends Error{constructor(e,t){super(Dh(e,t)),this.code=e}};function Dh(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function El(n){return{toString:n}.toString()}var Gd="__parameters__";function GD(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function yE(n,e,t){return El(()=>{let r=GD(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Gd)?c[Gd]:Object.defineProperty(c,Gd,{value:[]})[Gd];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var dl=globalThis;function ut(n){for(let e in n)if(n[e]===ut)return e;throw Error("Could not find renamed property on target object.")}function qD(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ln(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(ln).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Fw(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var KD=ut({__forward_ref__:ut});function ns(n){return n.__forward_ref__=ns,n.toString=function(){return ln(this())},n}function cn(n){return CE(n)?n():n}function CE(n){return typeof n=="function"&&n.hasOwnProperty(KD)&&n.__forward_ref__===ns}function ce(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ht(n){return{providers:n.providers||[],imports:n.imports||[]}}function kh(n){return Lw(n,wE)||Lw(n,EE)}function bE(n){return kh(n)!==null}function Lw(n,e){return n.hasOwnProperty(e)?n[e]:null}function WD(n){let e=n&&(n[wE]||n[EE]);return e||null}function Uw(n){return n&&(n.hasOwnProperty(Hw)||n.hasOwnProperty(YD))?n[Hw]:null}var wE=ut({\u0275prov:ut}),Hw=ut({\u0275inj:ut}),EE=ut({ngInjectableDef:ut}),YD=ut({ngInjectorDef:ut}),le=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ce({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function _E(n){return n&&!!n.\u0275providers}var QD=ut({\u0275cmp:ut}),ZD=ut({\u0275dir:ut}),JD=ut({\u0275pipe:ut}),XD=ut({\u0275mod:ut}),rh=ut({\u0275fac:ut}),pl=ut({__NG_ELEMENT_ID__:ut}),Bw=ut({__NG_ENV_ID__:ut});function IE(n){return typeof n=="string"?n:n==null?"":String(n)}function ek(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():IE(n)}function tk(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new me(-200,n)}function rv(n,e){throw new me(-201,!1)}var qe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(qe||{}),ig;function TE(){return ig}function In(n){let e=ig;return ig=n,e}function SE(n,e,t){let r=kh(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&qe.Optional)return null;if(e!==void 0)return e;rv(n,"Injector")}var nk={},ml=nk,og="__NG_DI_FLAG__",ih="ngTempTokenPath",rk="ngTokenPath",ik=/\n/gm,ok="\u0275",jw="__source",ga;function sk(){return ga}function Yi(n){let e=ga;return ga=n,e}function ak(n,e=qe.Default){if(ga===void 0)throw new me(-203,!1);return ga===null?SE(n,void 0,e):ga.get(n,e&qe.Optional?null:void 0,e)}function oe(n,e=qe.Default){return(TE()||ak)(cn(n),e)}function z(n,e=qe.Default){return oe(n,Mh(e))}function Mh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function sg(n){let e=[];for(let t=0;t<n.length;t++){let r=cn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new me(900,!1);let i,o=qe.Default;for(let s=0;s<r.length;s++){let a=r[s],c=ck(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(oe(i,o))}else e.push(oe(r))}return e}function AE(n,e){return n[og]=e,n.prototype[og]=e,n}function ck(n){return n[og]}function lk(n,e,t,r){let i=n[ih];throw e[jw]&&i.unshift(e[jw]),n.message=uk(`
`+n.message,i,t,r),n[rk]=i,n[ih]=null,n}function uk(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==ok?n.slice(2):n;let i=ln(e);if(Array.isArray(e))i=e.map(ln).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ln(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(ik,`
  `)}`}var xh=AE(yE("Optional"),8);var iv=AE(yE("SkipSelf"),4);function qo(n,e){let t=n.hasOwnProperty(rh);return t?n[rh]:null}function dk(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function hk(n){return n.flat(Number.POSITIVE_INFINITY)}function ov(n,e){n.forEach(t=>Array.isArray(t)?ov(t,e):e(t))}function DE(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function oh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function fk(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function pk(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function mk(n,e,t){let r=_l(n,e);return r>=0?n[r|1]=t:(r=~r,pk(n,r,e,t)),r}function Vm(n,e){let t=_l(n,e);if(t>=0)return n[t|1]}function _l(n,e){return gk(n,e,1)}function gk(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var ya={},On=[],Ko=new le(""),kE=new le("",-1),ME=new le(""),sh=class{get(e,t=ml){if(t===ml){let r=new Error(`NullInjectorError: No provider for ${ln(e)}!`);throw r.name="NullInjectorError",r}return t}},xE=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(xE||{}),Or=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Or||{}),Zi=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Zi||{});function vk(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function ag(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];Ck(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function yk(n){return n===3||n===4||n===6}function Ck(n){return n.charCodeAt(0)===64}function gl(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Vw(n,t,i,null,e[++r]):Vw(n,t,i,null,null))}}return n}function Vw(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var RE="ng-template";function bk(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&vk(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(sv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function sv(n){return n.type===4&&n.value!==RE}function wk(n,e,t){let r=n.type===4&&!t?RE:n.value;return e===r}function Ek(n,e,t){let r=4,i=n.attrs,o=i!==null?Tk(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!hr(r)&&!hr(c))return!1;if(s&&hr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!wk(n,c,t)||c===""&&e.length===1){if(hr(r))return!1;s=!0}}else if(r&8){if(i===null||!bk(n,i,c,t)){if(hr(r))return!1;s=!0}}else{let l=e[++a],u=_k(c,i,sv(n),t);if(u===-1){if(hr(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(hr(r))return!1;s=!0}}}}return hr(r)||s}function hr(n){return(n&1)===0}function _k(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Sk(e,n)}function NE(n,e,t=!1){for(let r=0;r<e.length;r++)if(Ek(n,e[r],t))return!0;return!1}function Ik(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function Tk(n){for(let e=0;e<n.length;e++){let t=n[e];if(yk(t))return e}return n.length}function Sk(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Ak(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function zw(n,e){return n?":not("+e.trim()+")":e}function Dk(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!hr(s)&&(e+=zw(o,i),i=""),r=s,o=o||!hr(r);t++}return i!==""&&(e+=zw(o,i)),e}function kk(n){return n.map(Dk).join(",")}function Mk(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!hr(i))break;i=o}r++}return{attrs:e,classes:t}}function ue(n){return El(()=>{let e=HE(n),t=re(M({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===xE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Or.Emulated,styles:n.styles||On,_:null,schemas:n.schemas||null,tView:null,id:""});BE(t);let r=n.dependencies;return t.directiveDefs=Gw(r,!1),t.pipeDefs=Gw(r,!0),t.id=Nk(t),t})}function xk(n){return Ji(n)||PE(n)}function Rk(n){return n!==null}function Bt(n){return El(()=>({type:n.type,bootstrap:n.bootstrap||On,declarations:n.declarations||On,imports:n.imports||On,exports:n.exports||On,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function $w(n,e){if(n==null)return ya;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Zi.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Zi.None?[r,a]:r,e[o]=s):t[o]=r}return t}function xt(n){return El(()=>{let e=HE(n);return BE(e),e})}function OE(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ji(n){return n[QD]||null}function PE(n){return n[ZD]||null}function FE(n){return n[JD]||null}function LE(n){let e=Ji(n)||PE(n)||FE(n);return e!==null?e.standalone:!1}function UE(n,e){let t=n[XD]||null;if(!t&&e===!0)throw new Error(`Type ${ln(n)} does not have '\u0275mod' property.`);return t}function HE(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ya,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||On,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$w(n.inputs,e),outputs:$w(n.outputs),debugInfo:null}}function BE(n){n.features?.forEach(e=>e(n))}function Gw(n,e){if(!n)return null;let t=e?FE:xk;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(Rk)}function Nk(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function to(n){return{\u0275providers:n}}function Rh(...n){return{\u0275providers:jE(!0,n),\u0275fromNgModule:!0}}function jE(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return ov(e,s=>{let a=s;cg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&VE(i,o),t}function VE(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];av(i,o=>{e(o,r)})}}function cg(n,e,t,r){if(n=cn(n),!n)return!1;let i=null,o=Uw(n),s=!o&&Ji(n);if(!o&&!s){let c=n.ngModule;if(o=Uw(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)cg(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{ov(o.imports,u=>{cg(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&VE(l,e)}if(!a){let l=qo(i)||(()=>new i);e({provide:i,useFactory:l,deps:On},i),e({provide:ME,useValue:i,multi:!0},i),e({provide:Ko,useValue:()=>oe(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;av(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function av(n,e){for(let t of n)_E(t)&&(t=t.\u0275providers),Array.isArray(t)?av(t,e):e(t)}var Ok=ut({provide:String,useValue:ut});function zE(n){return n!==null&&typeof n=="object"&&Ok in n}function Pk(n){return!!(n&&n.useExisting)}function Fk(n){return!!(n&&n.useFactory)}function Ca(n){return typeof n=="function"}function Lk(n){return!!n.useClass}var Nh=new le(""),Zd={},Uk={},zm;function cv(){return zm===void 0&&(zm=new sh),zm}var un=class{},vl=class extends un{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ug(e,s=>this.processProvider(s)),this.records.set(kE,ha(void 0,this)),i.has("environment")&&this.records.set(un,ha(void 0,this));let o=this.records.get(Nh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ME,On,qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=it(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),it(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Yi(this),r=In(void 0),i;try{return e()}finally{Yi(t),In(r)}}get(e,t=ml,r=qe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Bw))return e[Bw](this);r=Mh(r);let i,o=Yi(this),s=In(void 0);try{if(!(r&qe.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=zk(e)&&kh(e);l&&this.injectableDefInScope(l)?c=ha(lg(e),Zd):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&qe.Self?cv():this.parent;return t=r&qe.Optional&&t===ml?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[ih]=a[ih]||[]).unshift(ln(e)),o)throw a;return lk(a,e,"R3InjectorError",this.source)}else throw a}finally{In(s),Yi(o)}}resolveInjectorInitializers(){let e=it(null),t=Yi(this),r=In(void 0),i;try{let o=this.get(Ko,On,qe.Self);for(let s of o)s()}finally{Yi(t),In(r),it(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(ln(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new me(205,!1)}processProvider(e){e=cn(e);let t=Ca(e)?e:cn(e&&e.provide),r=Bk(e);if(!Ca(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ha(void 0,Zd,!0),i.factory=()=>sg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=it(null);try{return t.value===Zd&&(t.value=Uk,t.value=t.factory()),typeof t.value=="object"&&t.value&&Vk(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{it(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=cn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function lg(n){let e=kh(n),t=e!==null?e.factory:qo(n);if(t!==null)return t;if(n instanceof le)throw new me(204,!1);if(n instanceof Function)return Hk(n);throw new me(204,!1)}function Hk(n){if(n.length>0)throw new me(204,!1);let t=WD(n);return t!==null?()=>t.factory(n):()=>new n}function Bk(n){if(zE(n))return ha(void 0,n.useValue);{let e=$E(n);return ha(e,Zd)}}function $E(n,e,t){let r;if(Ca(n)){let i=cn(n);return qo(i)||lg(i)}else if(zE(n))r=()=>cn(n.useValue);else if(Fk(n))r=()=>n.useFactory(...sg(n.deps||[]));else if(Pk(n))r=()=>oe(cn(n.useExisting));else{let i=cn(n&&(n.useClass||n.provide));if(jk(n))r=()=>new i(...sg(n.deps));else return qo(i)||lg(i)}return r}function ha(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function jk(n){return!!n.deps}function Vk(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function zk(n){return typeof n=="function"||typeof n=="object"&&n instanceof le}function ug(n,e){for(let t of n)Array.isArray(t)?ug(t,e):t&&_E(t)?ug(t.\u0275providers,e):e(t)}function Wn(n,e){n instanceof vl&&n.assertNotDestroyed();let t,r=Yi(n),i=In(void 0);try{return e()}finally{Yi(r),In(i)}}function GE(){return TE()!==void 0||sk()!=null}function $k(n){if(!GE())throw new me(-203,!1)}function Gk(n){return typeof n=="function"}var Pn=0,He=1,De=2,Qt=3,fr=4,An=5,mr=6,ah=7,gr=8,ba=9,ii=10,vt=11,yl=12,qw=13,ka=14,Sn=15,Wo=16,fa=17,oi=18,Oh=19,qE=20,Qi=21,$m=22,qn=23,qt=25,KE=1,Cl=6,si=7,ch=8,wa=9,Tn=10,lh=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(lh||{});function pr(n){return Array.isArray(n)&&typeof n[KE]=="object"}function Fr(n){return Array.isArray(n)&&n[KE]===!0}function WE(n){return(n.flags&4)!==0}function Il(n){return n.componentOffset>-1}function lv(n){return(n.flags&1)===1}function Xi(n){return!!n.template}function uh(n){return(n[De]&512)!==0}var dg=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function YE(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function ci(){return QE}function QE(n){return n.type.prototype.ngOnChanges&&(n.setInput=Kk),qk}ci.ngInherit=!0;function qk(){let n=JE(this),e=n?.current;if(e){let t=n.previous;if(t===ya)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Kk(n,e,t,r,i){let o=this.declaredInputs[r],s=JE(n)||Wk(n,{previous:ya,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new dg(l&&l.currentValue,t,c===ya),YE(n,e,i,t)}var ZE="__ngSimpleChanges__";function JE(n){return n[ZE]||null}function Wk(n,e){return n[ZE]=e}var Kw=null;var Rr=function(n,e,t){Kw?.(n,e,t)},XE="svg",Yk="math";function vr(n){for(;Array.isArray(n);)n=n[Pn];return n}function e_(n,e){return vr(e[n])}function Yn(n,e){return vr(e[n.index])}function t_(n,e){return n.data[e]}function Qk(n,e){return n[e]}function no(n,e){let t=e[n];return pr(t)?t:t[Pn]}function Zk(n){return(n[De]&4)===4}function uv(n){return(n[De]&128)===128}function Jk(n){return Fr(n[Qt])}function dh(n,e){return e==null?null:n[e]}function n_(n){n[fa]=0}function r_(n){n[De]&1024||(n[De]|=1024,uv(n)&&Fh(n))}function Xk(n,e){for(;n>0;)e=e[ka],n--;return e}function Ph(n){return!!(n[De]&9216||n[qn]?.dirty)}function hg(n){n[ii].changeDetectionScheduler?.notify(8),n[De]&64&&(n[De]|=1024),Ph(n)&&Fh(n)}function Fh(n){n[ii].changeDetectionScheduler?.notify(0);let e=Yo(n);for(;e!==null&&!(e[De]&8192||(e[De]|=8192,!uv(e)));)e=Yo(e)}function i_(n,e){if((n[De]&256)===256)throw new me(911,!1);n[Qi]===null&&(n[Qi]=[]),n[Qi].push(e)}function eM(n,e){if(n[Qi]===null)return;let t=n[Qi].indexOf(e);t!==-1&&n[Qi].splice(t,1)}function Yo(n){let e=n[Qt];return Fr(e)?e[Qt]:e}var ze={lFrame:g_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var o_=!1;function tM(){return ze.lFrame.elementDepthCount}function nM(){ze.lFrame.elementDepthCount++}function rM(){ze.lFrame.elementDepthCount--}function s_(){return ze.bindingsEnabled}function Ma(){return ze.skipHydrationRootTNode!==null}function iM(n){return ze.skipHydrationRootTNode===n}function oM(n){ze.skipHydrationRootTNode=n}function sM(){ze.skipHydrationRootTNode=null}function at(){return ze.lFrame.lView}function dn(){return ze.lFrame.tView}function hn(n){return ze.lFrame.contextLView=n,n[gr]}function fn(n){return ze.lFrame.contextLView=null,n}function Fn(){let n=a_();for(;n!==null&&n.type===64;)n=n.parent;return n}function a_(){return ze.lFrame.currentTNode}function aM(){let n=ze.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Tl(n,e){let t=ze.lFrame;t.currentTNode=n,t.isParent=e}function c_(){return ze.lFrame.isParent}function l_(){ze.lFrame.isParent=!1}function u_(){return o_}function Ww(n){o_=n}function d_(){let n=ze.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function cM(n){return ze.lFrame.bindingIndex=n}function h_(){return ze.lFrame.bindingIndex++}function lM(n){let e=ze.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function uM(){return ze.lFrame.inI18n}function dM(n,e){let t=ze.lFrame;t.bindingIndex=t.bindingRootIndex=n,fg(e)}function hM(){return ze.lFrame.currentDirectiveIndex}function fg(n){ze.lFrame.currentDirectiveIndex=n}function fM(n){let e=ze.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function f_(){return ze.lFrame.currentQueryIndex}function dv(n){ze.lFrame.currentQueryIndex=n}function pM(n){let e=n[He];return e.type===2?e.declTNode:e.type===1?n[An]:null}function p_(n,e,t){if(t&qe.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&qe.Host);)if(i=pM(o),i===null||(o=o[ka],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ze.lFrame=m_();return r.currentTNode=e,r.lView=n,!0}function hv(n){let e=m_(),t=n[He];ze.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function m_(){let n=ze.lFrame,e=n===null?null:n.child;return e===null?g_(n):e}function g_(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function v_(){let n=ze.lFrame;return ze.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var y_=v_;function fv(){let n=v_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function mM(n){return(ze.lFrame.contextLView=Xk(n,ze.lFrame.contextLView))[gr]}function xa(){return ze.lFrame.selectedIndex}function Qo(n){ze.lFrame.selectedIndex=n}function C_(){let n=ze.lFrame;return t_(n.tView,n.selectedIndex)}function ro(){ze.lFrame.currentNamespace=XE}function b_(){return ze.lFrame.currentNamespace}var w_=!0;function pv(){return w_}function io(n){w_=n}function gM(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=QE(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function mv(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Jd(n,e,t){E_(n,e,3,t)}function Xd(n,e,t,r){(n[De]&3)===t&&E_(n,e,t,r)}function Gm(n,e){let t=n[De];(t&3)===e&&(t&=16383,t+=1,n[De]=t)}function E_(n,e,t,r){let i=r!==void 0?n[fa]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[fa]+=65536),(a<o||o==-1)&&(vM(n,t,e,c),n[fa]=(n[fa]&4294901760)+c+2),c++}function Yw(n,e){Rr(4,n,e);let t=it(null);try{e.call(n)}finally{it(t),Rr(5,n,e)}}function vM(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[De]>>14<n[fa]>>16&&(n[De]&3)===e&&(n[De]+=16384,Yw(a,o)):Yw(a,o)}var va=-1,Zo=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function yM(n){return n instanceof Zo}function CM(n){return(n.flags&8)!==0}function bM(n){return(n.flags&16)!==0}var qm={},pg=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Mh(r);let i=this.injector.get(e,qm,r);return i!==qm||t===qm?i:this.parentInjector.get(e,t,r)}};function __(n){return n!==va}function hh(n){return n&32767}function wM(n){return n>>16}function fh(n,e){let t=wM(n),r=e;for(;t>0;)r=r[ka],t--;return r}var mg=!0;function ph(n){let e=mg;return mg=n,e}var EM=256,I_=EM-1,T_=5,_M=0,Nr={};function IM(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(pl)&&(r=t[pl]),r==null&&(r=t[pl]=_M++);let i=r&I_,o=1<<i;e.data[n+(i>>T_)]|=o}function mh(n,e){let t=S_(n,e);if(t!==-1)return t;let r=e[He];r.firstCreatePass&&(n.injectorIndex=e.length,Km(r.data,n),Km(e,null),Km(r.blueprint,null));let i=gv(n,e),o=n.injectorIndex;if(__(i)){let s=hh(i),a=fh(i,e),c=a[He].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Km(n,e){n.push(0,0,0,0,0,0,0,0,e)}function S_(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function gv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=x_(i),r===null)return va;if(t++,i=i[ka],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return va}function gg(n,e,t){IM(n,e,t)}function A_(n,e,t){if(t&qe.Optional||n!==void 0)return n;rv(e,"NodeInjector")}function D_(n,e,t,r){if(t&qe.Optional&&r===void 0&&(r=null),!(t&(qe.Self|qe.Host))){let i=n[ba],o=In(void 0);try{return i?i.get(e,r,t&qe.Optional):SE(e,r,t&qe.Optional)}finally{In(o)}}return A_(r,e,t)}function k_(n,e,t,r=qe.Default,i){if(n!==null){if(e[De]&2048&&!(r&qe.Self)){let s=DM(n,e,t,r,Nr);if(s!==Nr)return s}let o=M_(n,e,t,r,Nr);if(o!==Nr)return o}return D_(e,t,r,i)}function M_(n,e,t,r,i){let o=SM(t);if(typeof o=="function"){if(!p_(e,n,r))return r&qe.Host?A_(i,t,r):D_(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&qe.Optional))rv(t);else return s}finally{y_()}}else if(typeof o=="number"){let s=null,a=S_(n,e),c=va,l=r&qe.Host?e[Sn][An]:null;for((a===-1||r&qe.SkipSelf)&&(c=a===-1?gv(n,e):e[a+8],c===va||!Zw(r,!1)?a=-1:(s=e[He],a=hh(c),e=fh(c,e)));a!==-1;){let u=e[He];if(Qw(o,a,u.data)){let d=TM(a,e,t,s,r,l);if(d!==Nr)return d}c=e[a+8],c!==va&&Zw(r,e[He].data[a+8]===l)&&Qw(o,a,e)?(s=u,a=hh(c),e=fh(c,e)):a=-1}}return i}function TM(n,e,t,r,i,o){let s=e[He],a=s.data[n+8],c=r==null?Il(a)&&mg:r!=s&&(a.type&3)!==0,l=i&qe.Host&&o===a,u=eh(a,s,t,c,l);return u!==null?Jo(e,s,u,a):Nr}function eh(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,d=r?a:a+u,p=i?a+u:l;for(let h=d;h<p;h++){let m=s[h];if(h<c&&t===m||h>=c&&m.type===t)return h}if(i){let h=s[c];if(h&&Xi(h)&&h.type===t)return c}return null}function Jo(n,e,t,r){let i=n[t],o=e.data;if(yM(i)){let s=i;s.resolving&&tk(ek(o[t]));let a=ph(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?In(s.injectImpl):null,u=p_(n,r,qe.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&gM(t,o[t],e)}finally{l!==null&&In(l),ph(a),s.resolving=!1,y_()}}return i}function SM(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(pl)?n[pl]:void 0;return typeof e=="number"?e>=0?e&I_:AM:e}function Qw(n,e,t){let r=1<<n;return!!(t[e+(n>>T_)]&r)}function Zw(n,e){return!(n&qe.Self)&&!(n&qe.Host&&e)}var Go=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return k_(this._tNode,this._lView,e,Mh(r),t)}};function AM(){return new Go(Fn(),at())}function Sl(n){return El(()=>{let e=n.prototype.constructor,t=e[rh]||vg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[rh]||vg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function vg(n){return CE(n)?()=>{let e=vg(cn(n));return e&&e()}:qo(n)}function DM(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[De]&2048&&!(s[De]&512);){let a=M_(o,s,t,r|qe.Self,Nr);if(a!==Nr)return a;let c=o.parent;if(!c){let l=s[qE];if(l){let u=l.get(t,Nr,r);if(u!==Nr)return u}c=x_(s),s=s[ka]}o=c}return i}function x_(n){let e=n[He],t=e.type;return t===2?e.declTNode:t===1?n[An]:null}function Jw(n,e=null,t=null,r){let i=R_(n,e,t,r);return i.resolveInjectorInitializers(),i}function R_(n,e=null,t=null,r,i=new Set){let o=[t||On,Rh(n)];return r=r||(typeof n=="object"?void 0:ln(n)),new vl(o,e||cv(),r||null,i)}var Kn=class n{static{this.THROW_IF_NOT_FOUND=ml}static{this.NULL=new sh}static create(e,t){if(Array.isArray(e))return Jw({name:""},t,e,"");{let r=e.name??"";return Jw({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=ce({token:n,providedIn:"any",factory:()=>oe(kE)})}static{this.__NG_ELEMENT_ID__=-1}};var kM=new le("");kM.__NG_ELEMENT_ID__=n=>{let e=Fn();if(e===null)throw new me(204,!1);if(e.type&2)return e.value;if(n&qe.Optional)return null;throw new me(204,!1)};var MM="ngOriginalError";function Wm(n){return n[MM]}var N_=!0,vv=(()=>{class n{static{this.__NG_ELEMENT_ID__=xM}static{this.__NG_ENV_ID__=t=>t}}return n})(),yg=class extends vv{constructor(e){super(),this._lView=e}onDestroy(e){return i_(this._lView,e),()=>eM(this._lView,e)}};function xM(){return new yg(at())}var li=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Mt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Cg=class extends kt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,GE()&&(this.destroyRef=z(vv,{optional:!0})??void 0,this.pendingTasks=z(li,{optional:!0})??void 0)}emit(e){let t=it(null);try{super.next(e)}finally{it(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ft&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ke=Cg;function gh(...n){}function O_(n){let e,t;function r(){n=gh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Xw(n){return queueMicrotask(()=>n()),()=>{n=gh}}var yv="isAngularZone",vh=yv+"_ID",RM=0,ae=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ke(!1),this.onMicrotaskEmpty=new Ke(!1),this.onStable=new Ke(!1),this.onError=new Ke(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=N_}=e;if(typeof Zone>"u")throw new me(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,PM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(yv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new me(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new me(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,NM,gh,gh);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},NM={};function Cv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function OM(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){O_(()=>{n.callbackScheduled=!1,bg(n),n.isCheckStableRunning=!0,Cv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),bg(n)}function PM(n){let e=()=>{OM(n)},t=RM++;n._inner=n._inner.fork({name:"angular",properties:{[yv]:!0,[vh]:t,[vh+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(FM(c))return r.invokeTask(o,s,a,c);try{return eE(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),tE(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return eE(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!LM(c)&&e(),tE(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,bg(n),Cv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function bg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function eE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function tE(n){n._nesting--,Cv(n)}var wg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ke,this.onMicrotaskEmpty=new Ke,this.onStable=new Ke,this.onError=new Ke}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function FM(n){return P_(n,"__ignore_ng_zone__")}function LM(n){return P_(n,"__scheduler_tick__")}function P_(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var ai=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Wm(e);for(;t&&Wm(t);)t=Wm(t);return t||null}},UM=new le("",{providedIn:"root",factory:()=>{let n=z(ae),e=z(ai);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function HM(){return Ra(Fn(),at())}function Ra(n,e){return new ve(Yn(n,e))}var ve=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=HM}}return n})();function BM(n){return n instanceof ve?n.nativeElement:n}function jM(){return this._results[Symbol.iterator]()}var Eg=class n{get changes(){return this._changes??=new Ke}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=jM)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=hk(e);(this._changesDetected=!dk(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},VM="ngSkipHydration",zM="ngskiphydration";function F_(n){let e=n.mergedAttrs;if(e===null)return!1;for(let t=0;t<e.length;t+=2){let r=e[t];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===zM)return!0}return!1}function L_(n){return n.hasAttribute(VM)}function yh(n){return(n.flags&128)===128}function $M(n){if(yh(n))return!0;let e=n.parent;for(;e;){if(yh(n)||F_(e))return!0;e=e.parent}return!1}var U_=new Map,GM=0;function qM(){return GM++}function KM(n){U_.set(n[Oh],n)}function _g(n){U_.delete(n[Oh])}var nE="__ngContext__";function Xo(n,e){pr(e)?(n[nE]=e[Oh],KM(e)):n[nE]=e}function H_(n){return j_(n[yl])}function B_(n){return j_(n[fr])}function j_(n){for(;n!==null&&!Fr(n);)n=n[fr];return n}var Ig;function V_(n){Ig=n}function Lh(){if(Ig!==void 0)return Ig;if(typeof document<"u")return document;throw new me(210,!1)}var Uh=new le("",{providedIn:"root",factory:()=>WM}),WM="ng",bv=new le(""),Qn=new le("",{providedIn:"platform",factory:()=>"unknown"});var wv=new le("",{providedIn:"root",factory:()=>Lh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function YM(){let n=new Na;return z(Qn)==="browser"&&(n.store=QM(Lh(),z(Uh))),n}var Na=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=ce({token:n,providedIn:"root",factory:YM})}get(t,r){return this.store[t]!==void 0?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function QM(n,e){let t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var z_="h",$_="b",Tg=function(n){return n.FirstChild="f",n.NextSibling="n",n}(Tg||{}),ZM="e",JM="t",Ev="c",G_="x",Ch="r",XM="i",ex="n",q_="d";var tx="__nghData__",K_=tx,Ym="ngh",nx="nghm",W_=()=>null;function rx(n,e,t=!1){let r=n.getAttribute(Ym);if(r==null)return null;let[i,o]=r.split("|");if(r=t?o:i,!r)return null;let s=o?`|${o}`:"",a=t?i:s,c={};if(r!==""){let u=e.get(Na,null,{optional:!0});u!==null&&(c=u.get(K_,[])[Number(r)])}let l={data:c,firstChild:n.firstChild??null};return t&&(l.firstChild=n,Hh(l,0,n.nextSibling)),a?n.setAttribute(Ym,a):n.removeAttribute(Ym),l}function ix(){W_=rx}function _v(n,e,t=!1){return W_(n,e,t)}function ox(n){let e=n._lView;return e[He].type===2?null:(uh(e)&&(e=e[qt]),e)}function sx(n){return n.textContent?.replace(/\s/gm,"")}function ax(n){let e=Lh(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=sx(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=t.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Hh(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function Sg(n,e){return n.segmentHeads?.[e]??null}function cx(n,e){let t=n.data,r=t[ZM]?.[e]??null;return r===null&&t[Ev]?.[e]&&(r=Iv(n,e)),r}function Y_(n,e){return n.data[Ev]?.[e]??null}function Iv(n,e){let t=Y_(n,e)??[],r=0;for(let i of t)r+=i[Ch]*(i[G_]??1);return r}function lx(n){if(typeof n.disconnectedNodes>"u"){let e=n.data[q_];n.disconnectedNodes=e?new Set(e):null}return n.disconnectedNodes}function Al(n,e){if(typeof n.disconnectedNodes>"u"){let t=n.data[q_];n.disconnectedNodes=t?new Set(t):null}return!!lx(n)?.has(e)}var qd=new le(""),Q_=!1,Z_=new le("",{providedIn:"root",factory:()=>Q_});var Ag=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$D})`}};function Tv(n){return n instanceof Ag?n.changingThisBreaksApplicationSecurity:n}var ux=/^>|^->|<!--|-->|--!>|<!-$/g,dx=/(<|>)/g,hx="\u200B$1\u200B";function fx(n){return n.replace(ux,e=>e.replace(dx,hx))}function px(n){return n.ownerDocument.body}function J_(n){return n instanceof Function?n():n}function hl(n){return(n??z(Kn)).get(Qn)==="browser"}var Pr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Pr||{}),mx;function Sv(n,e){return mx(n,e)}function pa(n,e,t,r,i){if(r!=null){let o,s=!1;Fr(r)?o=r:pr(r)&&(s=!0,r=r[Pn]);let a=vr(r);n===0&&t!==null?i==null?oI(e,t,a):bh(e,t,a,i||null,!0):n===1&&t!==null?bh(e,t,a,i||null,!0):n===2?Mv(e,a,s):n===3&&e.destroyNode(a),o!=null&&Dx(e,n,o,t,i)}}function X_(n,e){return n.createText(e)}function gx(n,e,t){n.setValue(e,t)}function eI(n,e){return n.createComment(fx(e))}function Av(n,e,t){return n.createElement(e,t)}function vx(n,e){tI(n,e),e[Pn]=null,e[An]=null}function yx(n,e,t,r,i,o){r[Pn]=i,r[An]=e,Bh(n,r,t,1,i,o)}function tI(n,e){e[ii].changeDetectionScheduler?.notify(9),Bh(n,e,e[vt],2,null,null)}function Cx(n){let e=n[yl];if(!e)return Qm(n[He],n);for(;e;){let t=null;if(pr(e))t=e[yl];else{let r=e[Tn];r&&(t=r)}if(!t){for(;e&&!e[fr]&&e!==n;)pr(e)&&Qm(e[He],e),e=e[Qt];e===null&&(e=n),pr(e)&&Qm(e[He],e),t=e&&e[fr]}e=t}}function bx(n,e,t,r){let i=Tn+r,o=t.length;r>0&&(t[i-1][fr]=e),r<o-Tn?(e[fr]=t[i],DE(t,Tn+r,e)):(t.push(e),e[fr]=null),e[Qt]=t;let s=e[Wo];s!==null&&t!==s&&nI(s,e);let a=e[oi];a!==null&&a.insertView(n),hg(e),e[De]|=128}function nI(n,e){let t=n[wa],r=e[Qt];if(pr(r))n[De]|=lh.HasTransplantedViews;else{let i=r[Qt][Sn];e[Sn]!==i&&(n[De]|=lh.HasTransplantedViews)}t===null?n[wa]=[e]:t.push(e)}function Dv(n,e){let t=n[wa],r=t.indexOf(e);t.splice(r,1)}function Dg(n,e){if(n.length<=Tn)return;let t=Tn+e,r=n[t];if(r){let i=r[Wo];i!==null&&i!==n&&Dv(i,r),e>0&&(n[t-1][fr]=r[fr]);let o=oh(n,Tn+e);vx(r[He],r);let s=o[oi];s!==null&&s.detachView(o[He]),r[Qt]=null,r[fr]=null,r[De]&=-129}return r}function rI(n,e){if(!(e[De]&256)){let t=e[vt];t.destroyNode&&Bh(n,e,t,3,null,null),Cx(e)}}function Qm(n,e){if(e[De]&256)return;let t=it(null);try{e[De]&=-129,e[De]|=256,e[qn]&&_m(e[qn]),Ex(n,e),wx(n,e),e[He].type===1&&e[vt].destroy();let r=e[Wo];if(r!==null&&Fr(e[Qt])){r!==e[Qt]&&Dv(r,e);let i=e[oi];i!==null&&i.detachView(n)}_g(e)}finally{it(t)}}function wx(n,e){let t=n.cleanup,r=e[ah];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[ah]=null);let i=e[Qi];if(i!==null){e[Qi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function Ex(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Zo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Rr(4,a,c);try{c.call(a)}finally{Rr(5,a,c)}}else{Rr(4,i,o);try{o.call(i)}finally{Rr(5,i,o)}}}}}function iI(n,e,t){return _x(n,e.parent,t)}function _x(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Pn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===Or.None||o===Or.Emulated)return null}return Yn(r,t)}}function bh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function oI(n,e,t){n.appendChild(e,t)}function rE(n,e,t,r,i){r!==null?bh(n,e,t,r,i):oI(n,e,t)}function sI(n,e){return n.parentNode(e)}function Ix(n,e){return n.nextSibling(e)}function aI(n,e,t){return Sx(n,e,t)}function Tx(n,e,t){return n.type&40?Yn(n,t):null}var Sx=Tx,iE;function kv(n,e,t,r){let i=iI(n,r,e),o=e[vt],s=r.parent||e[An],a=aI(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)rE(o,i,t[c],a,!1);else rE(o,i,t,a,!1);iE!==void 0&&iE(o,r,e,t,i)}function fl(n,e){if(e!==null){let t=e.type;if(t&3)return Yn(e,n);if(t&4)return kg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return fl(n,r);{let i=n[e.index];return Fr(i)?kg(-1,i):vr(i)}}else{if(t&128)return fl(n,e.next);if(t&32)return Sv(e,n)()||vr(n[e.index]);{let r=cI(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Yo(n[Sn]);return fl(i,r)}else return fl(n,e.next)}}}return null}function cI(n,e){if(e!==null){let r=n[Sn][An],i=e.projection;return r.projection[i]}return null}function kg(n,e){let t=Tn+n+1;if(t<e.length){let r=e[t],i=r[He].firstChild;if(i!==null)return fl(r,i)}return e[si]}function Mv(n,e,t){n.removeChild(null,e,t)}function lI(n){n.textContent=""}function xv(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&Xo(vr(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)xv(n,e,t.child,r,i,o,!1),pa(e,n,i,a,o);else if(c&32){let l=Sv(t,r),u;for(;u=l();)pa(e,n,i,u,o);pa(e,n,i,a,o)}else c&16?uI(n,e,r,t,i,o):pa(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Bh(n,e,t,r,i,o){xv(t,r,n.firstChild,e,i,o,!1)}function Ax(n,e,t){let r=e[vt],i=iI(n,t,e),o=t.parent||e[An],s=aI(o,t,e);uI(r,0,e,t,i,s)}function uI(n,e,t,r,i,o){let s=t[Sn],c=s[An].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];pa(e,n,i,u,o)}else{let l=c,u=s[Qt];yh(r)&&(l.flags|=128),xv(n,e,l,u,i,o,!0)}}function Dx(n,e,t,r,i){let o=t[si],s=vr(t);o!==s&&pa(e,n,r,o,i);for(let a=Tn;a<t.length;a++){let c=t[a];Bh(c[He],c,n,e,r,o)}}function kx(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Pr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Pr.Important),n.setStyle(t,r,i,o))}}function Mx(n,e,t){n.setAttribute(e,"style",t)}function dI(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function hI(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&ag(n,e,r),i!==null&&dI(n,e,i),o!==null&&Mx(n,e,o)}var oo={};function te(n=1){fI(dn(),at(),xa()+n,!1)}function fI(n,e,t,r){if(!r)if((e[De]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Jd(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Xd(e,o,0,t)}Qo(t)}function T(n,e=qe.Default){let t=at();if(t===null)return oe(n,e);let r=Fn();return k_(r,t,cn(n),e)}function pI(){let n="invalid";throw new Error(n)}function mI(n,e,t,r,i,o){let s=it(null);try{let a=null;i&Zi.SignalBased&&(a=e[r][Gi]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Zi.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):YE(e,a,r,o)}finally{it(s)}}function xx(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Qo(~i);else{let o=i,s=t[++r],a=t[++r];dM(s,o);let c=e[o];a(2,c)}}}finally{Qo(-1)}}function jh(n,e,t,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Pn]=i,d[De]=r|4|128|8|64,(l!==null||n&&n[De]&2048)&&(d[De]|=2048),n_(d),d[Qt]=d[ka]=n,d[gr]=t,d[ii]=s||n&&n[ii],d[vt]=a||n&&n[vt],d[ba]=c||n&&n[ba]||null,d[An]=o,d[Oh]=qM(),d[mr]=u,d[qE]=l,d[Sn]=e.type==2?n[Sn]:d,d}function Dl(n,e,t,r,i){let o=n.data[e];if(o===null)o=Rx(n,e,t,r,i),uM()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=aM();o.injectorIndex=s===null?-1:s.injectorIndex}return Tl(o,!0),o}function Rx(n,e,t,r,i){let o=a_(),s=c_(),a=s?o:o&&o.parent,c=n.data[e]=Hx(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function gI(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function vI(n,e,t,r,i){let o=xa(),s=r&2;try{Qo(-1),s&&e.length>qt&&fI(n,e,qt,!1),Rr(s?2:0,i),t(r,i)}finally{Qo(o),Rr(s?3:1,i)}}function yI(n,e,t){if(WE(e)){let r=it(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{it(r)}}}function CI(n,e,t){s_()&&(Gx(n,e,t,Yn(t,e)),(t.flags&64)===64&&SI(n,e,t))}function bI(n,e,t=Yn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function wI(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Rv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Rv(n,e,t,r,i,o,s,a,c,l,u){let d=qt+r,p=d+i,h=Nx(d,p),m=typeof l=="function"?l():l;return h[He]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}function Nx(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:oo);return t}function Ox(n,e,t,r){let o=r.get(Z_,Q_)||t===Or.ShadowDom,s=n.selectRootElement(e,o);return Px(s),s}function Px(n){EI(n)}var EI=()=>null;function Fx(n){L_(n)?lI(n):ax(n)}function Lx(){EI=Fx}function Ux(n,e,t,r){let i=kI(e);i.push(t),n.firstCreatePass&&MI(n).push(r,i.length-1)}function Hx(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Ma()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function oE(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Zi.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?sE(r,t,l,a,c):sE(r,t,l,a)}return r}function sE(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function Bx(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],p=t?t.get(d):null,h=p?p.inputs:null,m=p?p.outputs:null;c=oE(0,d.inputs,u,c,h),l=oE(1,d.outputs,u,l,m);let g=c!==null&&s!==null&&!sv(e)?eR(c,u,s):null;a.push(g)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function jx(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function _I(n,e,t,r,i,o,s,a){let c=Yn(e,t),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Nv(n,t,u,r,i),Il(e)&&Vx(t,e.index)):e.type&3?(r=jx(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function Vx(n,e){let t=no(e,n);t[De]&16||(t[De]|=64)}function II(n,e,t,r){if(s_()){let i=r===null?null:{"":-1},o=Kx(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&TI(n,e,t,s,i,a),i&&Wx(t,r,i)}t.mergedAttrs=gl(t.mergedAttrs,t.attrs)}function TI(n,e,t,r,i,o){for(let l=0;l<r.length;l++)gg(mh(t,e),n,r[l].type);Qx(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=gI(n,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];t.mergedAttrs=gl(t.mergedAttrs,u.hostAttrs),Zx(n,t,e,c,u),Yx(c,u,i),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}Bx(n,t,o)}function zx(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;$x(s)!=a&&s.push(a),s.push(t,r,o)}}function $x(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Gx(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Il(t)&&Jx(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||mh(t,e),Xo(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let c=n.data[a],l=Jo(e,n,a,t);if(Xo(l,e),s!==null&&Xx(e,a-i,l,c,t,s),Xi(c)){let u=no(t.index,e);u[gr]=Jo(e,n,a,t)}}}function SI(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=hM();try{Qo(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];fg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&qx(c,l)}}finally{Qo(-1),fg(s)}}function qx(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Kx(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(NE(e,s.selectors,!1))if(r||(r=[]),Xi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Mg(n,e,c)}else r.unshift(s),Mg(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Mg(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Wx(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new me(-301,!1);r.push(e[i],o)}}}function Yx(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Xi(e)&&(t[""]=n)}}function Qx(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Zx(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=qo(i.type,!0)),s=new Zo(o,Xi(i),T);n.blueprint[r]=s,t[r]=s,zx(n,e,r,gI(n,t,i.hostVars,oo),i)}function Jx(n,e,t){let r=Yn(e,n),i=wI(t),o=n[ii].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Vh(n,jh(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function Xx(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];mI(r,t,c,l,u,d)}}function eR(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function AI(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function DI(n,e){let t=n.contentQueries;if(t!==null){let r=it(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];dv(o),a.contentQueries(2,e[s],s)}}}finally{it(r)}}}function Vh(n,e){return n[yl]?n[qw][fr]=e:n[yl]=e,n[qw]=e,e}function xg(n,e,t){dv(0);let r=it(null);try{e(n,t)}finally{it(r)}}function kI(n){return n[ah]??=[]}function MI(n){return n.cleanup??=[]}function xI(n,e){let t=n[ba],r=t?t.get(ai,null):null;r&&r.handleError(e)}function Nv(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],l=e[s],u=n.data[s];mI(u,l,r,a,c,i)}}function tR(n,e,t){let r=e_(e,n);gx(n[vt],r,t)}function nR(n,e){let t=no(e,n),r=t[He];rR(r,t);let i=t[Pn];i!==null&&t[mr]===null&&(t[mr]=_v(i,t[ba])),Ov(r,t,t[gr])}function rR(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Ov(n,e,t){hv(e);try{let r=n.viewQuery;r!==null&&xg(1,r,t);let i=n.template;i!==null&&vI(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[oi]?.finishViewCreation(n),n.staticContentQueries&&DI(n,e),n.staticViewQueries&&xg(2,n.viewQuery,t);let o=n.components;o!==null&&iR(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[De]&=-5,fv()}}function iR(n,e){for(let t=0;t<e.length;t++)nR(n,e[t])}function RI(n,e,t,r){let i=it(null);try{let o=e.tView,a=n[De]&4096?4096:16,c=jh(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Wo]=l;let u=n[oi];return u!==null&&(c[oi]=u.createEmbeddedView(o)),Ov(o,c,t),c}finally{it(i)}}function Rg(n,e){return!e||e.firstChild===null||yh(n)}function NI(n,e,t,r=!0){let i=e[He];if(bx(i,e,n,t),r){let s=kg(t,n),a=e[vt],c=sI(a,n[si]);c!==null&&yx(i,n[An],a,e,c,s)}let o=e[mr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function wh(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(vr(o)),Fr(o)&&oR(o,r);let s=t.type;if(s&8)wh(n,e,t.child,r);else if(s&32){let a=Sv(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=cI(e,t);if(Array.isArray(a))r.push(...a);else{let c=Yo(e[Sn]);wh(c[He],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function oR(n,e){for(let t=Tn;t<n.length;t++){let r=n[t],i=r[He].firstChild;i!==null&&wh(r[He],r,i,e)}n[si]!==n[Pn]&&e.push(n[si])}var OI=[];function sR(n){return n[qn]??aR(n)}function aR(n){let e=OI.pop()??Object.create(lR);return e.lView=n,e}function cR(n){n.lView[qn]!==n&&(n.lView=null,OI.push(n))}var lR=re(M({},ol),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Fh(n.lView)},consumerOnSignalRead(){this.lView[qn]=this}});function uR(n){let e=n[qn]??Object.create(dR);return e.lView=n,e}var dR=re(M({},ol),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Yo(n.lView);for(;e&&!PI(e[He]);)e=Yo(e);e&&r_(e)},consumerOnSignalRead(){this.lView[qn]=this}});function PI(n){return n.type!==2}var hR=100;function FI(n,e=!0,t=0){let r=n[ii],i=r.rendererFactory,o=!1;o||i.begin?.();try{fR(n,t)}catch(s){throw e&&xI(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function fR(n,e){let t=u_();try{Ww(!0),Ng(n,e);let r=0;for(;Ph(n);){if(r===hR)throw new me(103,!1);r++,Ng(n,1)}}finally{Ww(t)}}function pR(n,e,t,r){let i=e[De];if((i&256)===256)return;let o=!1,s=!1;!o&&e[ii].inlineEffectRunner?.flush(),hv(e);let a=!0,c=null,l=null;o||(PI(n)?(l=sR(e),c=wd(l)):Zb()===null?(a=!1,l=uR(e),c=wd(l)):e[qn]&&(_m(e[qn]),e[qn]=null));try{n_(e),cM(n.bindingStartIndex),t!==null&&vI(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let h=n.preOrderCheckHooks;h!==null&&Jd(e,h,null)}else{let h=n.preOrderHooks;h!==null&&Xd(e,h,0,null),Gm(e,0)}if(s||mR(e),LI(e,0),n.contentQueries!==null&&DI(n,e),!o)if(u){let h=n.contentCheckHooks;h!==null&&Jd(e,h)}else{let h=n.contentHooks;h!==null&&Xd(e,h,1),Gm(e,1)}xx(n,e);let d=n.components;d!==null&&HI(e,d,0);let p=n.viewQuery;if(p!==null&&xg(2,p,r),!o)if(u){let h=n.viewCheckHooks;h!==null&&Jd(e,h)}else{let h=n.viewHooks;h!==null&&Xd(e,h,2),Gm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[$m]){for(let h of e[$m])h();e[$m]=null}o||(e[De]&=-73)}catch(u){throw o||Fh(e),u}finally{l!==null&&(wm(l,c),a&&cR(l)),fv()}}function LI(n,e){for(let t=H_(n);t!==null;t=B_(t))for(let r=Tn;r<t.length;r++){let i=t[r];UI(i,e)}}function mR(n){for(let e=H_(n);e!==null;e=B_(e)){if(!(e[De]&lh.HasTransplantedViews))continue;let t=e[wa];for(let r=0;r<t.length;r++){let i=t[r];r_(i)}}}function gR(n,e,t){let r=no(e,n);UI(r,t)}function UI(n,e){uv(n)&&Ng(n,e)}function Ng(n,e){let r=n[He],i=n[De],o=n[qn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Em(o)),s||=!1,o&&(o.dirty=!1),n[De]&=-9217,s)pR(r,n,r.template,n[gr]);else if(i&8192){LI(n,1);let a=r.components;a!==null&&HI(n,a,1)}}function HI(n,e,t){for(let r=0;r<e.length;r++)gR(n,e[r],t)}function Pv(n,e){let t=u_()?64:1088;for(n[ii].changeDetectionScheduler?.notify(e);n;){n[De]|=t;let r=Yo(n);if(uh(n)&&!r)return n;n=r}return null}var es=class{get rootNodes(){let e=this._lView,t=e[He];return wh(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gr]}set context(e){this._lView[gr]=e}get destroyed(){return(this._lView[De]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Qt];if(Fr(e)){let t=e[ch],r=t?t.indexOf(this):-1;r>-1&&(Dg(e,r),oh(t,r))}this._attachedToViewContainer=!1}rI(this._lView[He],this._lView)}onDestroy(e){i_(this._lView,e)}markForCheck(){Pv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[De]&=-129}reattach(){hg(this._lView),this._lView[De]|=128}detectChanges(){this._lView[De]|=1024,FI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=uh(this._lView),t=this._lView[Wo];t!==null&&!e&&Dv(t,this._lView),tI(this._lView[He],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new me(902,!1);this._appRef=e;let t=uh(this._lView),r=this._lView[Wo];r!==null&&!t&&nI(r,this._lView),hg(this._lView)}},Ea=(()=>{class n{static{this.__NG_ELEMENT_ID__=CR}}return n})(),vR=Ea,yR=class extends vR{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=RI(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new es(i)}};function CR(){return Fv(Fn(),at())}function Fv(n,e){return n.type&4?new yR(e,n,Ra(n,e)):null}var bR=new RegExp(`^(\\d+)*(${$_}|${z_})*(.*)`);function wR(n){let e=n.match(bR),[t,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function ER(n){return!n.prev&&n.parent?.type===8}function Zm(n){return n.index-qt}function _R(n,e){let t=n.i18nNodes;if(t)return t.get(e)}function zh(n,e,t,r){let i=Zm(r),o=_R(n,i);if(o===void 0){let s=n.data[ex];if(s?.[i])o=TR(s[i],t);else if(e.firstChild===r)o=n.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(ER(r)){let l=Zm(r.parent);o=Sg(n,l)}else{let l=Yn(c,t);if(a)o=l.firstChild;else{let u=Zm(c),d=Sg(n,u);if(c.type===2&&d){let h=Iv(n,u)+1;o=$h(h,d)}else o=l.nextSibling}}}}return o}function $h(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function IR(n,e){let t=n;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case Tg.FirstChild:t=t.firstChild;break;case Tg.NextSibling:t=t.nextSibling;break}}return t}function TR(n,e){let[t,...r]=wR(n),i;if(t===z_)i=e[Sn][Pn];else if(t===$_)i=px(e[Sn][Pn]);else{let o=Number(t);i=vr(e[o+qt])}return IR(i,r)}var SR=!1;function AR(n){SR=n}function DR(n){let e=n[mr];if(e){let{i18nNodes:t,dehydratedIcuData:r}=e;if(t&&r){let i=n[vt];for(let o of r.values())kR(i,t,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function kR(n,e,t){for(let r of t.node.cases[t.case]){let i=e.get(r.index-qt);i&&Mv(n,i,!1)}}function BI(n){let e=n[Cl]??[],r=n[Qt][vt];for(let i of e)MR(i,r);n[Cl]=On}function MR(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[Ch];for(;t<i;){let o=r.nextSibling;Mv(e,r,!1),r=o,t++}}}function jI(n){BI(n);let e=n[Pn];pr(e)&&Eh(e);for(let t=Tn;t<n.length;t++)Eh(n[t])}function Eh(n){DR(n);let e=n[He];for(let t=qt;t<e.bindingStartIndex;t++)if(Fr(n[t])){let r=n[t];jI(r)}else pr(n[t])&&Eh(n[t])}function xR(n){let e=n._views;for(let t of e){let r=ox(t);r!==null&&r[Pn]!==null&&(pr(r)?Eh(r):jI(r))}}function RR(n,e){let t=[];for(let r of e)for(let i=0;i<(r[G_]??1);i++){let o={data:r,firstChild:null};r[Ch]>0&&(o.firstChild=n,n=$h(r[Ch],n)),t.push(o)}return[n,t]}var VI=()=>null;function NR(n,e){let t=n[Cl];return!e||t===null||t.length===0?null:t[0].data[XM]===e?t.shift():(BI(n),null)}function OR(){VI=NR}function Og(n,e){return VI(n,e)}var _a=class{},Lv=new le("",{providedIn:"root",factory:()=>!1});var zI=new le(""),$I=new le(""),Pg=class{},_h=class{};function PR(n){let e=Error(`No component factory found for ${ln(n)}.`);return e[FR]=n,e}var FR="ngComponent";var Fg=class{resolveComponentFactory(e){throw PR(e)}},Ia=class{static{this.NULL=new Fg}},Ta=class{},Zn=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>LR()}}return n})();function LR(){let n=at(),e=Fn(),t=no(e.index,n);return(pr(t)?t:n)[vt]}var UR=(()=>{class n{static{this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>null})}}return n})();function Lg(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Fw(i,a);else if(o==2){let c=a,l=e[++s];r=Fw(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Ih=class extends Ia{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ji(e);return new Sa(t,this.ngModule)}};function aE(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Zi.None;e?t.push({propName:s,templateName:r,isSignal:(a&Zi.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function HR(n){let e=n.toLowerCase();return e==="svg"?XE:e==="math"?Yk:null}var Sa=class extends _h{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=aE(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return aE(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=kk(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=it(null);try{i=i||this.ngModule;let s=i instanceof un?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new pg(e,s):e,c=a.get(Ta,null);if(c===null)throw new me(407,!1);let l=a.get(UR,null),u=a.get(_a,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},p=c.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",m=r?Ox(p,r,this.componentDef.encapsulation,a):Av(p,h,HR(h)),g=512;this.componentDef.signals?g|=4096:this.componentDef.onPush||(g|=16);let y=null;m!==null&&(y=_v(m,a,!0));let w=Rv(0,null,null,1,0,null,null,null,null,null,null),A=jh(null,w,null,g,null,null,d,p,a,null,y);hv(A);let _,L,P=null;try{let G=this.componentDef,H,J=null;G.findHostDirectiveDefs?(H=[],J=new Map,G.findHostDirectiveDefs(G,H,J),H.push(G)):H=[G];let we=BR(A,m);P=jR(we,m,G,H,A,d,p),L=t_(w,qt),m&&$R(p,G,m,r),t!==void 0&&GR(L,this.ngContentSelectors,t),_=zR(P,G,H,J,A,[qR]),Ov(w,A,null)}catch(G){throw P!==null&&_g(P),_g(A),G}finally{fv()}return new Ug(this.componentType,_,Ra(L,A),A,L)}finally{it(o)}}},Ug=class extends Pg{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new es(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Nv(o[He],o,i,e,t),this.previousInputValues.set(e,t);let s=no(this._tNode.index,o);Pv(s,1)}}get injector(){return new Go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function BR(n,e){let t=n[He],r=qt;return n[r]=e,Dl(t,r,2,"#host",null)}function jR(n,e,t,r,i,o,s){let a=i[He];VR(r,n,e,s);let c=null;e!==null&&(c=_v(e,i[ba]));let l=o.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let d=jh(i,wI(t),null,u,i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&Mg(a,n,r.length-1),Vh(i,d),i[n.index]=d}function VR(n,e,t,r){for(let i of n)e.mergedAttrs=gl(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Lg(e,e.mergedAttrs,!0),t!==null&&hI(r,t,e))}function zR(n,e,t,r,i,o){let s=Fn(),a=i[He],c=Yn(s,i);TI(a,i,s,t,null,r);for(let u=0;u<t.length;u++){let d=s.directiveStart+u,p=Jo(i,a,d,s);Xo(p,i)}SI(a,i,s),c&&Xo(c,i);let l=Jo(i,a,s.directiveStart+s.componentOffset,s);if(n[gr]=i[gr]=l,o!==null)for(let u of o)u(l,e);return yI(a,s,i),l}function $R(n,e,t,r){if(r)ag(n,t,["ng-version","18.2.5"]);else{let{attrs:i,classes:o}=Mk(e.selectors[0]);i&&ag(n,t,i),o&&o.length>0&&dI(n,t,o.join(" "))}}function GR(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function qR(){let n=Fn();mv(at()[He],n)}var rs=(()=>{class n{static{this.__NG_ELEMENT_ID__=KR}}return n})();function KR(){let n=Fn();return qI(n,at())}var WR=rs,GI=class extends WR{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ra(this._hostTNode,this._hostLView)}get injector(){return new Go(this._hostTNode,this._hostLView)}get parentInjector(){let e=gv(this._hostTNode,this._hostLView);if(__(e)){let t=fh(e,this._hostLView),r=hh(e),i=t[He].data[r+8];return new Go(i,t)}else return new Go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=cE(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Tn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Og(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Rg(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!Gk(e),a;if(s)a=t;else{let m=t||{};a=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}let c=s?e:new Sa(Ji(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let g=(s?l:this.parentInjector).get(un,null);g&&(o=g)}let u=Ji(c.componentType??{}),d=Og(this._lContainer,u?.id??null),p=d?.firstChild??null,h=c.create(l,i,p,o);return this.insertImpl(h.hostView,a,Rg(this._hostTNode,d)),h}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Jk(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Qt],l=new GI(c,c[An],c[Qt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return NI(s,i,o,r),e.attachToViewContainerRef(),DE(Jm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=cE(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Dg(this._lContainer,t);r&&(oh(Jm(this._lContainer),t),rI(r[He],r))}detach(e){let t=this._adjustIndex(e,-1),r=Dg(this._lContainer,t);return r&&oh(Jm(this._lContainer),t)!=null?new es(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function cE(n){return n[ch]}function Jm(n){return n[ch]||(n[ch]=[])}function qI(n,e){let t,r=e[n.index];return Fr(r)?t=r:(t=AI(r,e,null,n),e[n.index]=t,Vh(e,t)),KI(t,e,n,r),new GI(t,n,e)}function YR(n,e){let t=n[vt],r=t.createComment(""),i=Yn(e,n),o=sI(t,i);return bh(t,o,r,Ix(t,i),!1),r}var KI=WI,Uv=()=>!1;function QR(n,e,t){return Uv(n,e,t)}function WI(n,e,t,r){if(n[si])return;let i;t.type&8?i=vr(r):i=YR(e,t),n[si]=i}function ZR(n,e,t){if(n[si]&&n[Cl])return!0;let r=t[mr],i=e.index-qt;if(!r||$M(e)||Al(r,i))return!1;let s=Sg(r,i),a=r.data[Ev]?.[i],[c,l]=RR(s,a);return n[si]=c,n[Cl]=l,!0}function JR(n,e,t,r){Uv(n,t,e)||WI(n,e,t,r)}function XR(){KI=JR,Uv=ZR}var Hg=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Bg=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Hv(e,t).matches!==null&&this.queries[t].setDirty()}},jg=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=a1(e):this.predicate=e}},Vg=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},zg=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,e1(t,o)),this.matchTNodeWithReadOption(e,t,eh(t,e,o,!1,!1))}else r===Ea?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,eh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===ve||i===rs||i===Ea&&t.type&4)this.addMatch(t.index,-2);else{let o=eh(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function e1(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function t1(n,e){return n.type&11?Ra(n,e):n.type&4?Fv(n,e):null}function n1(n,e,t,r){return t===-1?t1(e,n):t===-2?r1(n,e,r):Jo(n,n[He],t,e)}function r1(n,e,t){if(t===ve)return Ra(e,n);if(t===Ea)return Fv(e,n);if(t===rs)return qI(e,n)}function YI(n,e,t,r){let i=e[oi].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(n1(e,u,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function $g(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=YI(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=Tn;d<u.length;d++){let p=u[d];p[Wo]===p[Qt]&&$g(p[He],p,l,r)}if(u[wa]!==null){let d=u[wa];for(let p=0;p<d.length;p++){let h=d[p];$g(h[He],h,l,r)}}}}}return r}function i1(n,e){return n[oi].queries[e].queryList}function o1(n,e,t){let r=new Eg((t&4)===4);return Ux(n,e,r,r.destroy),(e[oi]??=new Bg).queries.push(new Hg(r))-1}function s1(n,e,t){let r=dn();return r.firstCreatePass&&(c1(r,new jg(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),o1(r,at(),e)}function a1(n){return n.split(",").map(e=>e.trim())}function c1(n,e,t){n.queries===null&&(n.queries=new Vg),n.queries.track(new zg(e,t))}function Hv(n,e){return n.queries.getByIndex(e)}function l1(n,e){let t=n[He],r=Hv(t,e);return r.crossesNgTemplate?$g(t,n,e,[]):YI(t,n,r,e)}var lE=new Set;function ui(n){lE.has(n)||(lE.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Oa(n,e){ui("NgSignals");let t=cw(n),r=t[Gi];return e?.equal&&(r.equal=e.equal),t.set=i=>Im(r,i),t.update=i=>lw(r,i),t.asReadonly=u1.bind(t),t}function u1(){let n=this[Gi];if(n.readonlyFn===void 0){let e=()=>this();e[Gi]=n,n.readonlyFn=e}return n.readonlyFn}function d1(n){return Object.getPrototypeOf(n.prototype).constructor}function yr(n){let e=d1(n.type),t=!0,r=[n];for(;e;){let i;if(Xi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new me(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Kd(n.inputs),s.inputTransforms=Kd(n.inputTransforms),s.declaredInputs=Kd(n.declaredInputs),s.outputs=Kd(n.outputs);let a=i.hostBindings;a&&g1(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&p1(n,c),l&&m1(n,l),h1(n,i),qD(n.outputs,i.outputs),Xi(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===yr&&(t=!1)}}e=Object.getPrototypeOf(e)}f1(r)}function h1(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function f1(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=gl(i.hostAttrs,t=gl(t,i.hostAttrs))}}function Kd(n){return n===ya?{}:n===On?[]:n}function p1(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function m1(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function g1(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var eo=class{},bl=class{};var Gg=class extends eo{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ih(this);let o=UE(e);this._bootstrapComponents=J_(o.bootstrap),this._r3Injector=R_(e,t,[{provide:eo,useValue:this},{provide:Ia,useValue:this.componentFactoryResolver},...r],ln(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},qg=class extends bl{constructor(e){super(),this.moduleType=e}create(e){return new Gg(this.moduleType,e,[])}};var Th=class extends eo{constructor(e){super(),this.componentFactoryResolver=new Ih(this),this.instance=null;let t=new vl([...e.providers,{provide:eo,useValue:this},{provide:Ia,useValue:this.componentFactoryResolver}],e.parent||cv(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Gh(n,e,t=null){return new Th({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function QI(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function ZI(n,e,t){return n[e]=t}function Aa(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function v1(n,e,t,r){let i=Aa(n,e,t);return Aa(n,e+1,r)||i}function kl(n){return(n.flags&32)===32}function y1(n,e,t,r,i,o,s,a,c){let l=e.consts,u=Dl(e,n,4,s||null,a||null);II(e,t,u,dh(l,c)),mv(e,u);let d=u.tView=Rv(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function JI(n,e,t,r,i,o,s,a,c,l){let u=t+qt,d=e.firstCreatePass?y1(u,e,n,r,i,o,s,a,c):e.data[u];Tl(d,!1);let p=XI(e,n,d,t);pv()&&kv(e,n,p,d),Xo(p,n);let h=AI(p,n,p,d);return n[u]=h,Vh(n,h),QR(h,d,n),lv(d)&&CI(e,n,d),c!=null&&bI(n,d,l),d}function Je(n,e,t,r,i,o,s,a){let c=at(),l=dn(),u=dh(l.consts,o);return JI(c,l,n,e,t,r,i,u,s,a),Je}var XI=e0;function e0(n,e,t,r){return io(!0),e[vt].createComment("")}function C1(n,e,t,r){let i=e[mr],o=!i||Ma()||kl(t)||Al(i,r);if(io(o),o)return e0(n,e,t,r);let s=i.data[JM]?.[r]??null;s!==null&&t.tView!==null&&t.tView.ssrId===null&&(t.tView.ssrId=s);let a=zh(i,n,e,t);Hh(i,r,a);let c=Iv(i,r);return $h(c,a)}function b1(){XI=C1}var ma=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ma||{}),t0=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Kg=class n{constructor(){this.ngZone=z(ae),this.scheduler=z(_a),this.errorHandler=z(ai,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ma.EarlyRead,ma.Write,ma.MixedReadWrite,ma.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>new n})}},Wg=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Bv(n,e){!e?.injector&&$k(Bv);let t=e?.injector??z(Kn);return hl(t)?(ui("NgAfterNextRender"),E1(n,t,e,!0)):_1}function w1(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function E1(n,e,t,r){let i=e.get(t0);i.impl??=e.get(Kg);let o=t?.phase??ma.MixedReadWrite,s=new Wg(i.impl,w1(n,o),r,e.get(vv));return i.impl.register(s),s}var _1={destroy(){}};function n0(n,e,t,r){return Aa(n,h_(),t)?e+IE(t)+r:oo}function Wd(n,e){return n<<17|e<<2}function ts(n){return n>>17&32767}function I1(n){return(n&2)==2}function T1(n,e){return n&131071|e<<17}function Yg(n){return n|2}function Da(n){return(n&131068)>>2}function Xm(n,e){return n&-131069|e<<2}function S1(n){return(n&1)===1}function Qg(n){return n|1}function A1(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ts(s),c=Da(s);n[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||_l(d,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let p=ts(n[a+1]);n[r+1]=Wd(p,a),p!==0&&(n[p+1]=Xm(n[p+1],r)),n[a+1]=T1(n[a+1],r)}else n[r+1]=Wd(a,0),a!==0&&(n[a+1]=Xm(n[a+1],r)),a=r;else n[r+1]=Wd(c,0),a===0?a=r:n[c+1]=Xm(n[c+1],r),c=r;l&&(n[r+1]=Yg(n[r+1])),uE(n,u,r,!0),uE(n,u,r,!1),D1(e,u,n,r,o),s=Wd(a,c),o?e.classBindings=s:e.styleBindings=s}function D1(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&_l(o,e)>=0&&(t[r+1]=Qg(t[r+1]))}function uE(n,e,t,r){let i=n[t+1],o=e===null,s=r?ts(i):Da(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];k1(c,e)&&(a=!0,n[s+1]=r?Qg(l):Yg(l)),s=r?ts(l):Da(l)}a&&(n[t+1]=r?Yg(i):Qg(i))}function k1(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?_l(n,e)>=0:!1}function se(n,e,t){let r=at(),i=h_();if(Aa(r,i,e)){let o=dn(),s=C_();_I(o,s,r,n,e,r[vt],t,!1)}return se}function dE(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Nv(n,t,o[s],s,r)}function qh(n,e){return M1(n,e,null,!0),qh}function M1(n,e,t,r){let i=at(),o=dn(),s=lM(2);if(o.firstUpdatePass&&R1(o,n,s,r),e!==oo&&Aa(i,s,e)){let a=o.data[xa()];L1(o,a,i,i[vt],n,i[s+1]=U1(e,t),r,s)}}function x1(n,e){return e>=n.expandoStartIndex}function R1(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[xa()],s=x1(n,t);H1(o,r)&&e===null&&!s&&(e=!1),e=N1(i,o,e,r),A1(i,o,e,t,s,r)}}function N1(n,e,t,r){let i=fM(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=eg(null,n,e,t,r),t=wl(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=eg(i,n,e,t,r),o===null){let c=O1(n,e,r);c!==void 0&&Array.isArray(c)&&(c=eg(null,n,e,c[1],r),c=wl(c,e.attrs,r),P1(n,e,r,c))}else o=F1(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function O1(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Da(r)!==0)return n[ts(r)]}function P1(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ts(i)]=r}function F1(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=wl(r,s,t)}return wl(r,e.attrs,t)}function eg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=wl(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function wl(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),mk(n,s,t?!0:e[++o]))}return n===void 0?null:n}function L1(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=S1(l)?hE(c,e,t,i,Da(l),s):void 0;if(!Sh(u)){Sh(o)||I1(l)&&(o=hE(c,null,t,i,a,s));let d=e_(xa(),t);kx(r,s,d,i,o)}}function hE(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,p=t[i+1];p===oo&&(p=d?On:void 0);let h=d?Vm(p,r):u===r?p:void 0;if(l&&!Sh(h)&&(h=Vm(c,r)),Sh(h)&&(a=h,s))return a;let m=n[i+1];i=s?ts(m):Da(m)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Vm(c,r))}return a}function Sh(n){return n!==void 0}function U1(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=ln(Tv(n)))),n}function H1(n,e){return(n.flags&(e?8:16))!==0}function B1(n,e,t,r,i,o){let s=e.consts,a=dh(s,i),c=Dl(e,n,2,r,a);return II(e,t,c,dh(s,o)),c.attrs!==null&&Lg(c,c.attrs,!1),c.mergedAttrs!==null&&Lg(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function x(n,e,t,r){let i=at(),o=dn(),s=qt+n,a=i[vt],c=o.firstCreatePass?B1(s,o,i,e,t,r):o.data[s],l=r0(o,i,c,a,e,n);i[s]=l;let u=lv(c);return Tl(c,!0),hI(a,l,c),!kl(c)&&pv()&&kv(o,i,l,c),tM()===0&&Xo(l,i),nM(),u&&(CI(o,i,c),yI(o,c,i)),r!==null&&bI(i,c),x}function D(){let n=Fn();c_()?l_():(n=n.parent,Tl(n,!1));let e=n;iM(e)&&sM(),rM();let t=dn();return t.firstCreatePass&&(mv(t,n),WE(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&CM(e)&&dE(t,e,at(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&bM(e)&&dE(t,e,at(),e.stylesWithoutHost,!1),D}function ye(n,e,t,r){return x(n,e,t,r),D(),ye}var r0=(n,e,t,r,i,o)=>(io(!0),Av(r,i,b_()));function j1(n,e,t,r,i,o){let s=e[mr],a=!s||Ma()||kl(t)||Al(s,o);if(io(a),a)return Av(r,i,b_());let c=zh(s,n,e,t);return Y_(s,o)&&Hh(s,o,c.nextSibling),s&&(F_(t)||L_(c))&&Il(t)&&(oM(t),lI(c)),c}function V1(){r0=j1}var z1=(n,e,t,r)=>(io(!0),eI(e[vt],""));function $1(n,e,t,r){let i,o=e[mr],s=!o||Ma()||Al(o,r)||kl(t);if(io(s),s)return eI(e[vt],"");let a=zh(o,n,e,t),c=cx(o,r);return Hh(o,r,a),i=$h(c,a),i}function G1(){z1=$1}function pn(){return at()}var $o=void 0;function q1(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var K1=["en",[["a","p"],["AM","PM"],$o],[["AM","PM"],$o,$o],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$o,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$o,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$o,"{1} 'at' {0}",$o],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",q1],tg={};function jv(n){let e=W1(n),t=fE(e);if(t)return t;let r=e.split("-")[0];if(t=fE(r),t)return t;if(r==="en")return K1;throw new me(701,!1)}function fE(n){return n in tg||(tg[n]=dl.ng&&dl.ng.common&&dl.ng.common.locales&&dl.ng.common.locales[n]),tg[n]}var Pa=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Pa||{});function W1(n){return n.toLowerCase().replace(/_/g,"-")}var Ah="en-US";var Y1=Ah;function Q1(n){typeof n=="string"&&(Y1=n.toLowerCase().replace(/_/g,"-"))}var Z1=(n,e,t)=>{};function Me(n,e,t,r){let i=at(),o=dn(),s=Fn();return X1(o,i,i[vt],s,n,e,r),Me}function J1(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ah],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function X1(n,e,t,r,i,o,s){let a=lv(r),l=n.firstCreatePass&&MI(n),u=e[gr],d=kI(e),p=!0;if(r.type&3||s){let g=Yn(r,e),y=s?s(g):g,w=d.length,A=s?L=>s(vr(L[r.index])):r.index,_=null;if(!s&&a&&(_=J1(n,e,i,r.index)),_!==null){let L=_.__ngLastListenerFn__||_;L.__ngNextListenerFn__=o,_.__ngLastListenerFn__=o,p=!1}else{o=mE(r,e,u,o),Z1(g,i,o);let L=t.listen(y,i,o);d.push(o,L),l&&l.push(i,A,w,w+1)}}else o=mE(r,e,u,o);let h=r.outputs,m;if(p&&h!==null&&(m=h[i])){let g=m.length;if(g)for(let y=0;y<g;y+=2){let w=m[y],A=m[y+1],P=e[w][A].subscribe(o),G=d.length;d.push(o,P),l&&l.push(i,r.index,G,-(G+1))}}}function pE(n,e,t,r){let i=it(null);try{return Rr(6,e,t),t(r)!==!1}catch(o){return xI(n,o),!1}finally{Rr(7,e,t),it(i)}}function mE(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?no(n.index,e):e;Pv(s,5);let a=pE(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=pE(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Xe(n=1){return mM(n)}function eN(n,e){let t=null,r=Ik(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?NE(n,o,!0):Ak(r,o))return i}return t}function xe(n){let e=at()[Sn][An];if(!e.projection){let t=n?n.length:1,r=e.projection=fk(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?eN(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function Re(n,e=0,t,r,i,o){let s=at(),a=dn(),c=r?n+1:null;c!==null&&JI(s,a,c,r,i,o,null,t);let l=Dl(a,qt+n,16,null,t||null);l.projection===null&&(l.projection=e),l_();let d=!s[mr]||Ma();s[Sn][An].projection[l.projection]===null&&c!==null?tN(s,a,c):d&&(l.flags&32)!==32&&Ax(a,s,l)}function tN(n,e,t){let r=qt+t,i=e.data[r],o=n[r],s=Og(o,i.tView.ssrId),a=RI(n,i,void 0,{dehydratedView:s});NI(o,a,0,Rg(i,s))}function Ml(n,e,t){return i0(n,"",e,"",t),Ml}function i0(n,e,t,r,i){let o=at(),s=n0(o,e,t,r);if(s!==oo){let a=dn(),c=C_();_I(a,c,o,n,s,o[vt],i,!1)}return i0}function Fa(n,e,t){s1(n,e,t)}function is(n){let e=at(),t=dn(),r=f_();dv(r+1);let i=Hv(t,r);if(n.dirty&&Zk(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=l1(e,r);n.reset(o,BM),n.notifyOnChanges()}return!0}return!1}function os(){return i1(at(),f_())}function nN(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function F(n,e=""){let t=at(),r=dn(),i=n+qt,o=r.firstCreatePass?Dl(r,i,1,e,null):r.data[i],s=o0(r,t,o,e,n);t[i]=s,pv()&&kv(r,t,s,o),Tl(o,!1)}var o0=(n,e,t,r,i)=>(io(!0),X_(e[vt],r));function rN(n,e,t,r,i){let o=e[mr],s=!o||Ma()||kl(t)||Al(o,i);return io(s),s?X_(e[vt],r):zh(o,n,e,t)}function iN(){o0=rN}function di(n){return tn("",n,""),di}function tn(n,e,t){let r=at(),i=n0(r,n,e,t);return i!==oo&&tR(r,xa(),i),tn}function oN(n,e,t){let r=dn();if(r.firstCreatePass){let i=Xi(n);Zg(t,r.data,r.blueprint,i,!0),Zg(e,r.data,r.blueprint,i,!1)}}function Zg(n,e,t,r,i){if(n=cn(n),Array.isArray(n))for(let o=0;o<n.length;o++)Zg(n[o],e,t,r,i);else{let o=dn(),s=at(),a=Fn(),c=Ca(n)?n:cn(n.provide),l=$E(n),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(Ca(n)||!n.multi){let h=new Zo(l,i,T),m=rg(c,e,i?u:u+p,d);m===-1?(gg(mh(a,s),o,c),ng(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(h),s.push(h)):(t[m]=h,s[m]=h)}else{let h=rg(c,e,u+p,d),m=rg(c,e,u,u+p),g=h>=0&&t[h],y=m>=0&&t[m];if(i&&!y||!i&&!g){gg(mh(a,s),o,c);let w=cN(i?aN:sN,t.length,i,r,l);!i&&y&&(t[m].providerFactory=w),ng(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(w),s.push(w)}else{let w=s0(t[i?m:h],l,!i&&r);ng(o,n,h>-1?h:m,w)}!i&&r&&y&&t[m].componentProviders++}}}function ng(n,e,t,r){let i=Ca(e),o=Lk(e);if(i||o){let c=(o?cn(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function s0(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function rg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function sN(n,e,t,r){return Jg(this.multi,[])}function aN(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Jo(t,t[He],this.providerFactory.index,r);o=a.slice(0,s),Jg(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Jg(i,o);return o}function Jg(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function cN(n,e,t,r,i){let o=new Zo(n,t,T);return o.multi=[],o.index=e,o.componentProviders=0,s0(o,i,r&&!t),o}function ss(n,e=[]){return t=>{t.providersResolver=(r,i)=>oN(r,i?i(n):n,e)}}var lN=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=jE(!1,t.type),i=r.length>0?Gh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ce({token:n,providedIn:"environment",factory:()=>new n(oe(un))})}}return n})();function gt(n){ui("NgStandalone"),n.getStandaloneInjector=e=>e.get(lN).getOrCreateStandaloneInjector(n)}function as(n,e,t,r){return uN(at(),d_(),n,e,t,r)}function a0(n,e){let t=n[e];return t===oo?void 0:t}function uN(n,e,t,r,i,o){let s=e+t;return Aa(n,s,i)?ZI(n,s+1,o?r.call(o,i):r(i)):a0(n,s+1)}function dN(n,e,t,r,i,o,s){let a=e+t;return v1(n,a,i,o)?ZI(n,a+2,s?r.call(s,i,o):r(i,o)):a0(n,a+2)}function c0(n,e){let t=dn(),r,i=n+qt;t.firstCreatePass?(r=hN(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=qo(r.type,!0)),s,a=In(T);try{let c=ph(!1),l=o();return ph(c),nN(t,at(),i,l),l}finally{In(a)}}function hN(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function l0(n,e,t,r){let i=n+qt,o=at(),s=Qk(o,i);return fN(o,i)?dN(o,d_(),e,s.transform,t,r,s):s.transform(t,r)}function fN(n,e){return n[He].data[e].pure}var Kh=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var u0=new le("");function cs(n){return!!n&&typeof n.then=="function"}function d0(n){return!!n&&typeof n.subscribe=="function"}var La=new le(""),h0=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=z(La,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(cs(o))t.push(o);else if(d0(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ls=new le("");function pN(){aw(()=>{throw new me(600,!1)})}function mN(n){return n.isBoundToModule}var gN=10;function vN(n,e,t){try{let r=t();return cs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Lr=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=z(UM),this.afterRenderManager=z(t0),this.zonelessEnabled=z(Lv),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new kt,this.afterTick=new kt,this.componentTypes=[],this.components=[],this.isStable=z(li).hasPendingTasks.pipe(Te(t=>!t)),this._injector=z(un)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof _h;if(!this._injector.get(h0).done){let p=!i&&LE(t),h=!1;throw new me(405,h)}let s;i?s=t:s=this._injector.get(Ia).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=mN(s)?void 0:this._injector.get(eo),c=r||s.selector,l=s.create(Kn.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(u0,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),th(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new me(101,!1);let t=it(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,it(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Ta,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<gN;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)yN(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ph(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;th(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(ls,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>th(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new me(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function th(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var Yd;function Wh(n){Yd??=new WeakMap;let e=Yd.get(n);if(e)return e;let t=n.isStable.pipe(dr(r=>r)).toPromise().then(()=>{});return Yd.set(n,t),n.onDestroy(()=>Yd?.delete(n)),t}function yN(n,e,t,r){if(!t&&!Ph(n))return;FI(n,e,t&&!r?0:1)}var Xg=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Yh=(()=>{class n{compileModuleSync(t){return new qg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=UE(t),o=J_(i.declarations).reduce((s,a)=>{let c=Ji(a);return c&&s.push(new Sa(c)),s},[]);return new Xg(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var CN=(()=>{class n{constructor(){this.zone=z(ae),this.changeDetectionScheduler=z(_a),this.applicationRef=z(Lr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bN=new le("",{factory:()=>!1});function f0({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ae(re(M({},p0()),{scheduleInRootZone:t})),[{provide:ae,useFactory:n},{provide:Ko,multi:!0,useFactory:()=>{let r=z(CN,{optional:!0});return()=>r.initialize()}},{provide:Ko,multi:!0,useFactory:()=>{let r=z(wN);return()=>{r.initialize()}}},e===!0?{provide:zI,useValue:!0}:[],{provide:$I,useValue:t??N_}]}function Vv(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=f0({ngZoneFactory:()=>{let i=p0(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&ui("NgZone_CoalesceEvent"),new ae(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return to([{provide:bN,useValue:!0},{provide:Lv,useValue:!1},r])}function p0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var wN=(()=>{class n{constructor(){this.subscription=new Ft,this.initialized=!1,this.zone=z(ae),this.pendingTasks=z(li)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ae.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ae.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var EN=(()=>{class n{constructor(){this.appRef=z(Lr),this.taskService=z(li),this.ngZone=z(ae),this.zonelessEnabled=z(Lv),this.disableScheduling=z(zI,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ft,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(vh):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(z($I,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof wg||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Xw:O_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(vh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Xw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function _N(){return typeof $localize<"u"&&$localize.locale||Ah}var Qh=new le("",{providedIn:"root",factory:()=>z(Qh,qe.Optional|qe.SkipSelf)||_N()});var m0=new le("");function Qd(n){return!!n.platformInjector}function IN(n){let e=Qd(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ae);return t.run(()=>{Qd(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(ai,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Qd(n)){let o=()=>e.destroy(),s=n.platformInjector.get(m0);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else n.moduleRef.onDestroy(()=>{th(n.allPlatformModules,n.moduleRef),i.unsubscribe()});return vN(r,t,()=>{let o=e.get(h0);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Qh,Ah);if(Q1(s||Ah),Qd(n)){let a=e.get(Lr);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return TN(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function TN(n,e){let t=n.injector.get(Lr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new me(-403,!1);e.push(n)}var nh=null;function SN(n=[],e){return Kn.create({name:e,providers:[{provide:Nh,useValue:"platform"},{provide:m0,useValue:new Set([()=>nh=null])},...n]})}function AN(n=[]){if(nh)return nh;let e=SN(n);return nh=e,pN(),DN(e),e}function DN(n){n.get(bv,null)?.forEach(t=>t())}var _e=(()=>{class n{static{this.__NG_ELEMENT_ID__=kN}}return n})();function kN(n){return MN(Fn(),at(),(n&16)===16)}function MN(n,e,t){if(Il(n)&&!t){let r=no(n.index,e);return new es(r,r)}else if(n.type&175){let r=e[Sn];return new es(r,e)}return null}var ev=class{constructor(){}supports(e){return e instanceof Map||QI(e)}create(){return new tv}},tv=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||QI(e)))throw new me(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new nv(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},nv=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function gE(){return new zv([new ev])}var zv=(()=>{class n{static{this.\u0275prov=ce({token:n,providedIn:"root",factory:gE})}constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||gE()),deps:[[n,new iv,new xh]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new me(901,!1)}}return n})();function g0(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=AN(r),o=[f0({}),{provide:_a,useExisting:EN},...t||[]],s=new Th({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return IN({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var v0=new le("");var vE=!1;function xN(){vE||(vE=!0,ix(),V1(),iN(),G1(),b1(),XR(),OR(),Lx())}function RN(n,e){return Wh(n)}function y0(){return to([{provide:qd,useFactory:()=>{let n=!0;return hl()&&(n=!!z(Na,{optional:!0})?.get(K_,null)),n&&ui("NgHydration"),n}},{provide:Ko,useValue:()=>{AR(!1),hl()&&z(qd)&&(NN(),xN())},multi:!0},{provide:Z_,useFactory:()=>hl()&&z(qd)},{provide:ls,useFactory:()=>{if(hl()&&z(qd)){let n=z(Lr),e=z(Kn);return()=>{RN(n,e).then(()=>{xR(n)})}}return()=>{}},multi:!0}])}function NN(){let n=Lh(),e;for(let t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===nx){e=t;break}if(!e)throw new me(-507,!1)}function Ua(n,e){ui("NgSignals");let t=iw(n);return e?.equal&&(t[Gi].equal=e.equal),t}function Ur(n){let e=it(null);try{return n()}finally{it(e)}}function C0(n){let e=Ji(n);if(!e)return null;let t=new Sa(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var S0=null;function pi(){return S0}function A0(n){S0??=n}var Zh=class{};var yt=new le(""),Zv=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:()=>z(FN),providedIn:"platform"})}}return n})(),D0=new le(""),FN=(()=>{class n extends Zv{constructor(){super(),this._doc=z(yt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pi().getBaseHref(this._doc)}onPopState(t){let r=pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Jv(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function b0(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function hi(n){return n&&n[0]!=="?"?"?"+n:n}var us=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:()=>z(Xv),providedIn:"root"})}}return n})(),k0=new le(""),Xv=(()=>{class n extends us{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??z(yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Jv(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+hi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+hi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+hi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(oe(Zv),oe(k0,8))}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),M0=(()=>{class n extends us{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Jv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+hi(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+hi(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(oe(Zv),oe(k0,8))}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac})}}return n})(),mi=(()=>{class n{constructor(t){this._subject=new Ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=HN(b0(w0(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+hi(r))}normalize(t){return n.stripTrailingSlash(UN(this._basePath,w0(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=hi}static{this.joinWithSlash=Jv}static{this.stripTrailingSlash=b0}static{this.\u0275fac=function(r){return new(r||n)(oe(us))}}static{this.\u0275prov=ce({token:n,factory:()=>LN(),providedIn:"root"})}}return n})();function LN(){return new mi(oe(us))}function UN(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function w0(n){return n.replace(/\/index.html$/,"")}function HN(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var x0=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(x0||{});var fi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function xl(n,e){let t=jv(n),r=t[Pa.NumberSymbols][e];if(typeof r>"u"){if(e===fi.CurrencyDecimal)return t[Pa.NumberSymbols][fi.Decimal];if(e===fi.CurrencyGroup)return t[Pa.NumberSymbols][fi.Group]}return r}function BN(n,e){return jv(n)[Pa.NumberFormats][e]}var jN=/^(\d+)?\.((\d+)(-(\d+))?)?$/,E0=22,Jh=".",Rl="0",VN=";",zN=",",$v="#";function $N(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=xl(t,fi.Infinity);else{let l=WN(n);s&&(l=KN(l));let u=e.minInt,d=e.minFrac,p=e.maxFrac;if(o){let A=o.match(jN);if(A===null)throw new Error(`${o} is not a valid digit info`);let _=A[1],L=A[3],P=A[5];_!=null&&(u=Gv(_)),L!=null&&(d=Gv(L)),P!=null?p=Gv(P):L!=null&&d>p&&(p=d)}YN(l,d,p);let h=l.digits,m=l.integerLen,g=l.exponent,y=[];for(c=h.every(A=>!A);m<u;m++)h.unshift(0);for(;m<0;m++)h.unshift(0);m>0?y=h.splice(m,h.length):(y=h,h=[0]);let w=[];for(h.length>=e.lgSize&&w.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)w.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&w.unshift(h.join("")),a=w.join(xl(t,r)),y.length&&(a+=xl(t,i)+y.join("")),g&&(a+=xl(t,fi.Exponential)+"+"+g)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function GN(n,e,t){let r=BN(e,x0.Decimal),i=qN(r,xl(e,fi.MinusSign));return $N(n,i,e,fi.Group,fi.Decimal,t)}function qN(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(VN),i=r[0],o=r[1],s=i.indexOf(Jh)!==-1?i.split(Jh):[i.substring(0,i.lastIndexOf(Rl)+1),i.substring(i.lastIndexOf(Rl)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf($v));for(let u=0;u<c.length;u++){let d=c.charAt(u);d===Rl?t.minFrac=t.maxFrac=u+1:d===$v?t.maxFrac=u+1:t.posSuf+=d}let l=a.split(zN);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let u=i.length-t.posPre.length-t.posSuf.length,d=o.indexOf($v);t.negPre=o.substring(0,d).replace(/'/g,""),t.negSuf=o.slice(d+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function KN(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function WN(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Jh))>-1&&(e=e.replace(Jh,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Rl;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Rl;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>E0&&(r=r.splice(0,E0-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function YN(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=e+n.integerLen,u=r.reduceRight(function(d,p,h,m){return p=p+d,m[h]=p<10?p:p-10,c&&(m[h]===0&&h>=l?m.pop():c=!1),p>=10?1:0},0);u&&(r.unshift(u),n.integerLen++)}function Gv(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Xh(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var qv=/\s+/,_0=[],Ba=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=_0,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(qv):_0}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(qv):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(qv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(T(ve),T(Zn))}}static{this.\u0275dir=xt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var Dn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Kv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){I0("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){I0("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(T(rs),T(Ea))}}static{this.\u0275dir=xt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Kv=class{constructor(){this.$implicit=null,this.ngIf=null}};function I0(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${ln(e)}'.`)}var R0=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:Pr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(T(ve),T(zv),T(Zn))}}static{this.\u0275dir=xt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})();function QN(n,e){return new me(2100,!1)}var N0=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!ZN(t))return null;i||=this._locale;try{let o=JN(t);return GN(o,i,r)}catch(o){throw QN(n,o.message)}}static{this.\u0275fac=function(r){return new(r||n)(T(Qh,16))}}static{this.\u0275pipe=OE({name:"number",type:n,pure:!0,standalone:!0})}}return n})();function ZN(n){return!(n==null||n===""||n!==n)}function JN(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var Rt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Bt({type:n})}static{this.\u0275inj=Ht({})}}return n})(),ey="browser",XN="server";function eO(n){return n===ey}function Nl(n){return n===XN}var O0=(()=>{class n{static{this.\u0275prov=ce({token:n,providedIn:"root",factory:()=>eO(z(Qn))?new Wv(z(yt),window):new Yv})}}return n})(),Wv=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=tO(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function tO(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Yv=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ha=class{};var Pl=class{},nf=class{},Br=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var ny=class{encodeKey(e){return P0(e)}encodeValue(e){return P0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function nO(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var rO=/%(\d[a-f0-9])/gi,iO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function P0(n){return encodeURIComponent(n).replace(rO,(e,t)=>iO[t]??e)}function ef(n){return`${n}`}var so=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ny,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=nO(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(ef):[ef(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(ef(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(ef(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ry=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function oO(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function F0(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function L0(n){return typeof Blob<"u"&&n instanceof Blob}function U0(n){return typeof FormData<"u"&&n instanceof FormData}function sO(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Ol=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(oO(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Br,this.context??=new ry,!this.params)this.params=new so,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||F0(this.body)||L0(this.body)||U0(this.body)||sO(this.body)?this.body:this.body instanceof so?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||U0(this.body)?null:L0(this.body)?this.body.type||null:F0(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof so?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((p,h)=>p.set(h,e.setHeaders[h]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((p,h)=>p.set(h,e.setParams[h]),u)),new n(t,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},vi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(vi||{}),Fl=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Br,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},rf=class n extends Fl{constructor(e={}){super(e),this.type=vi.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ao=class n extends Fl{constructor(e={}){super(e),this.type=vi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Hr=class extends Fl{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},sy=200,aO=204;function ty(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Ll=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ol)o=t;else{let c;i.headers instanceof Br?c=i.headers:c=new Br(i.headers);let l;i.params&&(i.params instanceof so?l=i.params:l=new so({fromObject:i.params})),o=new Ol(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=ge(o).pipe(Gn(c=>this.handler.handle(c)));if(t instanceof Ol||i.observe==="events")return s;let a=s.pipe(sn(c=>c instanceof ao));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Te(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Te(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Te(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(Te(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new so().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ty(i,r))}post(t,r,i={}){return this.request("POST",t,ty(i,r))}put(t,r,i={}){return this.request("PUT",t,ty(i,r))}static{this.\u0275fac=function(r){return new(r||n)(oe(Pl))}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac})}}return n})(),cO=/^\)\]\}',?\n/,lO="X-Request-URL";function H0(n){if(n.url)return n.url;let e=lO.toLocaleLowerCase();return n.headers.get(e)}var uO=(()=>{class n{constructor(){this.fetchImpl=z(iy,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=z(ae)}handle(t){return new $e(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(oy,o=>r.error(new Hr({error:o}))),()=>i.abort()})}doRequest(t,r,i){return S(this,null,function*(){let o=this.createRequestInit(t),s;try{let h=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,M({signal:r},o)));dO(h),i.next({type:vi.Sent}),s=yield h}catch(h){i.error(new Hr({error:h,status:h.status??0,statusText:h.statusText,url:t.urlWithParams,headers:h.headers}));return}let a=new Br(s.headers),c=s.statusText,l=H0(s)??t.urlWithParams,u=s.status,d=null;if(t.reportProgress&&i.next(new rf({headers:a,status:u,statusText:c,url:l})),s.body){let h=s.headers.get("content-length"),m=[],g=s.body.getReader(),y=0,w,A,_=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>S(this,null,function*(){for(;;){let{done:P,value:G}=yield g.read();if(P)break;if(m.push(G),y+=G.length,t.reportProgress){A=t.responseType==="text"?(A??"")+(w??=new TextDecoder).decode(G,{stream:!0}):void 0;let H=()=>i.next({type:vi.DownloadProgress,total:h?+h:void 0,loaded:y,partialText:A});_?_.run(H):H()}}}));let L=this.concatChunks(m,y);try{let P=s.headers.get("Content-Type")??"";d=this.parseBody(t,L,P)}catch(P){i.error(new Hr({error:P,headers:new Br(s.headers),status:s.status,statusText:s.statusText,url:H0(s)??t.urlWithParams}));return}}u===0&&(u=d?sy:0),u>=200&&u<300?(i.next(new ao({body:d,headers:a,status:u,statusText:c,url:l})),i.complete()):i.error(new Hr({error:d,headers:a,status:u,statusText:c,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(cO,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac})}}return n})(),iy=class{};function oy(){}function dO(n){n.then(oy,oy)}function Z0(n,e){return e(n)}function hO(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function fO(n,e,t){return(r,i)=>Wn(t,()=>e(r,o=>n(o,i)))}var pO=new le(""),af=new le(""),J0=new le(""),X0=new le("",{providedIn:"root",factory:()=>!0});function mO(){let n=null;return(e,t)=>{n===null&&(n=(z(pO,{optional:!0})??[]).reduceRight(hO,Z0));let r=z(li);if(z(X0)){let o=r.add();return n(e,t).pipe(Wi(()=>r.remove(o)))}else return n(e,t)}}var B0=(()=>{class n extends Pl{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=z(li),this.contributeToStability=z(X0)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(af),...this.injector.get(J0,[])]));this.chain=r.reduceRight((i,o)=>fO(i,o,this.injector),Z0)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Wi(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(oe(nf),oe(un))}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac})}}return n})(),gO=0,j0,vO="JSONP injected script did not invoke callback.",yO="JSONP requests must use JSONP request method.",CO="JSONP requests must use Json response type.",bO="JSONP requests do not support headers.",of=class{};function wO(){return typeof window=="object"?window:{}}var eT=(()=>{class n{constructor(t,r){this.callbackMap=t,this.document=r,this.resolvedPromise=Promise.resolve()}nextCallback(){return`ng_jsonp_callback_${gO++}`}handle(t){if(t.method!=="JSONP")throw new Error(yO);if(t.responseType!=="json")throw new Error(CO);if(t.headers.keys().length>0)throw new Error(bO);return new $e(r=>{let i=this.nextCallback(),o=t.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${i}$1`),s=this.document.createElement("script");s.src=o;let a=null,c=!1;this.callbackMap[i]=p=>{delete this.callbackMap[i],a=p,c=!0};let l=()=>{s.remove(),delete this.callbackMap[i]},u=p=>{this.resolvedPromise.then(()=>{if(l(),!c){r.error(new Hr({url:o,status:0,statusText:"JSONP Error",error:new Error(vO)}));return}r.next(new ao({body:a,status:sy,statusText:"OK",url:o})),r.complete()})},d=p=>{l(),r.error(new Hr({error:p,status:0,statusText:"JSONP Error",url:o}))};return s.addEventListener("load",u),s.addEventListener("error",d),this.document.body.appendChild(s),r.next({type:vi.Sent}),()=>{c||this.removeListeners(s),l()}})}removeListeners(t){j0??=this.document.implementation.createHTMLDocument(),j0.adoptNode(t)}static{this.\u0275fac=function(r){return new(r||n)(oe(of),oe(yt))}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac})}}return n})();function EO(n,e){return n.method==="JSONP"?z(eT).handle(n):e(n)}var _O=/^\)\]\}',?\n/;function IO(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var V0=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new me(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ge(r.\u0275loadImpl()):ge(null)).pipe(an(()=>new $e(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((g,y)=>s.setRequestHeader(g,y.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let g=t.detectContentTypeHeader();g!==null&&s.setRequestHeader("Content-Type",g)}if(t.responseType){let g=t.responseType.toLowerCase();s.responseType=g!=="json"?g:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let g=s.statusText||"OK",y=new Br(s.getAllResponseHeaders()),w=IO(s)||t.url;return c=new rf({headers:y,status:s.status,statusText:g,url:w}),c},u=()=>{let{headers:g,status:y,statusText:w,url:A}=l(),_=null;y!==aO&&(_=typeof s.response>"u"?s.responseText:s.response),y===0&&(y=_?sy:0);let L=y>=200&&y<300;if(t.responseType==="json"&&typeof _=="string"){let P=_;_=_.replace(_O,"");try{_=_!==""?JSON.parse(_):null}catch(G){_=P,L&&(L=!1,_={error:G,text:_})}}L?(o.next(new ao({body:_,headers:g,status:y,statusText:w,url:A||void 0})),o.complete()):o.error(new Hr({error:_,headers:g,status:y,statusText:w,url:A||void 0}))},d=g=>{let{url:y}=l(),w=new Hr({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:y||void 0});o.error(w)},p=!1,h=g=>{p||(o.next(l()),p=!0);let y={type:vi.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(y.total=g.total),t.responseType==="text"&&s.responseText&&(y.partialText=s.responseText),o.next(y)},m=g=>{let y={type:vi.UploadProgress,loaded:g.loaded};g.lengthComputable&&(y.total=g.total),o.next(y)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",h),a!==null&&s.upload&&s.upload.addEventListener("progress",m)),s.send(a),o.next({type:vi.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",h),a!==null&&s.upload&&s.upload.removeEventListener("progress",m)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(oe(Ha))}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac})}}return n})(),tT=new le(""),TO="XSRF-TOKEN",SO=new le("",{providedIn:"root",factory:()=>TO}),AO="X-XSRF-TOKEN",DO=new le("",{providedIn:"root",factory:()=>AO}),sf=class{},kO=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xh(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(oe(yt),oe(Qn),oe(SO))}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac})}}return n})();function MO(n,e){let t=n.url.toLowerCase();if(!z(tT)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=z(sf).getToken(),i=z(DO);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var ay=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(ay||{});function nT(n,e){return{\u0275kind:n,\u0275providers:e}}function cf(...n){let e=[Ll,V0,B0,{provide:Pl,useExisting:B0},{provide:nf,useFactory:()=>z(uO,{optional:!0})??z(V0)},{provide:af,useValue:MO,multi:!0},{provide:tT,useValue:!0},{provide:sf,useClass:kO}];for(let t of n)e.push(...t.\u0275providers);return to(e)}var z0=new le("");function xO(){return nT(ay.LegacyInterceptors,[{provide:z0,useFactory:mO},{provide:af,useExisting:z0,multi:!0}])}function rT(){return nT(ay.JsonpSupport,[eT,{provide:of,useFactory:wO},{provide:af,useValue:EO,multi:!0}])}var iT=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Bt({type:n})}static{this.\u0275inj=Ht({providers:[cf(xO())]})}}return n})();var RO=new le(""),$0="b",G0="h",q0="s",K0="st",W0="u",Y0="rt",tf=new le(""),NO=["GET","HEAD"];function OO(n,e){let h=z(tf),{isCacheActive:t}=h,r=kr(h,["isCacheActive"]),{transferCache:i,method:o}=n;if(!t||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!NO.includes(o)||!r.includeRequestsWithAuthHeaders&&PO(n)||r.filter?.(n)===!1)return e(n);let s=z(Na),a=z(RO,{optional:!0}),c=Nl(z(Qn));if(a&&!c)throw new me(2803,!1);let l=c&&a?HO(n.url,a):n.url,u=LO(n,l),d=s.get(u,null),p=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(p=i.includeHeaders),d){let{[$0]:m,[Y0]:g,[G0]:y,[q0]:w,[K0]:A,[W0]:_}=d,L=m;switch(g){case"arraybuffer":L=new TextEncoder().encode(m).buffer;break;case"blob":L=new Blob([m]);break}let P=new Br(y);return ge(new ao({body:L,headers:P,status:w,statusText:A,url:_}))}return e(n).pipe(Ut(m=>{m instanceof ao&&c&&s.set(u,{[$0]:m.body,[G0]:FO(m.headers,p),[q0]:m.status,[K0]:m.statusText,[W0]:l,[Y0]:n.responseType})}))}function PO(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function FO(n,e){if(!e)return{};let t={};for(let r of e){let i=n.getAll(r);i!==null&&(t[r]=i)}return t}function Q0(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function LO(n,e){let{params:t,method:r,responseType:i}=n,o=Q0(t),s=n.serializeBody();s instanceof URLSearchParams?s=Q0(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),c=UO(a);return c}function UO(n){let e=0;for(let t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function oT(n){return[{provide:tf,useFactory:()=>(ui("NgHttpTransferCache"),M({isCacheActive:!0},n))},{provide:J0,useValue:OO,multi:!0,deps:[Na,tf]},{provide:ls,multi:!0,useFactory:()=>{let e=z(Lr),t=z(tf);return()=>{Wh(e).then(()=>{t.isCacheActive=!1})}}}]}function HO(n,e){let t=new URL(n,"resolve://").origin,r=e[t];return r?n.replace(t,r):n}var uy=class extends Zh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},dy=class n extends uy{static makeCurrent(){A0(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=BO();return t==null?null:jO(t)}resetBaseElement(){Ul=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Xh(document.cookie,e)}},Ul=null;function BO(){return Ul=Ul||document.querySelector("base"),Ul?Ul.getAttribute("href"):null}function jO(n){return new URL(n,document.baseURI).pathname}var VO=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac})}}return n})(),lf=new le(""),uT=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new me(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(oe(lf),oe(ae))}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac})}}return n})(),Hl=class{constructor(e){this._doc=e}},cy="ng-app-id",dT=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Nl(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${cy}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(cy),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(cy,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(oe(yt),oe(Uh),oe(wv,8),oe(Qn))}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac})}}return n})(),ly={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},py=/%COMP%/g,hT="%COMP%",zO=`_nghost-${hT}`,$O=`_ngcontent-${hT}`,GO=!0,qO=new le("",{providedIn:"root",factory:()=>GO});function KO(n){return $O.replace(py,n)}function WO(n){return zO.replace(py,n)}function fT(n,e){return e.map(t=>t.replace(py,n))}var aT=(()=>{class n{constructor(t,r,i,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Nl(a),this.defaultRenderer=new Bl(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Or.ShadowDom&&(r=re(M({},r),{encapsulation:Or.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof uf?i.applyToHost(t):i instanceof jl&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Or.Emulated:o=new uf(c,l,r,this.appId,u,s,a,d);break;case Or.ShadowDom:return new hy(c,l,t,r,s,a,this.nonce,d);default:o=new jl(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(oe(uT),oe(dT),oe(Uh),oe(qO),oe(yt),oe(Qn),oe(ae),oe(wv))}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac})}}return n})(),Bl=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(ly[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(cT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(cT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new me(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=ly[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=ly[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Pr.DashCase|Pr.Important)?e.style.setProperty(t,r,i&Pr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Pr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=pi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function cT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var hy=class extends Bl{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=fT(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},jl=class extends Bl{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?fT(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},uf=class extends jl{constructor(e,t,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,t,r,o,s,a,c,l),this.contentAttr=KO(l),this.hostAttr=WO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},YO=(()=>{class n extends Hl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(oe(yt))}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac})}}return n})(),QO=(()=>{class n extends Hl{constructor(t){super(t),this.delegate=z(v0,{optional:!0})}supports(t){return this.delegate?this.delegate.supports(t):!1}addEventListener(t,r,i){return this.delegate.addEventListener(t,r,i)}removeEventListener(t,r,i){return this.delegate.removeEventListener(t,r,i)}static{this.\u0275fac=function(r){return new(r||n)(oe(yt))}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac})}}return n})(),lT=["alt","control","meta","shift"],ZO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},JO={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},XO=(()=>{class n extends Hl{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pi().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),lT.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=ZO[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),lT.forEach(s=>{if(s!==i){let a=JO[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(oe(yt))}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac})}}return n})();function pT(n,e){return g0(M({rootComponent:n},eP(e)))}function eP(n){return{appProviders:[...oP,...n?.providers??[]],platformProviders:iP}}function tP(){dy.makeCurrent()}function nP(){return new ai}function rP(){return V_(document),document}var iP=[{provide:Qn,useValue:ey},{provide:bv,useValue:tP,multi:!0},{provide:yt,useFactory:rP,deps:[]}];var oP=[{provide:Nh,useValue:"root"},{provide:ai,useFactory:nP,deps:[]},{provide:lf,useClass:YO,multi:!0,deps:[yt,ae,Qn]},{provide:lf,useClass:XO,multi:!0,deps:[yt]},{provide:lf,useClass:QO,multi:!0},aT,dT,uT,{provide:Ta,useExisting:aT},{provide:Ha,useClass:VO,deps:[]},[]];var mT=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(oe(yt))}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var fy=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n}(fy||{});function gT(...n){let e=[],t=new Set,r=t.has(fy.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of n)t.add(o),i.length&&e.push(i);return to([[],y0(),t.has(fy.NoHttpTransferCache)||r?[]:oT({}),e])}var Ve="primary",ru=Symbol("RouteTitle"),Cy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function qa(n){return new Cy(n)}function cP(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function lP(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!jr(n[t],e[t]))return!1;return!0}function jr(n,e){let t=n?by(n):void 0,r=e?by(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!AT(n[i],e[i]))return!1;return!0}function by(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function AT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function DT(n){return n.length>0?n[n.length-1]:null}function lo(n){return Pm(n)?n:cs(n)?Ge(Promise.resolve(n)):ge(n)}var uP={exact:MT,subset:xT},kT={exact:dP,subset:hP,ignored:()=>!0};function vT(n,e,t){return uP[t.paths](n.root,e.root,t.matrixParams)&&kT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function dP(n,e){return jr(n,e)}function MT(n,e,t){if(!hs(n.segments,e.segments)||!ff(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!MT(n.children[r],e.children[r],t))return!1;return!0}function hP(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>AT(n[t],e[t]))}function xT(n,e,t){return RT(n,e,e.segments,t)}function RT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!hs(i,t)||e.hasChildren()||!ff(i,t,r))}else if(n.segments.length===t.length){if(!hs(n.segments,t)||!ff(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!xT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!hs(n.segments,i)||!ff(n.segments,i,r)||!n.children[Ve]?!1:RT(n.children[Ve],e,o,r)}}function ff(n,e,t){return e.every((r,i)=>kT[t](n[i].parameters,r.parameters))}var Ci=class{constructor(e=new ct([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=qa(this.queryParams),this._queryParamMap}toString(){return mP.serialize(this)}},ct=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pf(this)}},ds=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=qa(this.parameters),this._parameterMap}toString(){return OT(this)}};function fP(n,e){return hs(n,e)&&n.every((t,r)=>jr(t.parameters,e[r].parameters))}function hs(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function pP(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ve&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ve&&(t=t.concat(e(i,r)))}),t}var iu=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:()=>new Ka,providedIn:"root"})}}return n})(),Ka=class{parse(e){let t=new Ey(e);return new Ci(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Vl(e.root,!0)}`,r=yP(e.queryParams),i=typeof e.fragment=="string"?`#${gP(e.fragment)}`:"";return`${t}${r}${i}`}},mP=new Ka;function pf(n){return n.segments.map(e=>OT(e)).join("/")}function Vl(n,e){if(!n.hasChildren())return pf(n);if(e){let t=n.children[Ve]?Vl(n.children[Ve],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Ve&&r.push(`${i}:${Vl(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=pP(n,(r,i)=>i===Ve?[Vl(n.children[Ve],!1)]:[`${i}:${Vl(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Ve]!=null?`${pf(n)}/${t[0]}`:`${pf(n)}/(${t.join("//")})`}}function NT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function df(n){return NT(n).replace(/%3B/gi,";")}function gP(n){return encodeURI(n)}function wy(n){return NT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mf(n){return decodeURIComponent(n)}function yT(n){return mf(n.replace(/\+/g,"%20"))}function OT(n){return`${wy(n.path)}${vP(n.parameters)}`}function vP(n){return Object.entries(n).map(([e,t])=>`;${wy(e)}=${wy(t)}`).join("")}function yP(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${df(t)}=${df(i)}`).join("&"):`${df(t)}=${df(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var CP=/^[^\/()?;#]+/;function my(n){let e=n.match(CP);return e?e[0]:""}var bP=/^[^\/()?;=#]+/;function wP(n){let e=n.match(bP);return e?e[0]:""}var EP=/^[^=?&#]+/;function _P(n){let e=n.match(EP);return e?e[0]:""}var IP=/^[^&#]+/;function TP(n){let e=n.match(IP);return e?e[0]:""}var Ey=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ct([],{}):new ct([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ve]=new ct(e,t)),r}parseSegment(){let e=my(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new me(4009,!1);return this.capture(e),new ds(mf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=wP(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=my(this.remaining);i&&(r=i,this.capture(r))}e[mf(t)]=mf(r)}parseQueryParam(e){let t=_P(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=TP(this.remaining);s&&(r=s,this.capture(r))}let i=yT(t),o=yT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=my(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new me(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ve);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Ve]:new ct([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new me(4011,!1)}};function PT(n){return n.segments.length>0?new ct([],{[Ve]:n}):n}function FT(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=FT(i);if(r===Ve&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ct(n.segments,e);return SP(t)}function SP(n){if(n.numberOfChildren===1&&n.children[Ve]){let e=n.children[Ve];return new ct(n.segments.concat(e.segments),e.children)}return n}function Wl(n){return n instanceof Ci}function AP(n,e,t=null,r=null){let i=LT(n);return UT(i,e,t,r)}function LT(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new ct(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=PT(r);return e??i}function UT(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return gy(i,i,i,t,r);let o=DP(e);if(o.toRoot())return gy(i,i,new ct([],{}),t,r);let s=kP(o,i,n),a=s.processChildren?Gl(s.segmentGroup,s.index,o.commands):BT(s.segmentGroup,s.index,o.commands);return gy(i,s.segmentGroup,a,t,r)}function gf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Yl(n){return typeof n=="object"&&n!=null&&n.outlets}function gy(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=HT(n,e,t);let a=PT(FT(s));return new Ci(a,o,i)}function HT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=HT(o,e,t)}),new ct(n.segments,r)}var vf=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&gf(r[0]))throw new me(4003,!1);let i=r.find(Yl);if(i&&i!==DT(r))throw new me(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function DP(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new vf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new vf(t,e,r)}var za=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function kP(n,e,t){if(n.isAbsolute)return new za(e,!0,0);if(!t)return new za(e,!1,NaN);if(t.parent===null)return new za(t,!0,0);let r=gf(n.commands[0])?0:1,i=t.segments.length-1+r;return MP(t,i,n.numberOfDoubleDots)}function MP(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new me(4005,!1);i=r.segments.length}return new za(r,!1,i-o)}function xP(n){return Yl(n[0])?n[0].outlets:{[Ve]:n}}function BT(n,e,t){if(n??=new ct([],{}),n.segments.length===0&&n.hasChildren())return Gl(n,e,t);let r=RP(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ct(n.segments.slice(0,r.pathIndex),{});return o.children[Ve]=new ct(n.segments.slice(r.pathIndex),n.children),Gl(o,0,i)}else return r.match&&i.length===0?new ct(n.segments,{}):r.match&&!n.hasChildren()?_y(n,e,t):r.match?Gl(n,0,i):_y(n,e,t)}function Gl(n,e,t){if(t.length===0)return new ct(n.segments,{});{let r=xP(t),i={};if(Object.keys(r).some(o=>o!==Ve)&&n.children[Ve]&&n.numberOfChildren===1&&n.children[Ve].segments.length===0){let o=Gl(n.children[Ve],e,t);return new ct(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=BT(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ct(n.segments,i)}}function RP(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Yl(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!bT(c,l,s))return o;r+=2}else{if(!bT(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function _y(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Yl(o)){let c=NP(o.outlets);return new ct(r,c)}if(i===0&&gf(t[0])){let c=n.segments[e];r.push(new ds(c.path,CT(t[0]))),i++;continue}let s=Yl(o)?o.outlets[Ve]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&gf(a)?(r.push(new ds(s,CT(a))),i+=2):(r.push(new ds(s,{})),i++)}return new ct(r,{})}function NP(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=_y(new ct([],{}),0,r))}),e}function CT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function bT(n,e,t){return n==t.path&&jr(e,t.parameters)}var ql="imperative",Kt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Kt||{}),Jn=class{constructor(e,t){this.id=e,this.url=t}},Wa=class extends Jn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Kt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},bi=class extends Jn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Kt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Un=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Un||{}),yf=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(yf||{}),yi=class extends Jn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Kt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},co=class extends Jn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Kt.NavigationSkipped}},Ql=class extends Jn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Kt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Cf=class extends Jn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Kt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Iy=class extends Jn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Kt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ty=class extends Jn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Kt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Sy=class extends Jn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Kt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ay=class extends Jn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Kt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dy=class{constructor(e){this.route=e,this.type=Kt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ky=class{constructor(e){this.route=e,this.type=Kt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},My=class{constructor(e){this.snapshot=e,this.type=Kt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xy=class{constructor(e){this.snapshot=e,this.type=Kt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ry=class{constructor(e){this.snapshot=e,this.type=Kt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ny=class{constructor(e){this.snapshot=e,this.type=Kt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bf=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=Kt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Zl=class{},Ya=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function OP(n,e){return n.providers&&!n._injector&&(n._injector=Gh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Cr(n){return n.outlet||Ve}function PP(n,e){let t=n.filter(r=>Cr(r)===e);return t.push(...n.filter(r=>Cr(r)!==e)),t}function ou(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Oy=class{get injector(){return ou(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new su(this.rootInjector),this.attachRef=null}},su=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Oy(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(oe(un))}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Py(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Py(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Fy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Fy(e,this._root).map(t=>t.value)}};function Py(n,e){if(n===e.value)return e;for(let t of e.children){let r=Py(n,t);if(r)return r}return null}function Fy(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Fy(n,t);if(r.length)return r.unshift(e),r}return[]}var Ln=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Va(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Ef=class extends wf{constructor(e,t){super(e),this.snapshot=t,Gy(this,e)}toString(){return this.snapshot.toString()}};function jT(n){let e=FP(n),t=new Mt([new ds("",{})]),r=new Mt({}),i=new Mt({}),o=new Mt({}),s=new Mt(""),a=new wi(t,r,o,s,i,Ve,n,e.root);return a.snapshot=e.root,new Ef(new Ln(a,[]),e)}function FP(n){let e={},t={},r={},i="",o=new $a([],e,r,i,t,Ve,n,null,{});return new If("",new Ln(o,[]))}var wi=class{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Te(l=>l[ru]))??ge(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Te(e=>qa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Te(e=>qa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _f(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:M(M({},e.params),n.params),data:M(M({},e.data),n.data),resolve:M(M(M(M({},n.data),e.data),i?.data),n._resolvedData)}:r={params:M({},n.params),data:M({},n.data),resolve:M(M({},n.data),n._resolvedData??{})},i&&zT(i)&&(r.resolve[ru]=i.title),r}var $a=class{get title(){return this.data?.[ru]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=qa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=qa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},If=class extends wf{constructor(e,t){super(t),this.url=e,Gy(this,t)}toString(){return VT(this._root)}};function Gy(n,e){e.value._routerState=n,e.children.forEach(t=>Gy(n,t))}function VT(n){let e=n.children.length>0?` { ${n.children.map(VT).join(", ")} } `:"";return`${n.value}${e}`}function vy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,jr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),jr(e.params,t.params)||n.paramsSubject.next(t.params),lP(e.url,t.url)||n.urlSubject.next(t.url),jr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ly(n,e){let t=jr(n.params,e.params)&&fP(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Ly(n.parent,e.parent))}function zT(n){return typeof n.title=="string"||n.title===null}var qy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ve,this.activateEvents=new Ke,this.deactivateEvents=new Ke,this.attachEvents=new Ke,this.detachEvents=new Ke,this.parentContexts=z(su),this.location=z(rs),this.changeDetector=z(_e),this.inputBinder=z(Df,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new me(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new me(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new me(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new me(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Uy(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=xt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ci]})}}return n})(),Uy=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===wi?this.route:e===su?this.childContexts:this.parent.get(e,t)}},Df=new le(""),wT=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ll([r.queryParams,r.params,r.data]).pipe(an(([o,s,a],c)=>(a=M(M(M({},o),s),a),c===0?ge(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=C0(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac})}}return n})();function LP(n,e,t){let r=Jl(n,e._root,t?t._root:void 0);return new Ef(r,e)}function Jl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=UP(n,e,t);return new Ln(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Jl(n,a)),s}}let r=HP(e.value),i=e.children.map(o=>Jl(n,o));return new Ln(r,i)}}function UP(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Jl(n,r,i);return Jl(n,r)})}function HP(n){return new wi(new Mt(n.url),new Mt(n.params),new Mt(n.queryParams),new Mt(n.fragment),new Mt(n.data),n.outlet,n.component,n)}var Xl=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},$T="ngNavigationCancelingError";function Tf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Wl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=GT(!1,Un.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function GT(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[$T]=!0,t.cancellationCode=e,t}function BP(n){return qT(n)&&Wl(n.url)}function qT(n){return!!n&&n[$T]}var jP=(n,e,t,r)=>Te(i=>(new Hy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Hy=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),vy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Va(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Va(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Va(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Va(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ny(o.value.snapshot))}),e.children.length&&this.forwardEvent(new xy(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(vy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),vy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Sf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ga=class{constructor(e,t){this.component=e,this.route=t}};function VP(n,e,t){let r=n._root,i=e?e._root:null;return zl(r,i,t,[r.value])}function zP(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Za(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!bE(n)?n:e.get(n):r}function zl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Va(e);return n.children.forEach(s=>{$P(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Kl(a,t.getContext(s),i)),i}function $P(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=GP(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Sf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?zl(n,e,a?a.children:null,r,i):zl(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ga(a.outlet.component,s))}else s&&Kl(e,a,i),i.canActivateChecks.push(new Sf(r)),o.component?zl(n,null,a?a.children:null,r,i):zl(n,null,t,r,i);return i}function GP(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!hs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!hs(n.url,e.url)||!jr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ly(n,e)||!jr(n.queryParams,e.queryParams);case"paramsChange":default:return!Ly(n,e)}}function Kl(n,e,t){let r=Va(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Kl(s,e.children.getContext(o),t):Kl(s,null,t):Kl(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ga(e.outlet.component,i)):t.canDeactivateChecks.push(new Ga(null,i)):t.canDeactivateChecks.push(new Ga(null,i))}function au(n){return typeof n=="function"}function qP(n){return typeof n=="boolean"}function KP(n){return n&&au(n.canLoad)}function WP(n){return n&&au(n.canActivate)}function YP(n){return n&&au(n.canActivateChild)}function QP(n){return n&&au(n.canDeactivate)}function ZP(n){return n&&au(n.canMatch)}function KT(n){return n instanceof ri||n?.name==="EmptyError"}var hf=Symbol("INITIAL_VALUE");function Qa(){return an(n=>ll(n.map(e=>e.pipe(xr(1),Bm(hf)))).pipe(Te(e=>{for(let t of e)if(t!==!0){if(t===hf)return hf;if(t===!1||JP(t))return t}return!0}),sn(e=>e!==hf),xr(1)))}function JP(n){return Wl(n)||n instanceof Xl}function XP(n,e){return Et(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ge(re(M({},t),{guardsResult:!0})):eF(s,r,i,n).pipe(Et(a=>a&&qP(a)?tF(r,o,n,e):ge(a)),Te(a=>re(M({},t),{guardsResult:a})))})}function eF(n,e,t,r){return Ge(n).pipe(Et(i=>sF(i.component,i.route,t,e,r)),dr(i=>i!==!0,!0))}function tF(n,e,t,r){return Ge(e).pipe(Gn(i=>ua(rF(i.route.parent,r),nF(i.route,r),oF(n,i.path,t),iF(n,i.route,t))),dr(i=>i!==!0,!0))}function nF(n,e){return n!==null&&e&&e(new Ry(n)),ge(!0)}function rF(n,e){return n!==null&&e&&e(new My(n)),ge(!0)}function iF(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ge(!0);let i=r.map(o=>zd(()=>{let s=ou(e)??t,a=Za(o,s),c=WP(a)?a.canActivate(e,n):Wn(s,()=>a(e,n));return lo(c).pipe(dr())}));return ge(i).pipe(Qa())}function oF(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>zP(s)).filter(s=>s!==null).map(s=>zd(()=>{let a=s.guards.map(c=>{let l=ou(s.node)??t,u=Za(c,l),d=YP(u)?u.canActivateChild(r,n):Wn(l,()=>u(r,n));return lo(d).pipe(dr())});return ge(a).pipe(Qa())}));return ge(o).pipe(Qa())}function sF(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ge(!0);let s=o.map(a=>{let c=ou(e)??i,l=Za(a,c),u=QP(l)?l.canDeactivate(n,e,t,r):Wn(c,()=>l(n,e,t,r));return lo(u).pipe(dr())});return ge(s).pipe(Qa())}function aF(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ge(!0);let o=i.map(s=>{let a=Za(s,n),c=KP(a)?a.canLoad(e,t):Wn(n,()=>a(e,t));return lo(c)});return ge(o).pipe(Qa(),WT(r))}function WT(n){return Mm(Ut(e=>{if(typeof e!="boolean")throw Tf(n,e)}),Te(e=>e===!0))}function cF(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ge(!0);let o=i.map(s=>{let a=Za(s,n),c=ZP(a)?a.canMatch(e,t):Wn(n,()=>a(e,t));return lo(c)});return ge(o).pipe(Qa(),WT(r))}var eu=class{constructor(e){this.segmentGroup=e||null}},tu=class extends Error{constructor(e){super(),this.urlTree=e}};function ja(n){return Mr(new eu(n))}function lF(n){return Mr(new me(4e3,!1))}function uF(n){return Mr(GT(!1,Un.GuardRejected))}var By=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ge(r);if(i.numberOfChildren>1||!i.children[Ve])return lF(`${e.redirectTo}`);i=i.children[Ve]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:p,params:h,data:m,title:g}=i,y=Wn(o,()=>a({params:h,data:m,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:p,title:g}));if(y instanceof Ci)throw new tu(y);t=y}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new tu(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Ci(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new ct(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new me(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},jy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dF(n,e,t,r,i){let o=YT(n,e,t);return o.matched?(r=OP(e,r),cF(r,e,t,i).pipe(Te(s=>s===!0?o:M({},jy)))):ge(o)}function YT(n,e,t){if(e.path==="**")return hF(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?M({},jy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||cP)(t,n,e);if(!i)return M({},jy);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?M(M({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function hF(n){return{matched:!0,parameters:n.length>0?DT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function ET(n,e,t,r){return t.length>0&&mF(n,t,r)?{segmentGroup:new ct(e,pF(r,new ct(t,n.children))),slicedSegments:[]}:t.length===0&&gF(n,t,r)?{segmentGroup:new ct(n.segments,fF(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ct(n.segments,n.children),slicedSegments:t}}function fF(n,e,t,r){let i={};for(let o of t)if(kf(n,e,o)&&!r[Cr(o)]){let s=new ct([],{});i[Cr(o)]=s}return M(M({},r),i)}function pF(n,e){let t={};t[Ve]=e;for(let r of n)if(r.path===""&&Cr(r)!==Ve){let i=new ct([],{});t[Cr(r)]=i}return t}function mF(n,e,t){return t.some(r=>kf(n,e,r)&&Cr(r)!==Ve)}function gF(n,e,t){return t.some(r=>kf(n,e,r))}function kf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function vF(n,e,t){return e.length===0&&!n.children[t]}var Vy=class{};function yF(n,e,t,r,i,o,s="emptyOnly"){return new zy(n,e,t,r,i,s,o).recognize()}var CF=31,zy=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new By(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new me(4002,`'${e.segmentGroup}'`)}recognize(){let e=ET(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Te(({children:t,rootSnapshot:r})=>{let i=new Ln(r,t),o=new If("",i),s=AP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new $a([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ve,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ve,t).pipe(Te(r=>({children:r,rootSnapshot:t})),Yt(r=>{if(r instanceof tu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof eu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Te(s=>s instanceof Ln?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ge(o).pipe(Gn(s=>{let a=r.children[s],c=PP(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Hm((s,a)=>(s.push(...a),s)),Ki(null),Um(),Et(s=>{if(s===null)return ja(r);let a=QT(s);return bF(a),ge(a)}))}processSegment(e,t,r,i,o,s,a){return Ge(t).pipe(Gn(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Yt(l=>{if(l instanceof eu)return ge(null);throw l}))),dr(c=>!!c),Yt(c=>{if(KT(c))return vF(r,i,o)?ge(new Vy):ja(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Cr(r)!==s&&(s===Ve||!kf(i,o,r))?ja(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):ja(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:p}=YT(t,i,o);if(!c)return ja(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>CF&&(this.allowRedirects=!1));let h=new $a(o,l,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,_T(i),Cr(i),i.component??i._loadedComponent??null,i,IT(i)),m=_f(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(m.params),h.data=Object.freeze(m.data);let g=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,g).pipe(Et(y=>this.processSegment(e,r,t,y.concat(p),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=dF(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(an(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(an(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:p,remainingSegments:h}=c,m=new $a(p,d,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,_T(r),Cr(r),r.component??r._loadedComponent??null,r,IT(r)),g=_f(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(g.params),m.data=Object.freeze(g.data);let{segmentGroup:y,slicedSegments:w}=ET(t,p,h,l);if(w.length===0&&y.hasChildren())return this.processChildren(u,l,y,m).pipe(Te(_=>new Ln(m,_)));if(l.length===0&&w.length===0)return ge(new Ln(m,[]));let A=Cr(r)===o;return this.processSegment(u,l,y,w,A?Ve:o,!0,m).pipe(Te(_=>new Ln(m,_ instanceof Ln?[_]:[])))}))):ja(t)))}getChildConfig(e,t,r){return t.children?ge({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ge({routes:t._loadedRoutes,injector:t._loadedInjector}):aF(e,t,r,this.urlSerializer).pipe(Et(i=>i?this.configLoader.loadChildren(e,t).pipe(Ut(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):uF(t))):ge({routes:[],injector:e})}};function bF(n){n.sort((e,t)=>e.value.outlet===Ve?-1:t.value.outlet===Ve?1:e.value.outlet.localeCompare(t.value.outlet))}function wF(n){let e=n.value.routeConfig;return e&&e.path===""}function QT(n){let e=[],t=new Set;for(let r of n){if(!wF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=QT(r.children);e.push(new Ln(r.value,i))}return e.filter(r=>!t.has(r))}function _T(n){return n.data||{}}function IT(n){return n.resolve||{}}function EF(n,e,t,r,i,o){return Et(s=>yF(n,e,t,r,s.extractedUrl,i,o).pipe(Te(({state:a,tree:c})=>re(M({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function _F(n,e){return Et(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ge(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of ZT(c))s.add(l);let a=0;return Ge(s).pipe(Gn(c=>o.has(c)?IF(c,r,n,e):(c.data=_f(c,c.parent,n).resolve,ge(void 0))),Ut(()=>a++),da(1),Et(c=>a===s.size?ge(t):En))})}function ZT(n){let e=n.children.map(t=>ZT(t)).flat();return[n,...e]}function IF(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!zT(i)&&(o[ru]=i.title),TF(o,n,e,r).pipe(Te(s=>(n._resolvedData=s,n.data=_f(n,n.parent,t).resolve,null)))}function TF(n,e,t,r){let i=by(n);if(i.length===0)return ge({});let o={};return Ge(i).pipe(Et(s=>SF(n[s],e,t,r).pipe(dr(),Ut(a=>{if(a instanceof Xl)throw Tf(new Ka,a);o[s]=a}))),da(1),Lm(o),Yt(s=>KT(s)?En:Mr(s)))}function SF(n,e,t,r){let i=ou(e)??r,o=Za(n,i),s=o.resolve?o.resolve(e,t):Wn(i,()=>o(e,t));return lo(s)}function yy(n){return an(e=>{let t=n(e);return t?Ge(t).pipe(Te(()=>e)):ge(e)})}var JT=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Ve);return r}getResolvedTitleForRoute(t){return t.data[ru]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:()=>z(AF),providedIn:"root"})}}return n})(),AF=(()=>{class n extends JT{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(oe(mT))}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),cu=new le("",{providedIn:"root",factory:()=>({})}),DF=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ue({type:n,selectors:[["ng-component"]],standalone:!0,features:[gt],decls:1,vars:0,template:function(r,i){r&1&&ye(0,"router-outlet")},dependencies:[qy],encapsulation:2})}}return n})();function Ky(n){let e=n.children&&n.children.map(Ky),t=e?re(M({},n),{children:e}):M({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ve&&(t.component=DF),t}var nu=new le(""),Wy=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=z(Yh)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ge(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=lo(t.loadComponent()).pipe(Te(XT),Ut(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Wi(()=>{this.componentLoaders.delete(t)})),i=new sa(r,()=>new kt).pipe(oa());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ge({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=kF(r,this.compiler,t,this.onLoadEndListener).pipe(Wi(()=>{this.childrenLoaders.delete(r)})),s=new sa(o,()=>new kt).pipe(oa());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kF(n,e,t,r){return lo(n.loadChildren()).pipe(Te(XT),Et(i=>i instanceof bl||Array.isArray(i)?ge(i):Ge(e.compileModuleAsync(i))),Te(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(nu,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ky),injector:o}}))}function MF(n){return n&&typeof n=="object"&&"default"in n}function XT(n){return MF(n)?n.default:n}var Yy=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:()=>z(xF),providedIn:"root"})}}return n})(),xF=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),eS=new le(""),tS=new le("");function RF(n,e,t){let r=n.get(tS),i=n.get(yt);return n.get(ae).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),NF(n))),{onViewTransitionCreated:c}=r;return c&&Wn(n,()=>c({transition:a,from:e,to:t})),s})}function NF(n){return new Promise(e=>{Bv({read:()=>setTimeout(e)},{injector:n})})}var OF=new le(""),Qy=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new kt,this.transitionAbortSubject=new kt,this.configLoader=z(Wy),this.environmentInjector=z(un),this.urlSerializer=z(iu),this.rootContexts=z(su),this.location=z(mi),this.inputBindingEnabled=z(Df,{optional:!0})!==null,this.titleStrategy=z(JT),this.options=z(cu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=z(Yy),this.createViewTransition=z(eS,{optional:!0}),this.navigationErrorHandler=z(OF,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ge(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Dy(i)),r=i=>this.events.next(new ky(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(re(M(M({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Mt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ql,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(sn(o=>o.id!==0),Te(o=>re(M({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),an(o=>{let s=!1,a=!1;return ge(o).pipe(an(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Un.SupersededByNewNavigation),En;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?re(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new co(c.id,this.urlSerializer.serialize(c.rawUrl),d,yf.IgnoredSameUrlNavigation)),c.resolve(!1),En}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ge(c).pipe(an(d=>{let p=this.transitions?.getValue();return this.events.next(new Wa(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),p!==this.transitions?.getValue()?En:Promise.resolve(d)}),EF(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ut(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=re(M({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let p=new Cf(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:p,source:h,restoredState:m,extras:g}=c,y=new Wa(d,this.urlSerializer.serialize(p),h,m);this.events.next(y);let w=jT(this.rootComponentType).snapshot;return this.currentTransition=o=re(M({},c),{targetSnapshot:w,urlAfterRedirects:p,extras:re(M({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,ge(o)}else{let d="";return this.events.next(new co(c.id,this.urlSerializer.serialize(c.extractedUrl),d,yf.IgnoredByUrlHandlingStrategy)),c.resolve(!1),En}}),Ut(c=>{let l=new Iy(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Te(c=>(this.currentTransition=o=re(M({},c),{guards:VP(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),XP(this.environmentInjector,c=>this.events.next(c)),Ut(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Tf(this.urlSerializer,c.guardsResult);let l=new Ty(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),sn(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Un.GuardRejected),!1)),yy(c=>{if(c.guards.canActivateChecks.length)return ge(c).pipe(Ut(l=>{let u=new Sy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),an(l=>{let u=!1;return ge(l).pipe(_F(this.paramsInheritanceStrategy,this.environmentInjector),Ut({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Un.NoDataFromResolver)}}))}),Ut(l=>{let u=new Ay(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),yy(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ut(p=>{u.component=p}),Te(()=>{})));for(let p of u.children)d.push(...l(p));return d};return ll(l(c.targetSnapshot.root)).pipe(Ki(null),xr(1))}),yy(()=>this.afterPreactivation()),an(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?Ge(u).pipe(Te(()=>o)):ge(o)}),Te(c=>{let l=LP(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=re(M({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ut(()=>{this.events.next(new Zl)}),jP(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),xr(1),Ut({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),jm(this.transitionAbortSubject.pipe(Ut(c=>{throw c}))),Wi(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Un.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Yt(c=>{if(a=!0,qT(c))this.events.next(new yi(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),BP(c)?this.events.next(new Ya(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Ql(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=Wn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Xl){let{message:d,cancellationCode:p}=Tf(this.urlSerializer,u);this.events.next(new yi(o.id,this.urlSerializer.serialize(o.extractedUrl),d,p)),this.events.next(new Ya(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=t.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return En}))}))}cancelNavigationTransition(t,r,i){let o=new yi(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function PF(n){return n!==ql}var FF=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:()=>z(LF),providedIn:"root"})}}return n})(),$y=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},LF=(()=>{class n extends $y{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Sl(n)))(i||n)}})()}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nS=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:()=>z(UF),providedIn:"root"})}}return n})(),UF=(()=>{class n extends nS{constructor(){super(...arguments),this.location=z(mi),this.urlSerializer=z(iu),this.options=z(cu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=z(Yy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ci,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=jT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Wa)this.stateMemento=this.createStateMemento();else if(t instanceof co)this.rawUrlTree=r.initialUrl;else if(t instanceof Cf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Zl?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof yi&&(t.code===Un.GuardRejected||t.code===Un.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ql?this.restoreHistory(r,!0):t instanceof bi&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Ci?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=M(M({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=M(M({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Sl(n)))(i||n)}})()}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$l=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}($l||{});function rS(n,e){n.events.pipe(sn(t=>t instanceof bi||t instanceof yi||t instanceof Ql||t instanceof co),Te(t=>t instanceof bi||t instanceof co?$l.COMPLETE:(t instanceof yi?t.code===Un.Redirect||t.code===Un.SupersededByNewNavigation:!1)?$l.REDIRECTING:$l.FAILED),sn(t=>t!==$l.REDIRECTING),xr(1)).subscribe(()=>{e()})}function HF(n){throw n}var BF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},nn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=z(Kh),this.stateManager=z(nS),this.options=z(cu,{optional:!0})||{},this.pendingTasks=z(li),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=z(Qy),this.urlSerializer=z(iu),this.location=z(mi),this.urlHandlingStrategy=z(Yy),this._events=new kt,this.errorHandler=this.options.errorHandler||HF,this.navigated=!1,this.routeReuseStrategy=z(FF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=z(nu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!z(Df,{optional:!0}),this.eventsSubscription=new Ft,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof yi&&r.code!==Un.Redirect&&r.code!==Un.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof bi)this.navigated=!0;else if(r instanceof Ya){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=M({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||PF(i.source)},s);this.scheduleNavigation(a,ql,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}zF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ql,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=M({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Ky),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=M(M({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let p=i?i.snapshot:this.routerState.snapshot.root;d=LT(p)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return UT(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Wl(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ql,null,r)}navigate(t,r={skipLocationChange:!1}){return VF(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=M({},BF):r===!1?i=M({},jF):i=r,Wl(t))return vT(this.currentUrlTree,t,i);let o=this.parseUrl(t);return vT(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,p)=>{a=d,c=p});let u=this.pendingTasks.add();return rS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function VF(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new me(4008,!1)}function zF(n){return!(n instanceof Zl)&&!(n instanceof Ya)}var Af=class{};var $F=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(sn(t=>t instanceof bi),Gn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Gh(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ge(i).pipe(la())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=ge(null);let o=i.pipe(Et(s=>s===null?ge(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ge([o,s]).pipe(la())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(oe(nn),oe(Yh),oe(un),oe(Af),oe(Wy))}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),iS=new le(""),GF=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof co&&t.code===yf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof bf&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bf(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){pI()}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac})}}return n})();function Zy(n,...e){return to([{provide:nu,multi:!0,useValue:n},[],{provide:wi,useFactory:oS,deps:[nn]},{provide:ls,multi:!0,useFactory:sS},e.map(t=>t.\u0275providers)])}function oS(n){return n.routerState.root}function lu(n,e){return{\u0275kind:n,\u0275providers:e}}function sS(){let n=z(Kn);return e=>{let t=n.get(Lr);if(e!==t.components[0])return;let r=n.get(nn),i=n.get(aS);n.get(Jy)===1&&r.initialNavigation(),n.get(cS,null,qe.Optional)?.setUpPreloading(),n.get(iS,null,qe.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var aS=new le("",{factory:()=>new kt}),Jy=new le("",{providedIn:"root",factory:()=>1});function qF(){return lu(2,[{provide:Jy,useValue:0},{provide:La,multi:!0,deps:[Kn],useFactory:e=>{let t=e.get(D0,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(nn),o=e.get(aS);rS(i,()=>{r(!0)}),e.get(Qy).afterPreactivation=()=>(r(!0),o.closed?ge(void 0):o),i.initialNavigation()}))}}])}function KF(){return lu(3,[{provide:La,multi:!0,useFactory:()=>{let e=z(nn);return()=>{e.setUpLocationChangeListener()}}},{provide:Jy,useValue:2}])}var cS=new le("");function WF(n){return lu(0,[{provide:cS,useExisting:$F},{provide:Af,useExisting:n}])}function YF(){return lu(8,[wT,{provide:Df,useExisting:wT}])}function QF(n){let e=[{provide:eS,useValue:RF},{provide:tS,useValue:M({skipNextTransition:!!n?.skipInitialTransition},n)}];return lu(9,e)}var TT=new le("ROUTER_FORROOT_GUARD"),ZF=[mi,{provide:iu,useClass:Ka},nn,su,{provide:wi,useFactory:oS,deps:[nn]},Wy,[]],Mf=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[ZF,[],{provide:nu,multi:!0,useValue:t},{provide:TT,useFactory:tL,deps:[[nn,new xh,new iv]]},{provide:cu,useValue:r||{}},r?.useHash?XF():eL(),JF(),r?.preloadingStrategy?WF(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?nL(r):[],r?.bindToComponentInputs?YF().\u0275providers:[],r?.enableViewTransitions?QF().\u0275providers:[],rL()]}}static forChild(t){return{ngModule:n,providers:[{provide:nu,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(oe(TT,8))}}static{this.\u0275mod=Bt({type:n})}static{this.\u0275inj=Ht({})}}return n})();function JF(){return{provide:iS,useFactory:()=>{let n=z(O0),e=z(ae),t=z(cu),r=z(Qy),i=z(iu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new GF(i,r,n,e,t)}}}function XF(){return{provide:us,useClass:M0}}function eL(){return{provide:us,useClass:Xv}}function tL(n){return"guarded"}function nL(n){return[n.initialNavigation==="disabled"?KF().\u0275providers:[],n.initialNavigation==="enabledBlocking"?qF().\u0275providers:[]]}var ST=new le("");function rL(){return[{provide:ST,useFactory:sS},{provide:ls,multi:!0,useExisting:ST}]}var wp={};lr(wp,{blockAPICallsBeforeInitialize:()=>Cp,blockAcquireTokenInPopups:()=>qS,blockNonBrowserEnvironment:()=>yp,blockRedirectInIframe:()=>GS,blockReloadInHiddenIframes:()=>$S,clearHash:()=>ub,createGuid:()=>fb,getCurrentUri:()=>wn,getHomepage:()=>hb,invoke:()=>yn,invokeAsync:()=>q,isInIframe:()=>Xu,isInPopup:()=>zS,preconnect:()=>td,preflightCheck:()=>ed,redirectPreflightCheck:()=>bp,replaceHash:()=>db});var N={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Ja={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},Hn=[N.OPENID_SCOPE,N.PROFILE_SCOPE,N.OFFLINE_ACCESS_SCOPE],Xy=[...Hn,N.EMAIL_SCOPE],Nt={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},Ot={ID_TOKEN:"idtoken",CLIENT_INFO:"client.info",ADAL_ID_TOKEN:"adal.idtoken",ERROR:"error",ERROR_DESC:"error.description",ACTIVE_ACCOUNT:"active-account",ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},br={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},Xa={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},pt={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},Rf={PLAIN:"plain",S256:"S256"},wr={QUERY:"query",FRAGMENT:"fragment"},eC=re(M({},wr),{FORM_POST:"form_post"}),uu={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},ec={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},It={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},Ce={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"};var du="appmetadata",lS="client_info",uo="1",tc={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},mn={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},jt={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},We={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Ei={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},Nf={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},Of={username:"username",password:"password"},hu={httpSuccess:200,httpBadRequest:400},fs={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},Pf={CONFIGURED_MATCHES_DETECTED:"1",CONFIGURED_NO_AUTO_DETECTION:"2",CONFIGURED_NOT_DETECTED:"3",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},Er={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},Ff={Jwt:"JWT",Jwk:"JWK",Pop:"pop"};var tC=300;var ps={};lr(ps,{postRequestFailed:()=>pu,unexpectedError:()=>fu});var fu="unexpected_error",pu="post_request_failed";var Lf={[fu]:"Unexpected error in authentication.",[pu]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."},uS={unexpectedError:{code:fu,desc:Lf[fu]},postRequestFailed:{code:pu,desc:Lf[pu]}},je=class n extends Error{constructor(e,t,r){let i=t?`${e}: ${t}`:e;super(i),Object.setPrototypeOf(this,n.prototype),this.errorCode=e||N.EMPTY_STRING,this.errorMessage=t||N.EMPTY_STRING,this.subError=r||N.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}};function mu(n,e){return new je(n,e?`${Lf[n]} ${e}`:Lf[n])}var Vt={};lr(Vt,{authTimeNotFound:()=>_i,authorizationCodeMissingFromServerResponse:()=>ks,bindingKeyNotRemoved:()=>Ms,cannotAppendScopeSet:()=>Ss,cannotRemoveEmptyScope:()=>Ts,clientInfoDecodingError:()=>ho,clientInfoEmptyError:()=>ms,deviceCodeExpired:()=>Cu,deviceCodePollingCancelled:()=>yu,deviceCodeUnknownError:()=>bu,emptyInputScopeSet:()=>mo,endSessionEndpointNotSupported:()=>xs,endpointResolutionError:()=>gn,hashNotDeserialized:()=>Cs,invalidAssertion:()=>_u,invalidCacheEnvironment:()=>Ti,invalidCacheRecord:()=>As,invalidClientCredential:()=>Iu,invalidState:()=>_r,keyIdMissing:()=>Rs,maxAgeTranspired:()=>Es,methodNotImplemented:()=>Ne,missingTenantIdError:()=>Du,multipleMatchingAccounts:()=>vu,multipleMatchingAppMetadata:()=>_s,multipleMatchingTokens:()=>gu,nestedAppAuthBridgeDisabled:()=>ku,networkError:()=>vs,noAccountFound:()=>wu,noAccountInSilentRequest:()=>Ii,noCryptoObject:()=>go,noNetworkConnectivity:()=>Su,nonceMismatch:()=>ws,nullOrEmptyToken:()=>gs,openIdConfigError:()=>ys,requestCannotBeMade:()=>Is,stateMismatch:()=>bs,stateNotFound:()=>po,tokenClaimsCnfRequiredForSignedJwt:()=>Ds,tokenParsingError:()=>fo,tokenRefreshRequired:()=>Vr,unexpectedCredentialType:()=>Eu,userCanceled:()=>Au,userTimeoutReached:()=>Tu});var ho="client_info_decoding_error",ms="client_info_empty_error",fo="token_parsing_error",gs="null_or_empty_token",gn="endpoints_resolution_error",vs="network_error",ys="openid_config_error",Cs="hash_not_deserialized",_r="invalid_state",bs="state_mismatch",po="state_not_found",ws="nonce_mismatch",_i="auth_time_not_found",Es="max_age_transpired",gu="multiple_matching_tokens",vu="multiple_matching_accounts",_s="multiple_matching_appMetadata",Is="request_cannot_be_made",Ts="cannot_remove_empty_scope",Ss="cannot_append_scopeset",mo="empty_input_scopeset",yu="device_code_polling_cancelled",Cu="device_code_expired",bu="device_code_unknown_error",Ii="no_account_in_silent_request",As="invalid_cache_record",Ti="invalid_cache_environment",wu="no_account_found",go="no_crypto_object",Eu="unexpected_credential_type",_u="invalid_assertion",Iu="invalid_client_credential",Vr="token_refresh_required",Tu="user_timeout_reached",Ds="token_claims_cnf_required_for_signedjwt",ks="authorization_code_missing_from_server_response",Ms="binding_key_not_removed",xs="end_session_endpoint_not_supported",Rs="key_id_missing",Su="no_network_connectivity",Au="user_canceled",Du="missing_tenant_id_error",Ne="method_not_implemented",ku="nested_app_auth_bridge_disabled";var Oe={[ho]:"The client info could not be parsed/decoded correctly",[ms]:"The client info was empty",[fo]:"Token cannot be parsed",[gs]:"The token is null or empty",[gn]:"Endpoints cannot be resolved",[vs]:"Network request failed",[ys]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[Cs]:"The hash parameters could not be deserialized",[_r]:"State was not the expected format",[bs]:"State mismatch error",[po]:"State not found",[ws]:"Nonce mismatch error",[_i]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[Es]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[gu]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[vu]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[_s]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[Is]:"Token request cannot be made without authorization code or refresh token.",[Ts]:"Cannot remove null or empty scope from ScopeSet",[Ss]:"Cannot append ScopeSet",[mo]:"Empty input ScopeSet cannot be processed",[yu]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[Cu]:"Device code is expired.",[bu]:"Device code stopped polling for unknown reasons.",[Ii]:"Please pass an account object, silent flow is not supported without account information",[As]:"Cache record object was null or undefined.",[Ti]:"Invalid environment when attempting to create cache entry",[wu]:"No account found in cache for given key.",[go]:"No crypto object detected.",[Eu]:"Unexpected credential type.",[_u]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[Iu]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[Vr]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[Tu]:"User defined timeout for device code polling reached",[Ds]:"Cannot generate a POP jwt if the token_claims are not populated",[ks]:"Server response does not contain an authorization code to proceed",[Ms]:"Could not remove the credential's binding key from storage.",[xs]:"The provided authority does not support logout",[Rs]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[Su]:"No network connectivity. Check your internet connection.",[Au]:"User cancelled the flow.",[Du]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[Ne]:"This method has not been implemented",[ku]:"The nested app auth bridge is disabled"},dS={clientInfoDecodingError:{code:ho,desc:Oe[ho]},clientInfoEmptyError:{code:ms,desc:Oe[ms]},tokenParsingError:{code:fo,desc:Oe[fo]},nullOrEmptyToken:{code:gs,desc:Oe[gs]},endpointResolutionError:{code:gn,desc:Oe[gn]},networkError:{code:vs,desc:Oe[vs]},unableToGetOpenidConfigError:{code:ys,desc:Oe[ys]},hashNotDeserialized:{code:Cs,desc:Oe[Cs]},invalidStateError:{code:_r,desc:Oe[_r]},stateMismatchError:{code:bs,desc:Oe[bs]},stateNotFoundError:{code:po,desc:Oe[po]},nonceMismatchError:{code:ws,desc:Oe[ws]},authTimeNotFoundError:{code:_i,desc:Oe[_i]},maxAgeTranspired:{code:Es,desc:Oe[Es]},multipleMatchingTokens:{code:gu,desc:Oe[gu]},multipleMatchingAccounts:{code:vu,desc:Oe[vu]},multipleMatchingAppMetadata:{code:_s,desc:Oe[_s]},tokenRequestCannotBeMade:{code:Is,desc:Oe[Is]},removeEmptyScopeError:{code:Ts,desc:Oe[Ts]},appendScopeSetError:{code:Ss,desc:Oe[Ss]},emptyInputScopeSetError:{code:mo,desc:Oe[mo]},DeviceCodePollingCancelled:{code:yu,desc:Oe[yu]},DeviceCodeExpired:{code:Cu,desc:Oe[Cu]},DeviceCodeUnknownError:{code:bu,desc:Oe[bu]},NoAccountInSilentRequest:{code:Ii,desc:Oe[Ii]},invalidCacheRecord:{code:As,desc:Oe[As]},invalidCacheEnvironment:{code:Ti,desc:Oe[Ti]},noAccountFound:{code:wu,desc:Oe[wu]},noCryptoObj:{code:go,desc:Oe[go]},unexpectedCredentialType:{code:Eu,desc:Oe[Eu]},invalidAssertion:{code:_u,desc:Oe[_u]},invalidClientCredential:{code:Iu,desc:Oe[Iu]},tokenRefreshRequired:{code:Vr,desc:Oe[Vr]},userTimeoutReached:{code:Tu,desc:Oe[Tu]},tokenClaimsRequired:{code:Ds,desc:Oe[Ds]},noAuthorizationCodeFromServer:{code:ks,desc:Oe[ks]},bindingKeyNotRemovedError:{code:Ms,desc:Oe[Ms]},logoutNotSupported:{code:xs,desc:Oe[xs]},keyIdMissing:{code:Rs,desc:Oe[Rs]},noNetworkConnectivity:{code:Su,desc:Oe[Su]},userCanceledError:{code:Au,desc:Oe[Au]},missingTenantIdError:{code:Du,desc:Oe[Du]},nestedAppAuthBridgeDisabled:{code:ku,desc:Oe[ku]}},Ns=class n extends je{constructor(e,t){super(e,t?`${Oe[e]}: ${t}`:Oe[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,n.prototype)}};function j(n,e){return new Ns(n,e)}var vo={createNewGuid:()=>{throw j(Ne)},base64Decode:()=>{throw j(Ne)},base64Encode:()=>{throw j(Ne)},base64UrlEncode:()=>{throw j(Ne)},encodeKid:()=>{throw j(Ne)},getPublicKeyThumbprint(){return S(this,null,function*(){throw j(Ne)})},removeTokenBindingKey(){return S(this,null,function*(){throw j(Ne)})},clearKeystore(){return S(this,null,function*(){throw j(Ne)})},signJwt(){return S(this,null,function*(){throw j(Ne)})},hashString(){return S(this,null,function*(){throw j(Ne)})}};var lt=function(n){return n[n.Error=0]="Error",n[n.Warning=1]="Warning",n[n.Info=2]="Info",n[n.Verbose=3]="Verbose",n[n.Trace=4]="Trace",n}(lt||{}),kn=class n{constructor(e,t,r){this.level=lt.Info;let i=()=>{},o=e||n.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||i,this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level=typeof o.logLevel=="number"?o.logLevel:lt.Info,this.correlationId=o.correlationId||N.EMPTY_STRING,this.packageName=t||N.EMPTY_STRING,this.packageVersion=r||N.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:lt.Info}}clone(e,t,r){return new n({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;let o=`${`[${new Date().toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${lt[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,o,t.containsPii||!1)}executeCallback(e,t,r){this.localCallback&&this.localCallback(e,t,r)}error(e,t){this.logMessage(e,{logLevel:lt.Error,containsPii:!1,correlationId:t||N.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:lt.Error,containsPii:!0,correlationId:t||N.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:lt.Warning,containsPii:!1,correlationId:t||N.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:lt.Warning,containsPii:!0,correlationId:t||N.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:lt.Info,containsPii:!1,correlationId:t||N.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:lt.Info,containsPii:!0,correlationId:t||N.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:lt.Verbose,containsPii:!1,correlationId:t||N.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:lt.Verbose,containsPii:!0,correlationId:t||N.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:lt.Trace,containsPii:!1,correlationId:t||N.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:lt.Trace,containsPii:!0,correlationId:t||N.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}};var Uf="@azure/msal-common",nc="14.16.0";var yo={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};var dt={};lr(dt,{createAccessTokenEntity:()=>iC,createIdTokenEntity:()=>rC,createRefreshTokenEntity:()=>oC,generateAppMetadataKey:()=>mL,generateAuthorityMetadataExpiresAt:()=>Bf,generateCredentialKey:()=>Ru,isAccessTokenEntity:()=>oL,isAppMetadataEntity:()=>gL,isAuthorityMetadataEntity:()=>vL,isAuthorityMetadataExpired:()=>jf,isCredentialEntity:()=>Hf,isIdTokenEntity:()=>sL,isRefreshTokenEntity:()=>aL,isServerTelemetryEntity:()=>fL,isThrottlingEntity:()=>pL,updateAuthorityEndpointMetadata:()=>ic,updateCloudDiscoveryMetadata:()=>Nu});var Co={};lr(Co,{checkMaxAge:()=>Mu,extractTokenClaims:()=>Si,getJWSPayload:()=>hS});function Si(n,e){let t=hS(n);try{let r=e(t);return JSON.parse(r)}catch{throw j(fo)}}function hS(n){if(!n)throw j(gs);let t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(n);if(!t||t.length<4)throw j(fo);return t[2]}function Mu(n,e){if(e===0||Date.now()-3e5>n+e)throw j(Es)}var xu={};lr(xu,{delay:()=>iL,isTokenExpired:()=>rc,nowSeconds:()=>Bn,wasClockTurnedBack:()=>nC});function Bn(){return Math.round(new Date().getTime()/1e3)}function rc(n,e){let t=Number(n)||0;return Bn()+e>t}function nC(n){return Number(n)>Bn()}function iL(n,e){return new Promise(t=>setTimeout(()=>t(e),n))}function Ru(n){return[cL(n),lL(n),uL(n),dL(n),hL(n)].join(It.CACHE_KEY_SEPARATOR).toLowerCase()}function rC(n,e,t,r,i){return{credentialType:Ce.ID_TOKEN,homeAccountId:n,environment:e,clientId:r,secret:t,realm:i}}function iC(n,e,t,r,i,o,s,a,c,l,u,d,p,h,m){let g={homeAccountId:n,credentialType:Ce.ACCESS_TOKEN,secret:t,cachedAt:Bn().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:e,clientId:r,realm:i,target:o,tokenType:u||We.BEARER};if(d&&(g.userAssertionHash=d),l&&(g.refreshOn=l.toString()),h&&(g.requestedClaims=h,g.requestedClaimsHash=m),g.tokenType?.toLowerCase()!==We.BEARER.toLowerCase())switch(g.credentialType=Ce.ACCESS_TOKEN_WITH_AUTH_SCHEME,g.tokenType){case We.POP:let y=Si(t,c);if(!y?.cnf?.kid)throw j(Ds);g.keyId=y.cnf.kid;break;case We.SSH:g.keyId=p}return g}function oC(n,e,t,r,i,o,s){let a={credentialType:Ce.REFRESH_TOKEN,homeAccountId:n,environment:e,clientId:r,secret:t};return o&&(a.userAssertionHash=o),i&&(a.familyId=i),s&&(a.expiresOn=s.toString()),a}function Hf(n){return n.hasOwnProperty("homeAccountId")&&n.hasOwnProperty("environment")&&n.hasOwnProperty("credentialType")&&n.hasOwnProperty("clientId")&&n.hasOwnProperty("secret")}function oL(n){return n?Hf(n)&&n.hasOwnProperty("realm")&&n.hasOwnProperty("target")&&(n.credentialType===Ce.ACCESS_TOKEN||n.credentialType===Ce.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function sL(n){return n?Hf(n)&&n.hasOwnProperty("realm")&&n.credentialType===Ce.ID_TOKEN:!1}function aL(n){return n?Hf(n)&&n.credentialType===Ce.REFRESH_TOKEN:!1}function cL(n){return[n.homeAccountId,n.environment].join(It.CACHE_KEY_SEPARATOR).toLowerCase()}function lL(n){let e=n.credentialType===Ce.REFRESH_TOKEN&&n.familyId||n.clientId;return[n.credentialType,e,n.realm||""].join(It.CACHE_KEY_SEPARATOR).toLowerCase()}function uL(n){return(n.target||"").toLowerCase()}function dL(n){return(n.requestedClaimsHash||"").toLowerCase()}function hL(n){return n.tokenType&&n.tokenType.toLowerCase()!==We.BEARER.toLowerCase()?n.tokenType.toLowerCase():""}function fL(n,e){let t=n.indexOf(jt.CACHE_KEY)===0,r=!0;return e&&(r=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),t&&r}function pL(n,e){let t=!1;n&&(t=n.indexOf(Ei.THROTTLING_PREFIX)===0);let r=!0;return e&&(r=e.hasOwnProperty("throttleTime")),t&&r}function mL({environment:n,clientId:e}){return[du,n,e].join(It.CACHE_KEY_SEPARATOR).toLowerCase()}function gL(n,e){return e?n.indexOf(du)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function vL(n,e){return e?n.indexOf(tc.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function Bf(){return Bn()+tc.REFRESH_TIME_SECONDS}function ic(n,e,t){n.authorization_endpoint=e.authorization_endpoint,n.token_endpoint=e.token_endpoint,n.end_session_endpoint=e.end_session_endpoint,n.issuer=e.issuer,n.endpointsFromNetwork=t,n.jwks_uri=e.jwks_uri}function Nu(n,e,t){n.aliases=e.aliases,n.preferred_cache=e.preferred_cache,n.preferred_network=e.preferred_network,n.aliasesFromNetwork=t}function jf(n){return n.expiresAt<=Bn()}var Ir={};lr(Ir,{authorityMismatch:()=>Bu,authorityUriInsecure:()=>Ps,cannotAllowNativeBroker:()=>Hu,cannotSetOIDCOptions:()=>Uu,claimsRequestParsingError:()=>Ou,emptyInputScopesError:()=>Ls,invalidAuthenticationHeader:()=>Lu,invalidAuthorityMetadata:()=>Vs,invalidClaims:()=>Ai,invalidCloudDiscoveryMetadata:()=>bo,invalidCodeChallengeMethod:()=>js,invalidPromptValue:()=>Us,logoutRequestEmpty:()=>Bs,missingNonceAuthenticationHeader:()=>Fu,missingSshJwk:()=>ki,missingSshKid:()=>Pu,pkceParamsMissing:()=>Di,redirectUriEmpty:()=>Os,tokenRequestEmpty:()=>Hs,untrustedAuthority:()=>zs,urlEmptyError:()=>Fs,urlParseError:()=>zr});var Os="redirect_uri_empty",Ou="claims_request_parsing_error",Ps="authority_uri_insecure",zr="url_parse_error",Fs="empty_url_error",Ls="empty_input_scopes_error",Us="invalid_prompt_value",Ai="invalid_claims",Hs="token_request_empty",Bs="logout_request_empty",js="invalid_code_challenge_method",Di="pkce_params_missing",bo="invalid_cloud_discovery_metadata",Vs="invalid_authority_metadata",zs="untrusted_authority",ki="missing_ssh_jwk",Pu="missing_ssh_kid",Fu="missing_nonce_authentication_header",Lu="invalid_authentication_header",Uu="cannot_set_OIDCOptions",Hu="cannot_allow_native_broker",Bu="authority_mismatch";var Ct={[Os]:"A redirect URI is required for all calls, and none has been set.",[Ou]:"Could not parse the given claims request object.",[Ps]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[zr]:"URL could not be parsed into appropriate segments.",[Fs]:"URL was empty or null.",[Ls]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Us]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[Ai]:"Given claims parameter must be a stringified JSON object.",[Hs]:"Token request was empty and not found in cache.",[Bs]:"The logout request was null or undefined.",[js]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Di]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[bo]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[Vs]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[zs]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[ki]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[Pu]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[Fu]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[Lu]:"Invalid authentication header provided",[Uu]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[Hu]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[Bu]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."},fS={redirectUriNotSet:{code:Os,desc:Ct[Os]},claimsRequestParsingError:{code:Ou,desc:Ct[Ou]},authorityUriInsecure:{code:Ps,desc:Ct[Ps]},urlParseError:{code:zr,desc:Ct[zr]},urlEmptyError:{code:Fs,desc:Ct[Fs]},emptyScopesError:{code:Ls,desc:Ct[Ls]},invalidPrompt:{code:Us,desc:Ct[Us]},invalidClaimsRequest:{code:Ai,desc:Ct[Ai]},tokenRequestEmptyError:{code:Hs,desc:Ct[Hs]},logoutRequestEmptyError:{code:Bs,desc:Ct[Bs]},invalidCodeChallengeMethod:{code:js,desc:Ct[js]},invalidCodeChallengeParams:{code:Di,desc:Ct[Di]},invalidCloudDiscoveryMetadata:{code:bo,desc:Ct[bo]},invalidAuthorityMetadata:{code:Vs,desc:Ct[Vs]},untrustedAuthority:{code:zs,desc:Ct[zs]},missingSshJwk:{code:ki,desc:Ct[ki]},missingSshKid:{code:Pu,desc:Ct[Pu]},missingNonceAuthenticationHeader:{code:Fu,desc:Ct[Fu]},invalidAuthenticationHeader:{code:Lu,desc:Ct[Lu]},cannotSetOIDCOptions:{code:Uu,desc:Ct[Uu]},cannotAllowNativeBroker:{code:Hu,desc:Ct[Hu]},authorityMismatch:{code:Bu,desc:Ct[Bu]}},ju=class n extends je{constructor(e){super(e,Ct[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,n.prototype)}};function Qe(n){return new ju(n)}var bt=class{static isEmptyObj(e){if(e)try{let t=JSON.parse(e);return Object.keys(t).length===0}catch{}return!0}static startsWith(e,t){return e.indexOf(t)===0}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){let t={},r=e.split("&"),i=o=>decodeURIComponent(o.replace(/\+/g," "));return r.forEach(o=>{if(o.trim()){let[s,a]=o.split(/=(.+)/g,2);s&&a&&(t[i(s)]=i(a))}}),t}static trimArrayEntries(e){return e.map(t=>t.trim())}static removeEmptyStringsFromArray(e){return e.filter(t=>!!t)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}};var mt=class n{constructor(e){let t=e?bt.trimArrayEntries([...e]):[],r=t?bt.removeEmptyStringsFromArray(t):[];this.validateInputScopes(r),this.scopes=new Set,r.forEach(i=>this.scopes.add(i))}static fromString(e){let r=(e||N.EMPTY_STRING).split(" ");return new n(r)}static createSearchScopes(e){let t=new n(e);return t.containsOnlyOIDCScopes()?t.removeScope(N.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}validateInputScopes(e){if(!e||e.length<1)throw Qe(Ls)}containsScope(e){let t=this.printScopesLowerCase().split(" "),r=new n(t);return e?r.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(t=>this.containsScope(t))}containsOnlyOIDCScopes(){let e=0;return Xy.forEach(t=>{this.containsScope(t)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(t=>this.appendScope(t))}catch{throw j(Ss)}}removeScope(e){if(!e)throw j(Ts);this.scopes.delete(e.trim())}removeOIDCScopes(){Xy.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw j(mo);let t=new Set;return e.scopes.forEach(r=>t.add(r.toLowerCase())),this.scopes.forEach(r=>t.add(r.toLowerCase())),t}intersectingScopeSets(e){if(!e)throw j(mo);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();let t=this.unionScopeSets(e),r=e.getScopeCount(),i=this.getScopeCount();return t.size<i+r}getScopeCount(){return this.scopes.size}asArray(){let e=[];return this.scopes.forEach(t=>e.push(t)),e}printScopes(){return this.scopes?this.asArray().join(" "):N.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}};function oc(n,e){if(!n)throw j(ms);try{let t=e(n);return JSON.parse(t)}catch{throw j(ho)}}function Mi(n){if(!n)throw j(ho);let e=n.split(It.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?N.EMPTY_STRING:e[1]}}function sc(n,e){return!!n&&!!e&&n===e.split(".")[1]}function ac(n,e,t,r){if(r){let{oid:i,sub:o,tid:s,name:a,tfp:c,acr:l}=r,u=s||c||l||"";return{tenantId:u,localAccountId:i||o||"",name:a,isHomeTenant:sc(u,n)}}else return{tenantId:t,localAccountId:e,isHomeTenant:sc(t,n)}}function $s(n,e,t,r){let i=n;if(e){let o=e,{isHomeTenant:a}=o,c=kr(o,["isHomeTenant"]);i=M(M({},n),c)}if(t){let s=ac(n.homeAccountId,n.localAccountId,n.tenantId,t),{isHomeTenant:a}=s,c=kr(s,["isHomeTenant"]);return i=re(M(M({},i),c),{idTokenClaims:t,idToken:r}),i}return i}var vn={Default:0,Adfs:1,Dsts:2,Ciam:3};function Vf(n){return n&&(n.tid||n.tfp||n.acr)||null}var Zt={AAD:"AAD",OIDC:"OIDC"};var ft=class n{generateAccountId(){return[this.homeAccountId,this.environment].join(It.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return n.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){let t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(It.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,t,r){let i=new n;t.authorityType===vn.Adfs?i.authorityType=ec.ADFS_ACCOUNT_TYPE:t.protocolMode===Zt.AAD?i.authorityType=ec.MSSTS_ACCOUNT_TYPE:i.authorityType=ec.GENERIC_ACCOUNT_TYPE;let o;e.clientInfo&&r&&(o=oc(e.clientInfo,r)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;let s=e.environment||t&&t.getPreferredCache();if(!s)throw j(Ti);i.environment=s,i.realm=o?.utid||Vf(e.idTokenClaims)||"",i.localAccountId=o?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";let a=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,c=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(i.username=a||c||"",i.name=e.idTokenClaims?.name||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{let l=ac(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[l]}return i}static createFromAccountInfo(e,t,r){let i=new n;return i.authorityType=e.authorityType||ec.GENERIC_ACCOUNT_TYPE,i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.cloudGraphHostName=t,i.msGraphHost=r,i.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),i}static generateHomeAccountId(e,t,r,i,o){if(!(t===vn.Adfs||t===vn.Dsts)){if(e)try{let s=oc(e,i.base64Decode);if(s.uid&&s.utid)return`${s.uid}.${s.utid}`}catch{}r.warning("No client info in response")}return o?.sub||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,t,r){if(!e||!t)return!1;let i=!0;if(r){let o=e.idTokenClaims||{},s=t.idTokenClaims||{};i=o.iat===s.iat&&o.nonce===s.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&i}};var wo={};lr(wo,{getDeserializedResponse:()=>sC,stripLeadingHashOrQuery:()=>pS});function pS(n){return n.startsWith("#/")?n.substring(2):n.startsWith("#")||n.startsWith("?")?n.substring(1):n}function sC(n){if(!n||n.indexOf("=")<0)return null;try{let e=pS(n),t=Object.fromEntries(new URLSearchParams(e));if(t.code||t.error||t.error_description||t.state)return t}catch{throw j(Cs)}return null}var Pe=class n{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw Qe(Fs);e.includes("#")||(this._urlString=n.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return bt.endsWith(t,"?")?t=t.slice(0,-1):bt.endsWith(t,"?/")&&(t=t.slice(0,-2)),bt.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw Qe(zr)}if(!e.HostNameAndPort||!e.PathSegments)throw Qe(zr);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw Qe(Ps)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return n.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){let t=this.getUrlComponents(),r=t.PathSegments;return e&&r.length!==0&&(r[0]===br.COMMON||r[0]===br.ORGANIZATIONS)&&(r[0]=e),n.constructAuthorityUriFromObject(t)}getUrlComponents(){let e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw Qe(zr);let r={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]},i=r.AbsolutePath.split("/");return i=i.filter(o=>o&&o.length>0),r.PathSegments=i,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){let t=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(t);if(!r)throw Qe(zr);return r[2]}static getAbsoluteUrl(e,t){if(e[0]===N.FORWARD_SLASH){let i=new n(t).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new n(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!sC(e)}};var gS={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},aC=gS.endpointMetadata,cC=gS.instanceDiscoveryMetadata,lC=new Set;cC.metadata.forEach(n=>{n.aliases.forEach(e=>{lC.add(e)})});function vS(n,e){let t,r=n.canonicalAuthority;if(r){let i=new Pe(r).getUrlComponents().HostNameAndPort;t=mS(i,n.cloudDiscoveryMetadata?.metadata,mn.CONFIG,e)||mS(i,cC.metadata,mn.HARDCODED_VALUES,e)||n.knownAuthorities}return t||[]}function mS(n,e,t,r){if(r?.trace(`getAliasesFromMetadata called with source: ${t}`),n&&e){let i=Vu(e,n);if(i)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${t}, returning aliases`),i.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${t}`)}return null}function yS(n){return Vu(cC.metadata,n)}function Vu(n,e){for(let t=0;t<n.length;t++){let r=n[t];if(r.aliases.includes(e))return r}return null}var zf="cache_quota_exceeded",zu="cache_error_unknown";var uC={[zf]:"Exceeded cache storage capacity.",[zu]:"Unexpected error occurred when using cache storage."},xi=class n extends Error{constructor(e,t){let r=t||(uC[e]?uC[e]:uC[zu]);super(`${e}: ${r}`),Object.setPrototypeOf(this,n.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}};var Ri=class n{constructor(e,t,r,i){this.clientId=e,this.cryptoImpl=t,this.commonLogger=r.clone(Uf,nc),this.staticAuthorityOptions=i}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){let t=this.getAllAccounts(e);return t.length>1?t.sort(i=>i.idTokenClaims?-1:1)[0]:t.length===1?t[0]:null}getBaseAccountInfo(e){let t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap(r=>this.getTenantProfilesFromAccountEntity(r,t?.tenantId,t))}getTenantedAccountInfoByFilter(e,t,r,i){let o=null,s;if(i&&!this.tenantProfileMatchesFilter(r,i))return null;let a=this.getIdToken(e,t,r.tenantId);return a&&(s=Si(a.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(s,i))?null:(o=$s(e,r,s,a?.secret),o)}getTenantProfilesFromAccountEntity(e,t,r){let i=e.getAccountInfo(),o=i.tenantProfiles||new Map,s=this.getTokenKeys();if(t){let c=o.get(t);if(c)o=new Map([[t,c]]);else return[]}let a=[];return o.forEach(c=>{let l=this.getTenantedAccountInfoByFilter(i,s,c,r);l&&a.push(l)}),a}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId)||t.name&&e.name!==t.name||t.isHomeTenant!==void 0&&e.isHomeTenant!==t.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,t){return!(t&&(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId)||t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint)||t.username&&!this.matchUsername(e.preferred_username,t.username)||t.name&&!this.matchName(e,t.name)||t.sid&&!this.matchSid(e,t.sid)))}saveCacheRecord(e,t,r){return S(this,null,function*(){if(!e)throw j(As);try{e.account&&this.setAccount(e.account),e.idToken&&t?.idToken!==!1&&this.setIdTokenCredential(e.idToken),e.accessToken&&t?.accessToken!==!1&&(yield this.saveAccessToken(e.accessToken)),e.refreshToken&&t?.refreshToken!==!1&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(i){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),i instanceof Error?(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${i.message}`,r),i.name==="QuotaExceededError"||i.name==="NS_ERROR_DOM_QUOTA_REACHED"||i.message.includes("exceeded the quota")?(this.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",r),new xi(zf)):new xi(i.name,i.message)):(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${i}`,r),new xi(zu))}})}saveAccessToken(e){return S(this,null,function*(){let t={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),i=mt.fromString(e.target),o=[];r.accessToken.forEach(s=>{if(!this.accessTokenKeyMatchesFilter(s,t,!1))return;let a=this.getAccessTokenCredential(s);a&&this.credentialMatchesFilter(a,t)&&mt.fromString(a.target).intersectingScopeSets(i)&&o.push(this.removeAccessToken(s))}),yield Promise.all(o),this.setAccessTokenCredential(e)})}getAccountsFilteredBy(e){let t=this.getAccountKeys(),r=[];return t.forEach(i=>{if(!this.isAccountKey(i,e.homeAccountId))return;let o=this.getAccount(i,this.commonLogger);if(!o||e.homeAccountId&&!this.matchHomeAccountId(o,e.homeAccountId)||e.username&&!this.matchUsername(o.username,e.username)||e.environment&&!this.matchEnvironment(o,e.environment)||e.realm&&!this.matchRealm(o,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(o,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(o,e.authorityType))return;let s={localAccountId:e?.localAccountId,name:e?.name},a=o.tenantProfiles?.filter(c=>this.tenantProfileMatchesFilter(c,s));a&&a.length===0||r.push(o)}),r}isAccountKey(e,t,r){return!(e.split(It.CACHE_KEY_SEPARATOR).length<3||t&&!e.toLowerCase().includes(t.toLowerCase())||r&&!e.toLowerCase().includes(r.toLowerCase()))}isCredentialKey(e){if(e.split(It.CACHE_KEY_SEPARATOR).length<6)return!1;let t=e.toLowerCase();if(t.indexOf(Ce.ID_TOKEN.toLowerCase())===-1&&t.indexOf(Ce.ACCESS_TOKEN.toLowerCase())===-1&&t.indexOf(Ce.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&t.indexOf(Ce.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(t.indexOf(Ce.REFRESH_TOKEN.toLowerCase())>-1){let r=`${Ce.REFRESH_TOKEN}${It.CACHE_KEY_SEPARATOR}${this.clientId}${It.CACHE_KEY_SEPARATOR}`,i=`${Ce.REFRESH_TOKEN}${It.CACHE_KEY_SEPARATOR}${uo}${It.CACHE_KEY_SEPARATOR}`;if(t.indexOf(r.toLowerCase())===-1&&t.indexOf(i.toLowerCase())===-1)return!1}else if(t.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,t){return!(t.clientId&&!this.matchClientId(e,t.clientId)||t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash)||typeof t.homeAccountId=="string"&&!this.matchHomeAccountId(e,t.homeAccountId)||t.environment&&!this.matchEnvironment(e,t.environment)||t.realm&&!this.matchRealm(e,t.realm)||t.credentialType&&!this.matchCredentialType(e,t.credentialType)||t.familyId&&!this.matchFamilyId(e,t.familyId)||t.target&&!this.matchTarget(e,t.target)||(t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash||e.credentialType===Ce.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(t.tokenType&&!this.matchTokenType(e,t.tokenType)||t.tokenType===We.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId)))}getAppMetadataFilteredBy(e){let t=this.getKeys(),r={};return t.forEach(i=>{if(!this.isAppMetadata(i))return;let o=this.getAppMetadata(i);o&&(e.environment&&!this.matchEnvironment(o,e.environment)||e.clientId&&!this.matchClientId(o,e.clientId)||(r[i]=o))}),r}getAuthorityMetadataByAlias(e){let t=this.getAuthorityMetadataKeys(),r=null;return t.forEach(i=>{if(!this.isAuthorityMetadata(i)||i.indexOf(this.clientId)===-1)return;let o=this.getAuthorityMetadata(i);o&&o.aliases.indexOf(e)!==-1&&(r=o)}),r}removeAllAccounts(){return S(this,null,function*(){let e=this.getAccountKeys(),t=[];e.forEach(r=>{t.push(this.removeAccount(r))}),yield Promise.all(t)})}removeAccount(e){return S(this,null,function*(){let t=this.getAccount(e,this.commonLogger);t&&(yield this.removeAccountContext(t),this.removeItem(e))})}removeAccountContext(e){return S(this,null,function*(){let t=this.getTokenKeys(),r=e.generateAccountId(),i=[];t.idToken.forEach(o=>{o.indexOf(r)===0&&this.removeIdToken(o)}),t.accessToken.forEach(o=>{o.indexOf(r)===0&&i.push(this.removeAccessToken(o))}),t.refreshToken.forEach(o=>{o.indexOf(r)===0&&this.removeRefreshToken(o)}),yield Promise.all(i)})}updateOutdatedCachedAccount(e,t,r){if(t&&t.isSingleTenant()){this.commonLogger?.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");let i=this.getAccountKeys().filter(l=>l.startsWith(t.homeAccountId)),o=[];i.forEach(l=>{let u=this.getCachedAccountEntity(l);u&&o.push(u)});let s=o.find(l=>sc(l.realm,l.homeAccountId))||o[0];s.tenantProfiles=o.map(l=>({tenantId:l.realm,localAccountId:l.localAccountId,name:l.name,isHomeTenant:sc(l.realm,l.homeAccountId)}));let a=n.toObject(new ft,M({},s)),c=a.generateAccountKey();return i.forEach(l=>{l!==c&&this.removeOutdatedAccount(e)}),this.setAccount(a),r?.verbose("Updated an outdated account entity in the cache"),a}return t}removeAccessToken(e){return S(this,null,function*(){let t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===Ce.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===We.POP){let i=t.keyId;if(i)try{yield this.cryptoImpl.removeTokenBindingKey(i)}catch{throw j(Ms)}}return this.removeItem(e)}})}removeAppMetadata(){return this.getKeys().forEach(t=>{this.isAppMetadata(t)&&this.removeItem(t)}),!0}readAccountFromCache(e){let t=ft.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,r,i,o){this.commonLogger.trace("CacheManager - getIdToken called");let s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Ce.ID_TOKEN,clientId:this.clientId,realm:r},a=this.getIdTokensByFilter(s,t),c=a.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){let l=a;if(!r){let u=new Map;a.forEach((p,h)=>{p.realm===e.tenantId&&u.set(h,p)});let d=u.size;if(d<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(d===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),u.values().next().value;l=u}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),l.forEach((u,d)=>{this.removeIdToken(d)}),i&&o&&i.addFields({multiMatchedID:a.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,t){let r=t&&t.idToken||this.getTokenKeys().idToken,i=new Map;return r.forEach(o=>{if(!this.idTokenKeyMatchesFilter(o,M({clientId:this.clientId},e)))return;let s=this.getIdTokenCredential(o);s&&this.credentialMatchesFilter(s,e)&&i.set(o,s)}),i}idTokenKeyMatchesFilter(e,t){let r=e.toLowerCase();return!(t.clientId&&r.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&r.indexOf(t.homeAccountId.toLowerCase())===-1)}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,r,i,o,s){this.commonLogger.trace("CacheManager - getAccessToken called");let a=mt.createSearchScopes(t.scopes),c=t.authenticationScheme||We.BEARER,l=c&&c.toLowerCase()!==We.BEARER.toLowerCase()?Ce.ACCESS_TOKEN_WITH_AUTH_SCHEME:Ce.ACCESS_TOKEN,u={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:l,clientId:this.clientId,realm:i||e.tenantId,target:a,tokenType:c,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},d=r&&r.accessToken||this.getTokenKeys().accessToken,p=[];d.forEach(m=>{if(this.accessTokenKeyMatchesFilter(m,u,!0)){let g=this.getAccessTokenCredential(m);g&&this.credentialMatchesFilter(g,u)&&p.push(g)}});let h=p.length;return h<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):h>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),p.forEach(m=>{this.removeAccessToken(Ru(m))}),o&&s&&o.addFields({multiMatchedAT:p.length},s),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),p[0])}accessTokenKeyMatchesFilter(e,t,r){let i=e.toLowerCase();if(t.clientId&&i.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&i.indexOf(t.homeAccountId.toLowerCase())===-1||t.realm&&i.indexOf(t.realm.toLowerCase())===-1||t.requestedClaimsHash&&i.indexOf(t.requestedClaimsHash.toLowerCase())===-1)return!1;if(t.target){let o=t.target.asArray();for(let s=0;s<o.length;s++){if(r&&!i.includes(o[s].toLowerCase()))return!1;if(!r&&i.includes(o[s].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){let t=this.getTokenKeys(),r=[];return t.accessToken.forEach(i=>{if(!this.accessTokenKeyMatchesFilter(i,e,!0))return;let o=this.getAccessTokenCredential(i);o&&this.credentialMatchesFilter(o,e)&&r.push(o)}),r}getRefreshToken(e,t,r,i,o){this.commonLogger.trace("CacheManager - getRefreshToken called");let s=t?uo:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Ce.REFRESH_TOKEN,clientId:this.clientId,familyId:s},c=r&&r.refreshToken||this.getTokenKeys().refreshToken,l=[];c.forEach(d=>{if(this.refreshTokenKeyMatchesFilter(d,a)){let p=this.getRefreshTokenCredential(d);p&&this.credentialMatchesFilter(p,a)&&l.push(p)}});let u=l.length;return u<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(u>1&&i&&o&&i.addFields({multiMatchedRT:u},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),l[0])}refreshTokenKeyMatchesFilter(e,t){let r=e.toLowerCase();return!(t.familyId&&r.indexOf(t.familyId.toLowerCase())===-1||!t.familyId&&t.clientId&&r.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&r.indexOf(t.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){let t={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(t),i=Object.keys(r).map(s=>r[s]),o=i.length;if(o<1)return null;if(o>1)throw j(_s);return i[0]}isAppMetadataFOCI(e){let t=this.readAppMetadataFromCache(e);return!!(t&&t.familyId===uo)}matchHomeAccountId(e,t){return typeof e.homeAccountId=="string"&&t===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,t){let r=e.oid||e.sub;return t===r}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return t.toLowerCase()===e.name?.toLowerCase()}matchUsername(e,t){return!!(e&&typeof e=="string"&&t?.toLowerCase()===e.toLowerCase())}matchUserAssertionHash(e,t){return!!(e.userAssertionHash&&t===e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){let i=vS(this.staticAuthorityOptions,this.commonLogger);if(i.includes(t)&&i.includes(e.environment))return!0}let r=this.getAuthorityMetadataByAlias(t);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!!(e.clientId&&t===e.clientId)}matchFamilyId(e,t){return!!(e.familyId&&t===e.familyId)}matchRealm(e,t){return e.realm?.toLowerCase()===t.toLowerCase()}matchNativeAccountId(e,t){return!!(e.nativeAccountId&&t===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||e.preferred_username===t||e.upn===t}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!!(e.authorityType&&t.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,t){return e.credentialType!==Ce.ACCESS_TOKEN&&e.credentialType!==Ce.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:mt.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!!(e.tokenType&&e.tokenType===t)}matchKeyId(e,t){return!!(e.keyId&&e.keyId===t)}isAppMetadata(e){return e.indexOf(du)!==-1}isAuthorityMetadata(e){return e.indexOf(tc.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${tc.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,t){for(let r in t)e[r]=t[r];return e}},$u=class extends Ri{setAccount(){throw j(Ne)}getAccount(){throw j(Ne)}getCachedAccountEntity(){throw j(Ne)}setIdTokenCredential(){throw j(Ne)}getIdTokenCredential(){throw j(Ne)}setAccessTokenCredential(){throw j(Ne)}getAccessTokenCredential(){throw j(Ne)}setRefreshTokenCredential(){throw j(Ne)}getRefreshTokenCredential(){throw j(Ne)}setAppMetadata(){throw j(Ne)}getAppMetadata(){throw j(Ne)}setServerTelemetry(){throw j(Ne)}getServerTelemetry(){throw j(Ne)}setAuthorityMetadata(){throw j(Ne)}getAuthorityMetadata(){throw j(Ne)}getAuthorityMetadataKeys(){throw j(Ne)}setThrottlingCache(){throw j(Ne)}getThrottlingCache(){throw j(Ne)}removeItem(){throw j(Ne)}getKeys(){throw j(Ne)}getAccountKeys(){throw j(Ne)}getTokenKeys(){throw j(Ne)}updateCredentialCacheKey(){throw j(Ne)}removeOutdatedAccount(){throw j(Ne)}};var $f={tokenRenewalOffsetSeconds:tC,preventCorsPreflight:!1},yL={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:lt.Info,correlationId:N.EMPTY_STRING},CL={claimsBasedCachingEnabled:!1},bL={sendGetRequestAsync(){return S(this,null,function*(){throw j(Ne)})},sendPostRequestAsync(){return S(this,null,function*(){throw j(Ne)})}},wL={sku:N.SKU,version:nc,cpu:N.EMPTY_STRING,os:N.EMPTY_STRING},EL={clientSecret:N.EMPTY_STRING,clientAssertion:void 0},_L={azureCloudInstance:yo.None,tenant:`${N.DEFAULT_COMMON_TENANT}`},IL={application:{appName:"",appVersion:""}};function CS({authOptions:n,systemOptions:e,loggerOptions:t,cacheOptions:r,storageInterface:i,networkInterface:o,cryptoInterface:s,clientCredentials:a,libraryInfo:c,telemetry:l,serverTelemetryManager:u,persistencePlugin:d,serializableCache:p}){let h=M(M({},yL),t);return{authOptions:TL(n),systemOptions:M(M({},$f),e),loggerOptions:h,cacheOptions:M(M({},CL),r),storageInterface:i||new $u(n.clientId,vo,new kn(h)),networkInterface:o||bL,cryptoInterface:s||vo,clientCredentials:a||EL,libraryInfo:M(M({},wL),c),telemetry:M(M({},IL),l),serverTelemetryManager:u||null,persistencePlugin:d||null,serializableCache:p||null}}function TL(n){return M({clientCapabilities:[],azureCloudOptions:_L,skipAuthorityMetadataCache:!1,instanceAware:!1},n)}function Gu(n){return n.authOptions.authority.options.protocolMode===Zt.OIDC}var zt={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};var Oi={};lr(Oi,{ACCESS_TOKEN:()=>DL,BROKER_CLIENT_ID:()=>Qf,BROKER_REDIRECT_URI:()=>qC,CCS_HEADER:()=>FL,CLAIMS:()=>fC,CLIENT_ASSERTION:()=>LC,CLIENT_ASSERTION_TYPE:()=>UC,CLIENT_ID:()=>Ni,CLIENT_INFO:()=>NL,CLIENT_REQUEST_ID:()=>_C,CLIENT_SECRET:()=>FC,CODE:()=>CC,CODE_CHALLENGE:()=>bC,CODE_CHALLENGE_METHOD:()=>wC,CODE_VERIFIER:()=>EC,DEVICE_CODE:()=>PC,DOMAIN_HINT:()=>GC,ERROR:()=>SL,ERROR_DESCRIPTION:()=>AL,EXPIRES_IN:()=>ML,FOCI:()=>PL,GRANT_TYPE:()=>hC,ID_TOKEN:()=>kL,ID_TOKEN_HINT:()=>OC,LOGIN_HINT:()=>$C,LOGOUT_HINT:()=>VC,NATIVE_BROKER:()=>jC,NONCE:()=>vC,OBO_ASSERTION:()=>HC,ON_BEHALF_OF:()=>OL,POST_LOGOUT_URI:()=>NC,PROMPT:()=>yC,REDIRECT_URI:()=>Gf,REFRESH_TOKEN:()=>mC,REFRESH_TOKEN_EXPIRES_IN:()=>xL,REQUESTED_TOKEN_USE:()=>BC,REQ_CNF:()=>Wf,RESPONSE_MODE:()=>dC,RESPONSE_TYPE:()=>qf,RETURN_SPA_CODE:()=>Yf,SCOPE:()=>pC,SESSION_STATE:()=>RL,SID:()=>zC,STATE:()=>gC,TOKEN_TYPE:()=>Kf,X_APP_NAME:()=>xC,X_APP_VER:()=>RC,X_CLIENT_CPU:()=>AC,X_CLIENT_CURR_TELEM:()=>DC,X_CLIENT_EXTRA_SKU:()=>LL,X_CLIENT_LAST_TELEM:()=>kC,X_CLIENT_OS:()=>SC,X_CLIENT_SKU:()=>IC,X_CLIENT_VER:()=>TC,X_MS_LIB_CAPABILITY:()=>MC});var Ni="client_id",Gf="redirect_uri",qf="response_type",dC="response_mode",hC="grant_type",fC="claims",pC="scope",SL="error",AL="error_description",DL="access_token",kL="id_token",mC="refresh_token",ML="expires_in",xL="refresh_token_expires_in",gC="state",vC="nonce",yC="prompt",RL="session_state",NL="client_info",CC="code",bC="code_challenge",wC="code_challenge_method",EC="code_verifier",_C="client-request-id",IC="x-client-SKU",TC="x-client-VER",SC="x-client-OS",AC="x-client-CPU",DC="x-client-current-telemetry",kC="x-client-last-telemetry",MC="x-ms-lib-capability",xC="x-app-name",RC="x-app-ver",NC="post_logout_redirect_uri",OC="id_token_hint",PC="device_code",FC="client_secret",LC="client_assertion",UC="client_assertion_type",Kf="token_type",Wf="req_cnf",HC="assertion",BC="requested_token_use",OL="on_behalf_of",PL="foci",FL="X-AnchorMailbox",Yf="return_spa_code",jC="nativebroker",VC="logout_hint",zC="sid",$C="login_hint",GC="domain_hint",LL="x-client-xtra-sku",Qf="brk_client_id",qC="brk_redirect_uri";var $r=class{static validateRedirectUri(e){if(!e)throw Qe(Os)}static validatePrompt(e){let t=[];for(let r in pt)t.push(pt[r]);if(t.indexOf(e)<0)throw Qe(Us)}static validateClaims(e){try{JSON.parse(e)}catch{throw Qe(Ai)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw Qe(Di);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([Rf.PLAIN,Rf.S256].indexOf(e)<0)throw Qe(js)}};function UL(n,e,t){if(!e)return;let r=n.get(Ni);r&&n.has(Qf)&&t?.addFields({embeddedClientId:r,embeddedRedirectUri:n.get(Gf)},e)}var Gr=class{constructor(e,t){this.parameters=new Map,this.performanceClient=t,this.correlationId=e}addResponseTypeCode(){this.parameters.set(qf,encodeURIComponent(N.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(qf,encodeURIComponent(`${N.TOKEN_RESPONSE_TYPE} ${N.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set(dC,encodeURIComponent(e||eC.QUERY))}addNativeBroker(){this.parameters.set(jC,encodeURIComponent("1"))}addScopes(e,t=!0,r=Hn){t&&!r.includes("openid")&&!e.includes("openid")&&r.push("openid");let i=t?[...e||[],...r]:e||[],o=new mt(i);this.parameters.set(pC,encodeURIComponent(o.printScopes()))}addClientId(e){this.parameters.set(Ni,encodeURIComponent(e))}addRedirectUri(e){$r.validateRedirectUri(e),this.parameters.set(Gf,encodeURIComponent(e))}addPostLogoutRedirectUri(e){$r.validateRedirectUri(e),this.parameters.set(NC,encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set(OC,encodeURIComponent(e))}addDomainHint(e){this.parameters.set(GC,encodeURIComponent(e))}addLoginHint(e){this.parameters.set($C,encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(Nt.CCS_HEADER,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(Nt.CCS_HEADER,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set(zC,encodeURIComponent(e))}addClaims(e,t){let r=this.addClientCapabilitiesToClaims(e,t);$r.validateClaims(r),this.parameters.set(fC,encodeURIComponent(r))}addCorrelationId(e){this.parameters.set(_C,encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set(IC,e.sku),this.parameters.set(TC,e.version),e.os&&this.parameters.set(SC,e.os),e.cpu&&this.parameters.set(AC,e.cpu)}addApplicationTelemetry(e){e?.appName&&this.parameters.set(xC,e.appName),e?.appVersion&&this.parameters.set(RC,e.appVersion)}addPrompt(e){$r.validatePrompt(e),this.parameters.set(`${yC}`,encodeURIComponent(e))}addState(e){e&&this.parameters.set(gC,encodeURIComponent(e))}addNonce(e){this.parameters.set(vC,encodeURIComponent(e))}addCodeChallengeParams(e,t){if($r.validateCodeChallengeParams(e,t),e&&t)this.parameters.set(bC,encodeURIComponent(e)),this.parameters.set(wC,encodeURIComponent(t));else throw Qe(Di)}addAuthorizationCode(e){this.parameters.set(CC,encodeURIComponent(e))}addDeviceCode(e){this.parameters.set(PC,encodeURIComponent(e))}addRefreshToken(e){this.parameters.set(mC,encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set(EC,encodeURIComponent(e))}addClientSecret(e){this.parameters.set(FC,encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set(LC,encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set(UC,encodeURIComponent(e))}addOboAssertion(e){this.parameters.set(HC,encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set(BC,encodeURIComponent(e))}addGrantType(e){this.parameters.set(hC,encodeURIComponent(e))}addClientInfo(){this.parameters.set(lS,"1")}addExtraQueryParameters(e){Object.entries(e).forEach(([t,r])=>{!this.parameters.has(t)&&r&&this.parameters.set(t,r)})}addClientCapabilitiesToClaims(e,t){let r;if(!e)r={};else try{r=JSON.parse(e)}catch{throw Qe(Ai)}return t&&t.length>0&&(r.hasOwnProperty(Xa.ACCESS_TOKEN)||(r[Xa.ACCESS_TOKEN]={}),r[Xa.ACCESS_TOKEN][Xa.XMS_CC]={values:t}),JSON.stringify(r)}addUsername(e){this.parameters.set(Of.username,encodeURIComponent(e))}addPassword(e){this.parameters.set(Of.password,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(Kf,We.POP),this.parameters.set(Wf,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(Kf,We.SSH),this.parameters.set(Wf,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set(DC,e.generateCurrentRequestHeaderValue()),this.parameters.set(kC,e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set(MC,Ei.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(e){this.parameters.set(VC,encodeURIComponent(e))}addBrokerParameters(e){let t={};t[Qf]=e.brokerClientId,t[qC]=e.brokerRedirectUri,this.addExtraQueryParameters(t)}createQueryString(){let e=new Array;return this.parameters.forEach((t,r)=>{e.push(`${r}=${t}`)}),UL(this.parameters,this.correlationId,this.performanceClient),e.join("&")}};var Jf={};lr(Jf,{createDiscoveredInstance:()=>YC});function bS(n){return n.hasOwnProperty("authorization_endpoint")&&n.hasOwnProperty("token_endpoint")&&n.hasOwnProperty("issuer")&&n.hasOwnProperty("jwks_uri")}function wS(n){return n.hasOwnProperty("tenant_discovery_endpoint")&&n.hasOwnProperty("metadata")}function ES(n){return n.hasOwnProperty("error")&&n.hasOwnProperty("error_description")}var C={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"},b6=new Map([[C.AcquireTokenByCode,"ATByCode"],[C.AcquireTokenByRefreshToken,"ATByRT"],[C.AcquireTokenSilent,"ATS"],[C.AcquireTokenSilentAsync,"ATSAsync"],[C.AcquireTokenPopup,"ATPopup"],[C.AcquireTokenRedirect,"ATRedirect"],[C.CryptoOptsGetPublicKeyThumbprint,"CryptoGetPKThumb"],[C.CryptoOptsSignJwt,"CryptoSignJwt"],[C.SilentCacheClientAcquireToken,"SltCacheClientAT"],[C.SilentIframeClientAcquireToken,"SltIframeClientAT"],[C.SilentRefreshClientAcquireToken,"SltRClientAT"],[C.SsoSilent,"SsoSlt"],[C.StandardInteractionClientGetDiscoveredAuthority,"StdIntClientGetDiscAuth"],[C.FetchAccountIdWithNativeBroker,"FetchAccIdWithNtvBroker"],[C.NativeInteractionClientAcquireToken,"NtvIntClientAT"],[C.BaseClientCreateTokenRequestHeaders,"BaseClientCreateTReqHead"],[C.NetworkClientSendPostRequestAsync,"NetClientSendPost"],[C.RefreshTokenClientExecutePostToTokenEndpoint,"RTClientExecPost"],[C.AuthorizationCodeClientExecutePostToTokenEndpoint,"AuthCodeClientExecPost"],[C.BrokerHandhshake,"BrokerHandshake"],[C.AcquireTokenByRefreshTokenInBroker,"ATByRTInBroker"],[C.AcquireTokenByBroker,"ATByBroker"],[C.RefreshTokenClientExecuteTokenRequest,"RTClientExecTReq"],[C.RefreshTokenClientAcquireToken,"RTClientAT"],[C.RefreshTokenClientAcquireTokenWithCachedRefreshToken,"RTClientATWithCachedRT"],[C.RefreshTokenClientAcquireTokenByRefreshToken,"RTClientATByRT"],[C.RefreshTokenClientCreateTokenRequestBody,"RTClientCreateTReqBody"],[C.AcquireTokenFromCache,"ATFromCache"],[C.SilentFlowClientAcquireCachedToken,"SltFlowClientATCached"],[C.SilentFlowClientGenerateResultFromCacheRecord,"SltFlowClientGenResFromCache"],[C.AcquireTokenBySilentIframe,"ATBySltIframe"],[C.InitializeBaseRequest,"InitBaseReq"],[C.InitializeSilentRequest,"InitSltReq"],[C.InitializeClientApplication,"InitClientApplication"],[C.SilentIframeClientTokenHelper,"SIClientTHelper"],[C.SilentHandlerInitiateAuthRequest,"SHandlerInitAuthReq"],[C.SilentHandlerMonitorIframeForHash,"SltHandlerMonitorIframeForHash"],[C.SilentHandlerLoadFrame,"SHandlerLoadFrame"],[C.SilentHandlerLoadFrameSync,"SHandlerLoadFrameSync"],[C.StandardInteractionClientCreateAuthCodeClient,"StdIntClientCreateAuthCodeClient"],[C.StandardInteractionClientGetClientConfiguration,"StdIntClientGetClientConf"],[C.StandardInteractionClientInitializeAuthorizationRequest,"StdIntClientInitAuthReq"],[C.StandardInteractionClientInitializeAuthorizationCodeRequest,"StdIntClientInitAuthCodeReq"],[C.GetAuthCodeUrl,"GetAuthCodeUrl"],[C.HandleCodeResponseFromServer,"HandleCodeResFromServer"],[C.HandleCodeResponse,"HandleCodeResp"],[C.UpdateTokenEndpointAuthority,"UpdTEndpointAuth"],[C.AuthClientAcquireToken,"AuthClientAT"],[C.AuthClientExecuteTokenRequest,"AuthClientExecTReq"],[C.AuthClientCreateTokenRequestBody,"AuthClientCreateTReqBody"],[C.AuthClientCreateQueryString,"AuthClientCreateQueryStr"],[C.PopTokenGenerateCnf,"PopTGenCnf"],[C.PopTokenGenerateKid,"PopTGenKid"],[C.HandleServerTokenResponse,"HandleServerTRes"],[C.DeserializeResponse,"DeserializeRes"],[C.AuthorityFactoryCreateDiscoveredInstance,"AuthFactCreateDiscInst"],[C.AuthorityResolveEndpointsAsync,"AuthResolveEndpointsAsync"],[C.AuthorityResolveEndpointsFromLocalSources,"AuthResolveEndpointsFromLocal"],[C.AuthorityGetCloudDiscoveryMetadataFromNetwork,"AuthGetCDMetaFromNet"],[C.AuthorityUpdateCloudDiscoveryMetadata,"AuthUpdCDMeta"],[C.AuthorityGetEndpointMetadataFromNetwork,"AuthUpdCDMetaFromNet"],[C.AuthorityUpdateEndpointMetadata,"AuthUpdEndpointMeta"],[C.AuthorityUpdateMetadataWithRegionalInformation,"AuthUpdMetaWithRegInfo"],[C.RegionDiscoveryDetectRegion,"RegDiscDetectReg"],[C.RegionDiscoveryGetRegionFromIMDS,"RegDiscGetRegFromIMDS"],[C.RegionDiscoveryGetCurrentVersion,"RegDiscGetCurrentVer"],[C.AcquireTokenByCodeAsync,"ATByCodeAsync"],[C.GetEndpointMetadataFromNetwork,"GetEndpointMetaFromNet"],[C.GetCloudDiscoveryMetadataFromNetworkMeasurement,"GetCDMetaFromNet"],[C.HandleRedirectPromiseMeasurement,"HandleRedirectPromise"],[C.HandleNativeRedirectPromiseMeasurement,"HandleNtvRedirectPromise"],[C.UpdateCloudDiscoveryMetadataMeasurement,"UpdateCDMeta"],[C.UsernamePasswordClientAcquireToken,"UserPassClientAT"],[C.NativeMessageHandlerHandshake,"NtvMsgHandlerHandshake"],[C.NativeGenerateAuthResult,"NtvGenAuthRes"],[C.RemoveHiddenIframe,"RemoveHiddenIframe"],[C.ClearTokensAndKeysWithClaims,"ClearTAndKeysWithClaims"],[C.CacheManagerGetRefreshToken,"CacheManagerGetRT"],[C.GeneratePkceCodes,"GenPkceCodes"],[C.GenerateCodeVerifier,"GenCodeVerifier"],[C.GenerateCodeChallengeFromVerifier,"GenCodeChallengeFromVerifier"],[C.Sha256Digest,"Sha256Digest"],[C.GetRandomValues,"GetRandomValues"]]),KC={NotStarted:0,InProgress:1,Completed:2};var yn=(n,e,t,r,i)=>(...o)=>{t.trace(`Executing function ${e}`);let s=r?.startMeasurement(e,i);if(i){let a=e+"CallCount";r?.incrementFields({[a]:1},i)}try{let a=n(...o);return s?.end({success:!0}),t.trace(`Returning result from ${e}`),a}catch(a){t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(a))}catch{t.trace("Unable to print error message.")}throw s?.end({success:!1},a),a}},q=(n,e,t,r,i)=>(...o)=>{t.trace(`Executing function ${e}`);let s=r?.startMeasurement(e,i);if(i){let a=e+"CallCount";r?.incrementFields({[a]:1},i)}return r?.setPreQueueTime(e,i),n(...o).then(a=>(t.trace(`Returning result from ${e}`),s?.end({success:!0}),a)).catch(a=>{t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(a))}catch{t.trace("Unable to print error message.")}throw s?.end({success:!1},a),a})};var _S=(()=>{class n{constructor(t,r,i,o){this.networkInterface=t,this.logger=r,this.performanceClient=i,this.correlationId=o}detectRegion(t,r){return S(this,null,function*(){this.performanceClient?.addQueueMeasurement(C.RegionDiscoveryDetectRegion,this.correlationId);let i=t;if(i)r.region_source=fs.ENVIRONMENT_VARIABLE;else{let o=n.IMDS_OPTIONS;try{let s=yield q(this.getRegionFromIMDS.bind(this),C.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(N.IMDS_VERSION,o);if(s.status===hu.httpSuccess&&(i=s.body,r.region_source=fs.IMDS),s.status===hu.httpBadRequest){let a=yield q(this.getCurrentVersion.bind(this),C.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!a)return r.region_source=fs.FAILED_AUTO_DETECTION,null;let c=yield q(this.getRegionFromIMDS.bind(this),C.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(a,o);c.status===hu.httpSuccess&&(i=c.body,r.region_source=fs.IMDS)}}catch{return r.region_source=fs.FAILED_AUTO_DETECTION,null}}return i||(r.region_source=fs.FAILED_AUTO_DETECTION),i||null})}getRegionFromIMDS(t,r){return S(this,null,function*(){return this.performanceClient?.addQueueMeasurement(C.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${N.IMDS_ENDPOINT}?api-version=${t}&format=text`,r,N.IMDS_TIMEOUT)})}getCurrentVersion(t){return S(this,null,function*(){this.performanceClient?.addQueueMeasurement(C.RegionDiscoveryGetCurrentVersion,this.correlationId);try{let r=yield this.networkInterface.sendGetRequestAsync(`${N.IMDS_ENDPOINT}?format=json`,t);return r.status===hu.httpBadRequest&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}})}}return n.IMDS_OPTIONS={headers:{Metadata:"true"}},n})();var Xn=class n{constructor(e,t,r,i,o,s,a,c){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=r,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=s,this.managedIdentity=c||!1,this.regionDiscovery=new _S(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(N.CIAM_AUTH_URL))return vn.Ciam;let t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case N.ADFS:return vn.Adfs;case N.DSTS:return vn.Dsts}return vn.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Pe(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw j(gn)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw j(gn)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw j(gn)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw j(xs);return this.replacePath(this.metadata.end_session_endpoint)}else throw j(gn)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw j(gn)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw j(gn)}canReplaceTenant(e){return e.PathSegments.length===1&&!n.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===vn.Default&&this.protocolMode===Zt.AAD}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e,i=new Pe(this.metadata.canonical_authority).getUrlComponents(),o=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((a,c)=>{let l=o[c];if(c===0&&this.canReplaceTenant(i)){let u=new Pe(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];l!==u&&(this.logger.verbose(`Replacing tenant domain name ${l} with id ${u}`),l=u)}a!==l&&(t=t.replace(`/${l}/`,`/${a}/`))}),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){let e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===vn.Adfs||this.protocolMode!==Zt.AAD&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}resolveEndpointsAsync(){return S(this,null,function*(){this.performanceClient?.addQueueMeasurement(C.AuthorityResolveEndpointsAsync,this.correlationId);let e=this.getCurrentMetadataEntity(),t=yield q(this.updateCloudDiscoveryMetadata.bind(this),C.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);let r=yield q(this.updateEndpointMetadata.bind(this),C.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:r}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:r},this.correlationId)})}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Bf(),jwks_uri:""}),e}updateCachedMetadata(e,t,r){t!==mn.CACHE&&r?.source!==mn.CACHE&&(e.expiresAt=Bf(),e.canonical_authority=this.canonicalAuthority);let i=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(i,e),this.metadata=e}updateEndpointMetadata(e){return S(this,null,function*(){this.performanceClient?.addQueueMeasurement(C.AuthorityUpdateEndpointMetadata,this.correlationId);let t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===mn.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata){let i=yield q(this.updateMetadataWithRegionalInformation.bind(this),C.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(t.metadata);ic(e,i,!1),e.canonical_authority=this.canonicalAuthority}return t.source}let r=yield q(this.getEndpointMetadataFromNetwork.bind(this),C.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(r=yield q(this.updateMetadataWithRegionalInformation.bind(this),C.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),ic(e,r,!0),mn.NETWORK;throw j(ys,this.defaultOpenIdConfigurationEndpoint)})}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");let t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),ic(e,t,!1),{source:mn.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{let i=this.getEndpointMetadataFromHardcodedValues();if(i)return ic(e,i,!1),{source:mn.HARDCODED_VALUES,metadata:i};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}let r=jf(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:mn.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Pe(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Qe(Vs)}return null}getEndpointMetadataFromNetwork(){return S(this,null,function*(){this.performanceClient?.addQueueMeasurement(C.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);let e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{let r=yield this.networkInterface.sendGetRequestAsync(t,e);return bS(r.body)?r.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(r){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${r}`),null}})}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in aC?aC[this.hostnameAndPort]:null}updateMetadataWithRegionalInformation(e){return S(this,null,function*(){this.performanceClient?.addQueueMeasurement(C.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);let t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==N.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=Pf.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=t,n.replaceWithRegionalInformation(e,t);let r=yield q(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),C.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(r)return this.regionDiscoveryMetadata.region_outcome=Pf.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=r,n.replaceWithRegionalInformation(e,r);this.regionDiscoveryMetadata.region_outcome=Pf.AUTO_DETECTION_REQUESTED_FAILED}return e})}updateCloudDiscoveryMetadata(e){return S(this,null,function*(){this.performanceClient?.addQueueMeasurement(C.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);let t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;let r=yield q(this.getCloudDiscoveryMetadataFromNetwork.bind(this),C.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return Nu(e,r,!0),mn.NETWORK;throw Qe(zs)})}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||N.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||N.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||N.NOT_APPLICABLE}`);let t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Nu(e,t,!1),mn.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{let i=yS(this.hostnameAndPort);if(i)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Nu(e,i,!1),mn.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}let r=jf(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),mn.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===vn.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");let e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),t=Vu(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),t)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),t;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Qe(bo)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}getCloudDiscoveryMetadataFromNetwork(){return S(this,null,function*(){this.performanceClient?.addQueueMeasurement(C.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);let e=`${N.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={},r=null;try{let i=yield this.networkInterface.sendGetRequestAsync(e,t),o,s;if(wS(i.body))o=i.body,s=o.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${o.tenant_discovery_endpoint}`);else if(ES(i.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${i.status}`),o=i.body,o.error===N.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${o.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${o.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),s=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=Vu(s,this.hostnameAndPort)}catch(i){if(i instanceof je)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${i.errorCode}
Error Description: ${i.errorMessage}`);else{let o=i;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${o.name}
Error Description: ${o.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r})}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(t=>t&&Pe.getDomainFromUrl(t).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,t){let r;if(t&&t.azureCloudInstance!==yo.None){let i=t.tenant?t.tenant:N.DEFAULT_COMMON_TENANT;r=`${t.azureCloudInstance}/${i}/`}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return N.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw j(gn)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return lC.has(e)}static isPublicCloudAuthority(e){return N.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,r){let i=new Pe(e);i.validateAsUri();let o=i.getUrlComponents(),s=`${t}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(s=`${t}.${N.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);let a=Pe.constructAuthorityUriFromObject(re(M({},i.getUrlComponents()),{HostNameAndPort:s})).urlString;return r?`${a}?${r}`:a}static replaceWithRegionalInformation(e,t){let r=M({},e);return r.authorization_endpoint=n.buildRegionalAuthorityString(r.authorization_endpoint,t),r.token_endpoint=n.buildRegionalAuthorityString(r.token_endpoint,t),r.end_session_endpoint&&(r.end_session_endpoint=n.buildRegionalAuthorityString(r.end_session_endpoint,t)),r}static transformCIAMAuthority(e){let t=e,i=new Pe(e).getUrlComponents();if(i.PathSegments.length===0&&i.HostNameAndPort.endsWith(N.CIAM_AUTH_URL)){let o=i.HostNameAndPort.split(".")[0];t=`${t}${o}${N.AAD_TENANT_DOMAIN_SUFFIX}`}return t}};Xn.reservedTenantDomains=new Set(["{tenant}","{tenantid}",br.COMMON,br.CONSUMERS,br.ORGANIZATIONS]);function IS(n){let r=new Pe(n).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(r){case br.COMMON:case br.ORGANIZATIONS:case br.CONSUMERS:return;default:return r}}function Zf(n){return n.endsWith(N.FORWARD_SLASH)?n:`${n}${N.FORWARD_SLASH}`}function WC(n){let e=n.cloudDiscoveryMetadata,t;if(e)try{t=JSON.parse(e)}catch{throw Qe(bo)}return{canonicalAuthority:n.authority?Zf(n.authority):void 0,knownAuthorities:n.knownAuthorities,cloudDiscoveryMetadata:t}}function YC(n,e,t,r,i,o,s){return S(this,null,function*(){s?.addQueueMeasurement(C.AuthorityFactoryCreateDiscoveredInstance,o);let a=Xn.transformCIAMAuthority(Zf(n)),c=new Xn(a,e,t,r,i,o,s);try{return yield q(c.resolveEndpointsAsync.bind(c),C.AuthorityResolveEndpointsAsync,i,s,o)(),c}catch{throw j(gn)}})}var Cn=class n extends je{constructor(e,t,r,i,o){super(e,t,r),this.name="ServerError",this.errorNo=i,this.status=o,Object.setPrototypeOf(this,n.prototype)}};var qr=class n{static generateThrottlingStorageKey(e){return`${Ei.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,t){let r=n.generateThrottlingStorageKey(t),i=e.getThrottlingCache(r);if(i){if(i.throttleTime<Date.now()){e.removeItem(r);return}throw new Cn(i.errorCodes?.join(" ")||N.EMPTY_STRING,i.errorMessage,i.subError)}}static postProcess(e,t,r){if(n.checkResponseStatus(r)||n.checkResponseForRetryAfter(r)){let i={throttleTime:n.calculateThrottleTime(parseInt(r.headers[Nt.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(n.generateThrottlingStorageKey(t),i)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(Nt.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){let t=e<=0?0:e,r=Date.now()/1e3;return Math.floor(Math.min(r+(t||Ei.DEFAULT_THROTTLE_TIME_SECONDS),r+Ei.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,t,r,i){let o={clientId:t,authority:r.authority,scopes:r.scopes,homeAccountIdentifier:i,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},s=this.generateThrottlingStorageKey(o);e.removeItem(s)}};var cc=class n extends je{constructor(e,t,r){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,n.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=r}};function Xf(n,e,t){return new cc(n,e,t)}var Eo=class{constructor(e,t){this.config=CS(e),this.logger=new kn(this.config.loggerOptions,Uf,nc),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){let t={};if(t[Nt.CONTENT_TYPE]=N.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case zt.HOME_ACCOUNT_ID:try{let r=Mi(e.credential);t[Nt.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case zt.UPN:t[Nt.CCS_HEADER]=`UPN: ${e.credential}`;break}return t}executePostToTokenEndpoint(e,t,r,i,o,s){return S(this,null,function*(){s&&this.performanceClient?.addQueueMeasurement(s,o);let a=yield this.sendPostRequest(i,e,{body:t,headers:r},o);return this.config.serverTelemetryManager&&a.status<500&&a.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),a})}sendPostRequest(e,t,r,i){return S(this,null,function*(){qr.preProcess(this.cacheManager,e);let o;try{o=yield q(this.networkClient.sendPostRequestAsync.bind(this.networkClient),C.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,i)(t,r);let s=o.headers||{};this.performanceClient?.addFields({refreshTokenSize:o.body.refresh_token?.length||0,httpVerToken:s[Nt.X_MS_HTTP_VERSION]||"",requestId:s[Nt.X_MS_REQUEST_ID]||""},i)}catch(s){if(s instanceof cc){let a=s.responseHeaders;throw a&&this.performanceClient?.addFields({httpVerToken:a[Nt.X_MS_HTTP_VERSION]||"",requestId:a[Nt.X_MS_REQUEST_ID]||"",contentTypeHeader:a[Nt.CONTENT_TYPE]||void 0,contentLengthHeader:a[Nt.CONTENT_LENGTH]||void 0,httpStatus:s.httpStatus},i),s.error}throw s instanceof je?s:j(vs)}return qr.postProcess(this.cacheManager,e,o),o})}updateAuthority(e,t){return S(this,null,function*(){this.performanceClient?.addQueueMeasurement(C.UpdateTokenEndpointAuthority,t);let r=`https://${e}/${this.authority.tenant}/`,i=yield YC(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=i})}createTokenQueryParameters(e){let t=new Gr(e.correlationId,this.performanceClient);return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.addCorrelationId(e.correlationId),t.createQueryString()}};var Pi={};lr(Pi,{badToken:()=>Io,consentRequired:()=>ZC,interactionRequired:()=>QC,loginRequired:()=>JC,nativeAccountUnavailable:()=>qu,noTokensFound:()=>_o,refreshTokenExpired:()=>Ku});var _o="no_tokens_found",qu="native_account_unavailable",Ku="refresh_token_expired",QC="interaction_required",ZC="consent_required",JC="login_required",Io="bad_token";var TS=[QC,ZC,JC,Io],HL=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],ep={[_o]:"No refresh token found in the cache. Please sign-in.",[qu]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Ku]:"Refresh token has expired.",[Io]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."},SS={noTokensFoundError:{code:_o,desc:ep[_o]},native_account_unavailable:{code:qu,desc:ep[qu]},bad_token:{code:Io,desc:ep[Io]}},Jt=class n extends je{constructor(e,t,r,i,o,s,a,c){super(e,t,r),Object.setPrototypeOf(this,n.prototype),this.timestamp=i||N.EMPTY_STRING,this.traceId=o||N.EMPTY_STRING,this.correlationId=s||N.EMPTY_STRING,this.claims=a||N.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}};function XC(n,e,t){let r=!!n&&TS.indexOf(n)>-1,i=!!t&&HL.indexOf(t)>-1,o=!!e&&TS.some(s=>e.indexOf(s)>-1);return r||o||i}function lc(n){return new Jt(n,ep[n])}var $t=class n{static setRequestState(e,t,r){let i=n.generateLibraryState(e,r);return t?`${i}${N.RESOURCE_DELIM}${t}`:i}static generateLibraryState(e,t){if(!e)throw j(go);let r={id:e.createNewGuid()};t&&(r.meta=t);let i=JSON.stringify(r);return e.base64Encode(i)}static parseRequestState(e,t){if(!e)throw j(go);if(!t)throw j(_r);try{let r=t.split(N.RESOURCE_DELIM),i=r[0],o=r.length>1?r.slice(1).join(N.RESOURCE_DELIM):N.EMPTY_STRING,s=e.base64Decode(i),a=JSON.parse(s);return{userRequestState:o||N.EMPTY_STRING,libraryState:a}}catch{throw j(_r)}}};var BL={SW:"sw",UHW:"uhw"},jn=class{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}generateCnf(e,t){return S(this,null,function*(){this.performanceClient?.addQueueMeasurement(C.PopTokenGenerateCnf,e.correlationId);let r=yield q(this.generateKid.bind(this),C.PopTokenGenerateCnf,t,this.performanceClient,e.correlationId)(e),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:i}})}generateKid(e){return S(this,null,function*(){return this.performanceClient?.addQueueMeasurement(C.PopTokenGenerateKid,e.correlationId),{kid:yield this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:BL.SW}})}signPopToken(e,t,r){return S(this,null,function*(){return this.signPayload(e,t,r)})}signPayload(e,t,r,i){return S(this,null,function*(){let{resourceRequestMethod:o,resourceRequestUri:s,shrClaims:a,shrNonce:c,shrOptions:l}=r,d=(s?new Pe(s):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt(M({at:e,ts:Bn(),m:o?.toUpperCase(),u:d?.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:d?.AbsolutePath,q:d?.QueryString?[[],d.QueryString]:void 0,client_claims:a||void 0},i),t,l,r.correlationId)})}};var tp=class{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}};function jL(n){let e="code=",t=n.error_uri?.lastIndexOf(e);return t&&t>=0?n.error_uri?.substring(t+e.length):void 0}var Kr=class n{constructor(e,t,r,i,o,s,a){this.clientId=e,this.cacheStorage=t,this.cryptoObj=r,this.logger=i,this.serializableCache=o,this.persistencePlugin=s,this.performanceClient=a}validateServerAuthorizationCodeResponse(e,t){if(!e.state||!t)throw e.state?j(po,"Cached State"):j(po,"Server State");let r,i;try{r=decodeURIComponent(e.state)}catch{throw j(_r,e.state)}try{i=decodeURIComponent(t)}catch{throw j(_r,e.state)}if(r!==i)throw j(bs);if(e.error||e.error_description||e.suberror){let o=jL(e);throw XC(e.error,e.error_description,e.suberror)?new Jt(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",o):new Cn(e.error||"",e.error_description,e.suberror,o)}}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){let r=`Error(s): ${e.error_codes||N.NOT_AVAILABLE} - Timestamp: ${e.timestamp||N.NOT_AVAILABLE} - Description: ${e.error_description||N.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||N.NOT_AVAILABLE} - Trace ID: ${e.trace_id||N.NOT_AVAILABLE}`,i=e.error_codes?.length?e.error_codes[0]:void 0,o=new Cn(e.error,r,e.suberror,i,e.status);if(t&&e.status&&e.status>=Ja.SERVER_ERROR_RANGE_START&&e.status<=Ja.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${o}`);return}else if(t&&e.status&&e.status>=Ja.CLIENT_ERROR_RANGE_START&&e.status<=Ja.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${o}`);return}throw XC(e.error,e.error_description,e.suberror)?new Jt(e.error,e.error_description,e.suberror,e.timestamp||N.EMPTY_STRING,e.trace_id||N.EMPTY_STRING,e.correlation_id||N.EMPTY_STRING,e.claims||N.EMPTY_STRING,i):o}}handleServerTokenResponse(e,t,r,i,o,s,a,c,l){return S(this,null,function*(){this.performanceClient?.addQueueMeasurement(C.HandleServerTokenResponse,e.correlation_id);let u;if(e.id_token){if(u=Si(e.id_token||N.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&u.nonce!==o.nonce)throw j(ws);if(i.maxAge||i.maxAge===0){let m=u.auth_time;if(!m)throw j(_i);Mu(m,i.maxAge)}}this.homeAccountIdentifier=ft.generateHomeAccountId(e.client_info||N.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,u);let d;o&&o.state&&(d=$t.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||i.sshKid||void 0;let p=this.generateCacheRecord(e,t,r,i,u,s,o),h;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),h=new tp(this.serializableCache,!0),yield this.persistencePlugin.beforeCacheAccess(h)),a&&!c&&p.account){let m=p.account.generateAccountKey();if(!this.cacheStorage.getAccount(m,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),yield n.generateAuthenticationResult(this.cryptoObj,t,p,!1,i,u,d,void 0,l)}yield this.cacheStorage.saveCacheRecord(p,i.storeInCache,i.correlationId)}finally{this.persistencePlugin&&this.serializableCache&&h&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),yield this.persistencePlugin.afterCacheAccess(h))}return n.generateAuthenticationResult(this.cryptoObj,t,p,!1,i,u,d,e,l)})}generateCacheRecord(e,t,r,i,o,s,a){let c=t.getPreferredCache();if(!c)throw j(Ti);let l=Vf(o),u,d;e.id_token&&o&&(u=rC(this.homeAccountIdentifier,c,e.id_token,this.clientId,l||""),d=uc(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,c,l,a,void 0,this.logger));let p=null;if(e.access_token){let g=e.scope?mt.fromString(e.scope):new mt(i.scopes||[]),y=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,w=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,A=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,_=r+y,L=_+w,P=A&&A>0?r+A:void 0;p=iC(this.homeAccountIdentifier,c,e.access_token,this.clientId,l||t.tenant||"",g.printScopes(),_,L,this.cryptoObj.base64Decode,P,e.token_type,s,e.key_id,i.claims,i.requestedClaimsHash)}let h=null;if(e.refresh_token){let g;if(e.refresh_token_expires_in){let y=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;g=r+y}h=oC(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,s,g)}let m=null;return e.foci&&(m={clientId:this.clientId,environment:c,familyId:e.foci}),{account:d,idToken:u,accessToken:p,refreshToken:h,appMetadata:m}}static generateAuthenticationResult(e,t,r,i,o,s,a,c,l){return S(this,null,function*(){let u=N.EMPTY_STRING,d=[],p=null,h,m,g=N.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType===We.POP&&!o.popKid){let _=new jn(e),{secret:L,keyId:P}=r.accessToken;if(!P)throw j(Rs);u=yield _.signPopToken(L,P,o)}else u=r.accessToken.secret;d=mt.fromString(r.accessToken.target).asArray(),p=new Date(Number(r.accessToken.expiresOn)*1e3),h=new Date(Number(r.accessToken.extendedExpiresOn)*1e3),r.accessToken.refreshOn&&(m=new Date(Number(r.accessToken.refreshOn)*1e3))}r.appMetadata&&(g=r.appMetadata.familyId===uo?uo:"");let y=s?.oid||s?.sub||"",w=s?.tid||"";c?.spa_accountid&&r.account&&(r.account.nativeAccountId=c?.spa_accountid);let A=r.account?$s(r.account.getAccountInfo(),void 0,s,r.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:y,tenantId:w,scopes:d,account:A,idToken:r?.idToken?.secret||"",idTokenClaims:s||{},accessToken:u,fromCache:i,expiresOn:p,extExpiresOn:h,refreshOn:m,correlationId:o.correlationId,requestId:l||N.EMPTY_STRING,familyId:g,tokenType:r.accessToken?.tokenType||N.EMPTY_STRING,state:a?a.userRequestState:N.EMPTY_STRING,cloudGraphHostName:r.account?.cloudGraphHostName||N.EMPTY_STRING,msGraphHost:r.account?.msGraphHost||N.EMPTY_STRING,code:c?.spa_code,fromNativeBroker:!1}})}};function uc(n,e,t,r,i,o,s,a,c,l,u){u?.verbose("setCachedAccount called");let p=n.getAccountKeys().find(w=>w.startsWith(t)),h=null;p&&(h=n.getAccount(p,u));let m=h||ft.createAccount({homeAccountId:t,idTokenClaims:i,clientInfo:o,environment:s,cloudGraphHostName:c?.cloud_graph_host_name,msGraphHost:c?.msgraph_host,nativeAccountId:l},e,r),g=m.tenantProfiles||[],y=a||m.realm;if(y&&!g.find(w=>w.tenantId===y)){let w=ac(t,m.localAccountId,y,i);g.push(w)}return m.tenantProfiles=g,m}function np(n,e,t){return S(this,null,function*(){return typeof n=="string"?n:n({clientId:e,tokenEndpoint:t})})}var Gs=class extends Eo{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}getAuthCodeUrl(e){return S(this,null,function*(){this.performanceClient?.addQueueMeasurement(C.GetAuthCodeUrl,e.correlationId);let t=yield q(this.createAuthCodeUrlQueryString.bind(this),C.AuthClientCreateQueryString,this.logger,this.performanceClient,e.correlationId)(e);return Pe.appendQueryString(this.authority.authorizationEndpoint,t)})}acquireToken(e,t){return S(this,null,function*(){if(this.performanceClient?.addQueueMeasurement(C.AuthClientAcquireToken,e.correlationId),!e.code)throw j(Is);let r=Bn(),i=yield q(this.executeTokenRequest.bind(this),C.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=i.headers?.[Nt.X_MS_REQUEST_ID],s=new Kr(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(i.body),q(s.handleServerTokenResponse.bind(s),C.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,r,e,t,void 0,void 0,void 0,o)})}handleFragmentResponse(e,t){if(new Kr(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw j(ks);return e}getLogoutUri(e){if(!e)throw Qe(Bs);let t=this.createLogoutUrlQueryString(e);return Pe.appendQueryString(this.authority.endSessionEndpoint,t)}executeTokenRequest(e,t){return S(this,null,function*(){this.performanceClient?.addQueueMeasurement(C.AuthClientExecuteTokenRequest,t.correlationId);let r=this.createTokenQueryParameters(t),i=Pe.appendQueryString(e.tokenEndpoint,r),o=yield q(this.createTokenRequestBody.bind(this),C.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t),s;if(t.clientInfo)try{let l=oc(t.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${l.uid}${It.CLIENT_INFO_SEPARATOR}${l.utid}`,type:zt.HOME_ACCOUNT_ID}}catch(l){this.logger.verbose("Could not parse client info for CCS Header: "+l)}let a=this.createTokenRequestHeaders(s||t.ccsCredential),c={clientId:t.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return q(this.executePostToTokenEndpoint.bind(this),C.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(i,o,a,c,t.correlationId,C.AuthorizationCodeClientExecutePostToTokenEndpoint)})}createTokenRequestBody(e){return S(this,null,function*(){this.performanceClient?.addQueueMeasurement(C.AuthClientCreateTokenRequestBody,e.correlationId);let t=new Gr(e.correlationId,this.performanceClient);if(t.addClientId(e.embeddedClientId||e.tokenBodyParameters?.[Ni]||this.config.authOptions.clientId),this.includeRedirectUri?t.addRedirectUri(e.redirectUri):$r.validateRedirectUri(e.redirectUri),t.addScopes(e.scopes,!0,this.oidcDefaultScopes),t.addAuthorizationCode(e.code),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&!Gu(this.config)&&t.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let i=this.config.clientCredentials.clientAssertion;t.addClientAssertion(yield np(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(i.assertionType)}if(t.addGrantType(uu.AUTHORIZATION_CODE_GRANT),t.addClientInfo(),e.authenticationScheme===We.POP){let i=new jn(this.cryptoUtils,this.performanceClient),o;e.popKid?o=this.cryptoUtils.encodeKid(e.popKid):o=(yield q(i.generateCnf.bind(i),C.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,t.addPopToken(o)}else if(e.authenticationScheme===We.SSH)if(e.sshJwk)t.addSshJwk(e.sshJwk);else throw Qe(ki);(!bt.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities);let r;if(e.clientInfo)try{let i=oc(e.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${i.uid}${It.CLIENT_INFO_SEPARATOR}${i.utid}`,type:zt.HOME_ACCOUNT_ID}}catch(i){this.logger.verbose("Could not parse client info for CCS Header: "+i)}else r=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case zt.HOME_ACCOUNT_ID:try{let i=Mi(r.credential);t.addCcsOid(i)}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case zt.UPN:t.addCcsUpn(r.credential);break}return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[Yf])&&t.addExtraQueryParameters({[Yf]:"1"}),t.createQueryString()})}createAuthCodeUrlQueryString(e){return S(this,null,function*(){let t=e.correlationId||this.config.cryptoInterface.createNewGuid();this.performanceClient?.addQueueMeasurement(C.AuthClientCreateQueryString,t);let r=new Gr(t,this.performanceClient);r.addClientId(e.embeddedClientId||e.extraQueryParameters?.[Ni]||this.config.authOptions.clientId);let i=[...e.scopes||[],...e.extraScopesToConsent||[]];if(r.addScopes(i,!0,this.oidcDefaultScopes),r.addRedirectUri(e.redirectUri),r.addCorrelationId(t),r.addResponseMode(e.responseMode),r.addResponseTypeCode(),r.addLibraryInfo(this.config.libraryInfo),Gu(this.config)||r.addApplicationTelemetry(this.config.telemetry.application),r.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&r.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&r.addPrompt(e.prompt),e.domainHint&&r.addDomainHint(e.domainHint),e.prompt!==pt.SELECT_ACCOUNT)if(e.sid&&e.prompt===pt.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),r.addSid(e.sid);else if(e.account){let o=this.extractAccountSid(e.account),s=this.extractLoginHint(e.account);if(s&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),s=null),s){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),r.addLoginHint(s);try{let a=Mi(e.account.homeAccountId);r.addCcsOid(a)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(o&&e.prompt===pt.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),r.addSid(o);try{let a=Mi(e.account.homeAccountId);r.addCcsOid(a)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),r.addLoginHint(e.account.username);try{let a=Mi(e.account.homeAccountId);r.addCcsOid(a)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&r.addNonce(e.nonce),e.state&&r.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.embeddedClientId&&r.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),this.addExtraQueryParams(e,r),e.nativeBroker&&(r.addNativeBroker(),e.authenticationScheme===We.POP)){let o=new jn(this.cryptoUtils),s;e.popKid?s=this.cryptoUtils.encodeKid(e.popKid):s=(yield q(o.generateCnf.bind(o),C.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,r.addPopToken(s)}return r.createQueryString()})}createLogoutUrlQueryString(e){let t=new Gr(e.correlationId,this.performanceClient);return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),this.addExtraQueryParams(e,t),t.createQueryString()}addExtraQueryParams(e,t){!(e.extraQueryParameters&&e.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(e.extraQueryParameters=e.extraQueryParameters||{},e.extraQueryParameters.instance_aware="true"),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters)}extractAccountSid(e){return e.idTokenClaims?.sid||null}extractLoginHint(e){return e.idTokenClaims?.login_hint||null}};var VL=300,To=class extends Eo{constructor(e,t){super(e,t)}acquireToken(e){return S(this,null,function*(){this.performanceClient?.addQueueMeasurement(C.RefreshTokenClientAcquireToken,e.correlationId);let t=Bn(),r=yield q(this.executeTokenRequest.bind(this),C.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),i=r.headers?.[Nt.X_MS_REQUEST_ID],o=new Kr(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(r.body),q(o.handleServerTokenResponse.bind(o),C.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,i)})}acquireTokenByRefreshToken(e){return S(this,null,function*(){if(!e)throw Qe(Hs);if(this.performanceClient?.addQueueMeasurement(C.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw j(Ii);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return yield q(this.acquireTokenWithCachedRefreshToken.bind(this),C.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(r){let i=r instanceof Jt&&r.errorCode===_o,o=r instanceof Cn&&r.errorCode===Nf.INVALID_GRANT_ERROR&&r.subError===Nf.CLIENT_MISMATCH_ERROR;if(i||o)return q(this.acquireTokenWithCachedRefreshToken.bind(this),C.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw r}return q(this.acquireTokenWithCachedRefreshToken.bind(this),C.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)})}acquireTokenWithCachedRefreshToken(e,t){return S(this,null,function*(){this.performanceClient?.addQueueMeasurement(C.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);let r=yn(this.cacheManager.getRefreshToken.bind(this.cacheManager),C.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!r)throw lc(_o);if(r.expiresOn&&rc(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||VL))throw lc(Ku);let i=re(M({},e),{refreshToken:r.secret,authenticationScheme:e.authenticationScheme||We.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:zt.HOME_ACCOUNT_ID}});try{return yield q(this.acquireToken.bind(this),C.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(i)}catch(o){if(o instanceof Jt&&o.subError===Io){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");let s=Ru(r);this.cacheManager.removeRefreshToken(s)}throw o}})}executeTokenRequest(e,t){return S(this,null,function*(){this.performanceClient?.addQueueMeasurement(C.RefreshTokenClientExecuteTokenRequest,e.correlationId);let r=this.createTokenQueryParameters(e),i=Pe.appendQueryString(t.tokenEndpoint,r),o=yield q(this.createTokenRequestBody.bind(this),C.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),s=this.createTokenRequestHeaders(e.ccsCredential),a={clientId:e.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return q(this.executePostToTokenEndpoint.bind(this),C.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(i,o,s,a,e.correlationId,C.RefreshTokenClientExecutePostToTokenEndpoint)})}createTokenRequestBody(e){return S(this,null,function*(){this.performanceClient?.addQueueMeasurement(C.RefreshTokenClientCreateTokenRequestBody,e.correlationId);let t=e.correlationId,r=new Gr(t,this.performanceClient);if(r.addClientId(e.embeddedClientId||e.tokenBodyParameters?.[Ni]||this.config.authOptions.clientId),e.redirectUri&&r.addRedirectUri(e.redirectUri),r.addScopes(e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),r.addGrantType(uu.REFRESH_TOKEN_GRANT),r.addClientInfo(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&!Gu(this.config)&&r.addServerTelemetry(this.serverTelemetryManager),r.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let i=this.config.clientCredentials.clientAssertion;r.addClientAssertion(yield np(i.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(i.assertionType)}if(e.authenticationScheme===We.POP){let i=new jn(this.cryptoUtils,this.performanceClient),o;e.popKid?o=this.cryptoUtils.encodeKid(e.popKid):o=(yield q(i.generateCnf.bind(i),C.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,r.addPopToken(o)}else if(e.authenticationScheme===We.SSH)if(e.sshJwk)r.addSshJwk(e.sshJwk);else throw Qe(ki);if((!bt.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case zt.HOME_ACCOUNT_ID:try{let i=Mi(e.ccsCredential.credential);r.addCcsOid(i)}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case zt.UPN:r.addCcsUpn(e.ccsCredential.credential);break}return e.embeddedClientId&&r.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&r.addExtraQueryParameters(e.tokenBodyParameters),r.createQueryString()})}};var Wu=class extends Eo{constructor(e,t){super(e,t)}acquireToken(e){return S(this,null,function*(){try{let[t,r]=yield this.acquireCachedToken(re(M({},e),{scopes:e.scopes?.length?e.scopes:[...Hn]}));return r===Er.PROACTIVELY_REFRESHED&&(this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new To(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch(()=>{})),t}catch(t){if(t instanceof Ns&&t.errorCode===Vr)return new To(this.config,this.performanceClient).acquireTokenByRefreshToken(e);throw t}})}acquireCachedToken(e){return S(this,null,function*(){this.performanceClient?.addQueueMeasurement(C.SilentFlowClientAcquireCachedToken,e.correlationId);let t=Er.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!bt.isEmptyObj(e.claims))throw this.setCacheOutcome(Er.FORCE_REFRESH_OR_CLAIMS,e.correlationId),j(Vr);if(!e.account)throw j(Ii);let r=e.account.tenantId||IS(e.authority),i=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,i,r,this.performanceClient,e.correlationId);if(o){if(nC(o.cachedAt)||rc(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(Er.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),j(Vr);o.refreshOn&&rc(o.refreshOn,0)&&(t=Er.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(Er.NO_CACHED_ACCESS_TOKEN,e.correlationId),j(Vr);let s=e.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.readAccountFromCache(e.account),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,i,r,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[yield q(this.generateResultFromCacheRecord.bind(this),C.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(a,e),t]})}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==Er.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}generateResultFromCacheRecord(e,t){return S(this,null,function*(){this.performanceClient?.addQueueMeasurement(C.SilentFlowClientGenerateResultFromCacheRecord,t.correlationId);let r;if(e.idToken&&(r=Si(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||t.maxAge===0){let i=r?.auth_time;if(!i)throw j(_i);Mu(i,t.maxAge)}return Kr.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,r)})}};var eb={sendGetRequestAsync:()=>Promise.reject(j(Ne)),sendPostRequestAsync:()=>Promise.reject(j(Ne))};var AS=",",DS="|";function zL(n){let{skus:e,libraryName:t,libraryVersion:r,extensionName:i,extensionVersion:o}=n,s=new Map([[0,[t,r]],[2,[i,o]]]),a=[];if(e?.length){if(a=e.split(AS),a.length<4)return e}else a=Array.from({length:4},()=>DS);return s.forEach((c,l)=>{c.length===2&&c[0]?.length&&c[1]?.length&&$L({skuArr:a,index:l,skuName:c[0],skuVersion:c[1]})}),a.join(AS)}function $L(n){let{skuArr:e,index:t,skuName:r,skuVersion:i}=n;t>=e.length||(e[t]=[r,i].join(DS))}var qs=class n{constructor(e,t){this.cacheOutcome=Er.NOT_APPLICABLE,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||N.EMPTY_STRING,this.wrapperVer=e.wrapperVer||N.EMPTY_STRING,this.telemetryCacheKey=jt.CACHE_KEY+It.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){let e=`${this.apiId}${jt.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r?.length&&t.push(`broker_error=${r}`);let i=t.join(jt.VALUE_SEPARATOR),o=this.getRegionDiscoveryFields(),s=[e,o].join(jt.VALUE_SEPARATOR);return[jt.SCHEMA_VERSION,s,i].join(jt.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){let e=this.getLastRequests(),t=n.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*t).join(jt.VALUE_SEPARATOR),i=e.errors.slice(0,t).join(jt.VALUE_SEPARATOR),o=e.errors.length,s=t<o?jt.OVERFLOW_TRUE:jt.OVERFLOW_FALSE,a=[o,s].join(jt.VALUE_SEPARATOR);return[jt.SCHEMA_VERSION,e.cacheHits,r,i,a].join(jt.CATEGORY_SEPARATOR)}cacheFailedRequest(e){let t=this.getLastRequests();t.errors.length>=jt.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof je?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(jt.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){let e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){let e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){let e=this.getLastRequests(),t=n.maxErrorsToSend(e),r=e.errors.length;if(t===r)this.cacheManager.removeItem(this.telemetryCacheKey);else{let i={failedRequests:e.failedRequests.slice(t*2),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i)}}static maxErrorsToSend(e){let t,r=0,i=0,o=e.errors.length;for(t=0;t<o;t++){let s=e.failedRequests[2*t]||N.EMPTY_STRING,a=e.failedRequests[2*t+1]||N.EMPTY_STRING,c=e.errors[t]||N.EMPTY_STRING;if(i+=s.toString().length+a.toString().length+c.length+3,i<jt.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){let e=[];return e.push(this.regionUsed||N.EMPTY_STRING),e.push(this.regionSource||N.EMPTY_STRING),e.push(this.regionOutcome||N.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){let t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){let e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return zL(e)}};var rp="missing_kid_error",ip="missing_alg_error";var GL={[rp]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[ip]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."},tb=class n extends je{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,n.prototype)}};function nb(n){return new tb(n,GL[n])}var Yu=class n{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw nb(rp);if(!e.alg)throw nb(ip);let t=new n({typ:e.typ||Ff.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(t)}};var op=class{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}},dc=class{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:KC.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new op}}startPerformanceMeasurement(){return new op}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}};var Ks="pkce_not_created",Ws="crypto_nonexistent",Wr="empty_navigate_uri",hc="hash_empty_error",So="no_state_in_hash",fc="hash_does_not_contain_known_properties",pc="unable_to_parse_state",mc="state_interaction_type_mismatch",gc="interaction_in_progress",vc="popup_window_error",yc="empty_window_error",Mn="user_cancelled",sp="monitor_popup_timeout",Cc="monitor_window_timeout",bc="redirect_in_iframe",wc="block_iframe_reload",Ec="block_nested_popups",ap="iframe_closed_prematurely",Yr="silent_logout_unsupported",_c="no_account_error",cp="silent_prompt_value_error",Ic="no_token_request_cache_error",Tc="unable_to_parse_token_request_cache_error",Ao="no_cached_authority_error",lp="auth_request_not_set_error",up="invalid_cache_type",Qr="non_browser_environment",Zr="database_not_open",Fi="no_network_connectivity",Sc="post_request_failed",Ac="get_request_failed",Ys="failed_to_parse_response",Dc="unable_to_load_token",Do="crypto_key_not_found",kc="auth_code_required",Mc="auth_code_or_nativeAccountId_required",xc="spa_code_and_nativeAccountId_present",ko="database_unavailable",Rc="unable_to_acquire_token_from_native_platform",Nc="native_handshake_timeout",Oc="native_extension_not_installed",er="native_connection_not_established",Pc="uninitialized_public_client_application",Fc="native_prompt_not_supported",Lc="invalid_base64_string",Uc="invalid_pop_token_request",dp="failed_to_build_headers",hp="failed_to_parse_headers";var Li="For more visit: aka.ms/msaljs/browser-errors",Se={[Ks]:"The PKCE code challenge and verifier could not be generated.",[Ws]:"The crypto object or function is not available.",[Wr]:"Navigation URI is empty. Please check stack trace for more info.",[hc]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Li}`,[So]:"Hash does not contain state. Please verify that the request originated from msal.",[fc]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Li}`,[pc]:"Unable to parse state. Please verify that the request originated from msal.",[mc]:"Hash contains state but the interaction type does not match the caller.",[gc]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Li}`,[vc]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[yc]:"window.open returned null or undefined window object.",[Mn]:"User cancelled the flow.",[sp]:`Token acquisition in popup failed due to timeout.  ${Li}`,[Cc]:`Token acquisition in iframe failed due to timeout.  ${Li}`,[bc]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[wc]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Li}`,[Ec]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[ap]:"The iframe being monitored was closed prematurely.",[Yr]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[_c]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[cp]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[Ic]:"No token request found in cache.",[Tc]:"The cached token request could not be parsed.",[Ao]:"No cached authority found.",[lp]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[up]:"Invalid cache type",[Qr]:"Login and token requests are not supported in non-browser environments.",[Zr]:"Database is not open!",[Fi]:"No network connectivity. Check your internet connection.",[Sc]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[Ac]:"Network request failed. Please check the network trace to determine root cause.",[Ys]:"Failed to parse network response. Check network trace.",[Dc]:"Error loading token to cache.",[Do]:"Cryptographic Key or Keypair not found in browser storage.",[kc]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[Mc]:"An authorization code or nativeAccountId must be provided to this flow.",[xc]:"Request cannot contain both spa code and native account id.",[ko]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[Rc]:`Unable to acquire token from native platform.  ${Li}`,[Nc]:"Timed out while attempting to establish connection to browser extension",[Oc]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[er]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Li}`,[Pc]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Li}`,[Fc]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Lc]:"Invalid base64 encoded string.",[Uc]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[dp]:"Failed to build request headers object.",[hp]:"Failed to parse response headers"},mW={pkceNotGenerated:{code:Ks,desc:Se[Ks]},cryptoDoesNotExist:{code:Ws,desc:Se[Ws]},emptyNavigateUriError:{code:Wr,desc:Se[Wr]},hashEmptyError:{code:hc,desc:Se[hc]},hashDoesNotContainStateError:{code:So,desc:Se[So]},hashDoesNotContainKnownPropertiesError:{code:fc,desc:Se[fc]},unableToParseStateError:{code:pc,desc:Se[pc]},stateInteractionTypeMismatchError:{code:mc,desc:Se[mc]},interactionInProgress:{code:gc,desc:Se[gc]},popupWindowError:{code:vc,desc:Se[vc]},emptyWindowError:{code:yc,desc:Se[yc]},userCancelledError:{code:Mn,desc:Se[Mn]},monitorPopupTimeoutError:{code:sp,desc:Se[sp]},monitorIframeTimeoutError:{code:Cc,desc:Se[Cc]},redirectInIframeError:{code:bc,desc:Se[bc]},blockTokenRequestsInHiddenIframeError:{code:wc,desc:Se[wc]},blockAcquireTokenInPopupsError:{code:Ec,desc:Se[Ec]},iframeClosedPrematurelyError:{code:ap,desc:Se[ap]},silentLogoutUnsupportedError:{code:Yr,desc:Se[Yr]},noAccountError:{code:_c,desc:Se[_c]},silentPromptValueError:{code:cp,desc:Se[cp]},noTokenRequestCacheError:{code:Ic,desc:Se[Ic]},unableToParseTokenRequestCacheError:{code:Tc,desc:Se[Tc]},noCachedAuthorityError:{code:Ao,desc:Se[Ao]},authRequestNotSet:{code:lp,desc:Se[lp]},invalidCacheType:{code:up,desc:Se[up]},notInBrowserEnvironment:{code:Qr,desc:Se[Qr]},databaseNotOpen:{code:Zr,desc:Se[Zr]},noNetworkConnectivity:{code:Fi,desc:Se[Fi]},postRequestFailed:{code:Sc,desc:Se[Sc]},getRequestFailed:{code:Ac,desc:Se[Ac]},failedToParseNetworkResponse:{code:Ys,desc:Se[Ys]},unableToLoadTokenError:{code:Dc,desc:Se[Dc]},signingKeyNotFoundInStorage:{code:Do,desc:Se[Do]},authCodeRequired:{code:kc,desc:Se[kc]},authCodeOrNativeAccountRequired:{code:Mc,desc:Se[Mc]},spaCodeAndNativeAccountPresent:{code:xc,desc:Se[xc]},databaseUnavailable:{code:ko,desc:Se[ko]},unableToAcquireTokenFromNativePlatform:{code:Rc,desc:Se[Rc]},nativeHandshakeTimeout:{code:Nc,desc:Se[Nc]},nativeExtensionNotInstalled:{code:Oc,desc:Se[Oc]},nativeConnectionNotEstablished:{code:er,desc:Se[er]},uninitializedPublicClientApplication:{code:Pc,desc:Se[Pc]},nativePromptNotSupported:{code:Fc,desc:Se[Fc]},invalidBase64StringError:{code:Lc,desc:Se[Lc]},invalidPopTokenRequest:{code:Uc,desc:Se[Uc]}},Qs=class n extends je{constructor(e,t){super(e,Se[e],t),Object.setPrototypeOf(this,n.prototype),this.name="BrowserAuthError"}};function ee(n,e){return new Qs(n,e)}var Pt={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},Mo={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},Ui={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},Tt={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},rb={GET:"GET",POST:"POST"},rt={AUTHORITY:"authority",ACQUIRE_TOKEN_ACCOUNT:"acquireToken.account",SESSION_STATE:"session.state",REQUEST_STATE:"request.state",NONCE_IDTOKEN:"nonce.id_token",ORIGIN_URI:"request.origin",RENEW_STATUS:"token.renew.status",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",SCOPES:"scopes",INTERACTION_STATUS_KEY:"interaction.status",CCS_CREDENTIAL:"ccs.credential",CORRELATION_ID:"request.correlationId",NATIVE_REQUEST:"request.native",REDIRECT_CONTEXT:"request.redirect.context"},Hi={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},Qu={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},ot={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962},de=function(n){return n.Redirect="redirect",n.Popup="popup",n.Silent="silent",n.None="none",n}(de||{}),Wt={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},ib={scopes:Hn},ob="jwk",sb={React:"@azure/msal-react",Angular:"@azure/msal-angular"},fp="msal.db",kS=1,MS=`${fp}.keys`,bn={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},xS=[bn.Default,bn.Skip,bn.RefreshTokenAndNetwork],RS="msal.browser.log.level",NS="msal.browser.log.pii";function Zu(n){return encodeURIComponent(Ju(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Zs(n){return OS(n).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ju(n){return OS(new TextEncoder().encode(n))}function OS(n){let e=Array.from(n,t=>String.fromCodePoint(t)).join("");return btoa(e)}var qL="RSASSA-PKCS1-v1_5",LS="SHA-256",KL=2048,WL=new Uint8Array([1,0,1]),PS="0123456789abcdef",FS=new Uint32Array(1),YL="crypto_subtle_undefined",cb={name:qL,hash:LS,modulusLength:KL,publicExponent:WL};function US(n){if(!window)throw ee(Qr);if(!window.crypto)throw ee(Ws);if(!n&&!window.crypto.subtle)throw ee(Ws,YL)}function lb(n,e,t){return S(this,null,function*(){e?.addQueueMeasurement(C.Sha256Digest,t);let i=new TextEncoder().encode(n);return window.crypto.subtle.digest(LS,i)})}function HS(n){return window.crypto.getRandomValues(n)}function ab(){return window.crypto.getRandomValues(FS),FS[0]}function rn(){let n=Date.now(),e=ab()*1024+(ab()&1023),t=new Uint8Array(16),r=Math.trunc(e/2**30),i=e&2**30-1,o=ab();t[0]=n/2**40,t[1]=n/2**32,t[2]=n/2**24,t[3]=n/2**16,t[4]=n/2**8,t[5]=n,t[6]=112|r>>>8,t[7]=r,t[8]=128|i>>>24,t[9]=i>>>16,t[10]=i>>>8,t[11]=i,t[12]=o>>>24,t[13]=o>>>16,t[14]=o>>>8,t[15]=o;let s="";for(let a=0;a<t.length;a++)s+=PS.charAt(t[a]>>>4),s+=PS.charAt(t[a]&15),(a===3||a===5||a===7||a===9)&&(s+="-");return s}function BS(n,e){return S(this,null,function*(){return window.crypto.subtle.generateKey(cb,n,e)})}function pp(n){return S(this,null,function*(){return window.crypto.subtle.exportKey(ob,n)})}function jS(n,e,t){return S(this,null,function*(){return window.crypto.subtle.importKey(ob,n,cb,e,t)})}function VS(n,e){return S(this,null,function*(){return window.crypto.subtle.sign(cb,n,e)})}function mp(n){return S(this,null,function*(){let e=yield lb(n),t=new Uint8Array(e);return Zs(t)})}var xo="storage_not_supported",gp="stubbed_public_client_application_called",Hc="in_mem_redirect_unavailable";var vp={[xo]:"Given storage configuration option was not supported.",[gp]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[Hc]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."},QL={storageNotSupportedError:{code:xo,desc:vp[xo]},stubPcaInstanceCalled:{code:gp,desc:vp[gp]},inMemRedirectUnavailable:{code:Hc,desc:vp[Hc]}},Bc=class n extends je{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,n.prototype)}};function jc(n){return new Bc(n,vp[n])}function ub(n){n.location.hash="",typeof n.history.replaceState=="function"&&n.history.replaceState(null,"",`${n.location.origin}${n.location.pathname}${n.location.search}`)}function db(n){let e=n.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function Xu(){return window.parent!==window}function zS(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${Pt.POPUP_NAME_PREFIX}.`)===0}function wn(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function hb(){let e=new Pe(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function $S(){if(Pe.hashContainsKnownProperties(window.location.hash)&&Xu())throw ee(wc)}function GS(n){if(Xu()&&!n)throw ee(bc)}function qS(){if(zS())throw ee(Ec)}function yp(){if(typeof window>"u")throw ee(Qr)}function Cp(n){if(!n)throw ee(Pc)}function ed(n){yp(),$S(),qS(),Cp(n)}function bp(n,e){if(ed(n),GS(e.system.allowRedirectInIframe),e.cache.cacheLocation===Tt.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw jc(Hc)}function td(n){let e=document.createElement("link");e.rel="preconnect",e.href=new URL(n).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function fb(){return rn()}var nd=class n{navigateInternal(e,t){return n.defaultNavigateWindow(e,t)}navigateExternal(e,t){return n.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise(r=>{setTimeout(()=>{r(!0)},t.timeout)})}};var Ep=class{sendGetRequestAsync(e,t){return S(this,null,function*(){let r,i={},o=0,s=KS(t);try{r=yield fetch(e,{method:rb.GET,headers:s})}catch{throw ee(window.navigator.onLine?Ac:Fi)}i=WS(r.headers);try{return o=r.status,{headers:i,body:yield r.json(),status:o}}catch{throw Xf(ee(Ys),o,i)}})}sendPostRequestAsync(e,t){return S(this,null,function*(){let r=t&&t.body||"",i=KS(t),o,s=0,a={};try{o=yield fetch(e,{method:rb.POST,headers:i,body:r})}catch{throw ee(window.navigator.onLine?Sc:Fi)}a=WS(o.headers);try{return s=o.status,{headers:a,body:yield o.json(),status:s}}catch{throw Xf(ee(Ys),s,a)}})}};function KS(n){try{let e=new Headers;if(!(n&&n.headers))return e;let t=n.headers;return Object.entries(t).forEach(([r,i])=>{e.append(r,i)}),e}catch{throw ee(dp)}}function WS(n){try{let e={};return n.forEach((t,r)=>{e[r]=t}),e}catch{throw ee(hp)}}var ZL=6e4,_p=1e4,JL=3e4,XL=2e3;function YS({auth:n,cache:e,system:t,telemetry:r},i){let o={clientId:N.EMPTY_STRING,authority:`${N.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:N.EMPTY_STRING,authorityMetadata:N.EMPTY_STRING,redirectUri:typeof window<"u"?wn():"",postLogoutRedirectUri:N.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Zt.AAD,OIDCOptions:{serverResponseType:wr.FRAGMENT,defaultScopes:[N.OPENID_SCOPE,N.PROFILE_SCOPE,N.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:yo.None,tenant:N.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1},s={cacheLocation:Tt.SessionStorage,temporaryCacheLocation:Tt.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===Tt.LocalStorage),claimsBasedCachingEnabled:!1},a={loggerCallback:()=>{},logLevel:lt.Info,piiLoggingEnabled:!1},c=re(M({},$f),{loggerOptions:a,networkClient:i?new Ep:eb,navigationClient:new nd,loadFrameTimeout:0,windowHashTimeout:t?.loadFrameTimeout||ZL,iframeHashTimeout:t?.loadFrameTimeout||_p,navigateFrameWait:0,redirectNavigationTimeout:JL,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:t?.nativeBrokerHandshakeTimeout||XL,pollIntervalMilliseconds:Pt.DEFAULT_POLL_INTERVAL_MS}),l=re(M(M({},c),t),{loggerOptions:t?.loggerOptions||a}),u={application:{appName:N.EMPTY_STRING,appVersion:N.EMPTY_STRING},client:new dc};if(n?.protocolMode!==Zt.OIDC&&n?.OIDCOptions&&new kn(l.loggerOptions).warning(JSON.stringify(Qe(Ir.cannotSetOIDCOptions))),n?.protocolMode&&n.protocolMode!==Zt.AAD&&l?.allowNativeBroker)throw Qe(Ir.cannotAllowNativeBroker);return{auth:re(M(M({},o),n),{OIDCOptions:M(M({},o.OIDCOptions),n?.OIDCOptions)}),cache:M(M({},s),e),system:l,telemetry:M(M({},u),r)}}var QS="@azure/msal-browser",Ro="3.28.1";var Ip=class n{static loggerCallback(e,t){switch(e){case lt.Error:console.error(t);return;case lt.Info:console.info(t);return;case lt.Verbose:console.debug(t);return;case lt.Warning:console.warn(t);return;default:console.log(t);return}}constructor(e){this.browserEnvironment=typeof window<"u",this.config=YS(e,this.browserEnvironment);let t;try{t=window[Tt.SessionStorage]}catch{}let r=t?.getItem(RS),i=t?.getItem(NS)?.toLowerCase(),o=i==="true"?!0:i==="false"?!1:void 0,s=M({},this.config.system.loggerOptions),a=r&&Object.keys(lt).includes(r)?lt[r]:void 0;a&&(s.loggerCallback=n.loggerCallback,s.logLevel=a),o!==void 0&&(s.piiLoggingEnabled=o),this.logger=new kn(s,QS,Ro),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}};var Tp=(()=>{class n extends Ip{getModuleName(){return n.MODULE_NAME}getId(){return n.ID}initialize(){return S(this,null,function*(){return this.available=typeof window<"u",this.available})}}return n.MODULE_NAME="",n.ID="StandardOperatingContext",n})();function xn(n){return new TextDecoder().decode(e2(n))}function e2(n){let e=n.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw ee(Lc)}let t=atob(e);return Uint8Array.from(t,r=>r.codePointAt(0)||0)}var Sp=class{constructor(){this.dbName=fp,this.version=kS,this.tableName=MS,this.dbOpen=!1}open(){return S(this,null,function*(){return new Promise((e,t)=>{let r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",i=>{i.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",i=>{let o=i;this.db=o.target.result,this.dbOpen=!0,e()}),r.addEventListener("error",()=>t(ee(ko)))})})}closeConnection(){let e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}validateDbIsOpen(){return S(this,null,function*(){if(!this.dbOpen)return this.open()})}getItem(e){return S(this,null,function*(){return yield this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(ee(Zr));let s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);s.addEventListener("success",a=>{let c=a;this.closeConnection(),t(c.target.result)}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})})}setItem(e,t){return S(this,null,function*(){return yield this.validateDbIsOpen(),new Promise((r,i)=>{if(!this.db)return i(ee(Zr));let a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);a.addEventListener("success",()=>{this.closeConnection(),r()}),a.addEventListener("error",c=>{this.closeConnection(),i(c)})})})}removeItem(e){return S(this,null,function*(){return yield this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(ee(Zr));let s=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);s.addEventListener("success",()=>{this.closeConnection(),t()}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})})}getKeys(){return S(this,null,function*(){return yield this.validateDbIsOpen(),new Promise((e,t)=>{if(!this.db)return t(ee(Zr));let o=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();o.addEventListener("success",s=>{let a=s;this.closeConnection(),e(a.target.result)}),o.addEventListener("error",s=>{this.closeConnection(),t(s)})})})}containsKey(e){return S(this,null,function*(){return yield this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(ee(Zr));let s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);s.addEventListener("success",a=>{let c=a;this.closeConnection(),t(c.target.result===1)}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})})}deleteDatabase(){return S(this,null,function*(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,t)=>{let r=window.indexedDB.deleteDatabase(fp),i=setTimeout(()=>t(!1),200);r.addEventListener("success",()=>(clearTimeout(i),e(!0))),r.addEventListener("blocked",()=>(clearTimeout(i),e(!0))),r.addEventListener("error",()=>(clearTimeout(i),t(!1)))})})}};var Js=class{constructor(){this.cache=new Map}getItem(e){return this.cache.get(e)||null}setItem(e,t){this.cache.set(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){let e=[];return this.cache.forEach((t,r)=>{e.push(r)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}};var Ap=class{constructor(e){this.inMemoryCache=new Js,this.indexedDBCache=new Sp,this.logger=e}handleDatabaseAccessError(e){if(e instanceof Qs&&e.errorCode===ko)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}getItem(e){return S(this,null,function*(){let t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),yield this.indexedDBCache.getItem(e)}catch(r){this.handleDatabaseAccessError(r)}return t})}setItem(e,t){return S(this,null,function*(){this.inMemoryCache.setItem(e,t);try{yield this.indexedDBCache.setItem(e,t)}catch(r){this.handleDatabaseAccessError(r)}})}removeItem(e){return S(this,null,function*(){this.inMemoryCache.removeItem(e);try{yield this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}})}getKeys(){return S(this,null,function*(){let e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),yield this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e})}containsKey(e){return S(this,null,function*(){let t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),yield this.indexedDBCache.containsKey(e)}catch(r){this.handleDatabaseAccessError(r)}return t})}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}clearPersistent(){return S(this,null,function*(){try{this.logger.verbose("Deleting persistent keystore");let e=yield this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}})}};var JS=(()=>{class n{constructor(t,r,i){this.logger=t,US(i??!1),this.cache=new Ap(this.logger),this.performanceClient=r}createNewGuid(){return rn()}base64Encode(t){return Ju(t)}base64Decode(t){return xn(t)}base64UrlEncode(t){return Zu(t)}encodeKid(t){return this.base64UrlEncode(JSON.stringify({kid:t}))}getPublicKeyThumbprint(t){return S(this,null,function*(){let r=this.performanceClient?.startMeasurement(C.CryptoOptsGetPublicKeyThumbprint,t.correlationId),i=yield BS(n.EXTRACTABLE,n.POP_KEY_USAGES),o=yield pp(i.publicKey),s={e:o.e,kty:o.kty,n:o.n},a=ZS(s),c=yield this.hashString(a),l=yield pp(i.privateKey),u=yield jS(l,!1,["sign"]);return yield this.cache.setItem(c,{privateKey:u,publicKey:i.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri}),r&&r.end({success:!0}),c})}removeTokenBindingKey(t){return S(this,null,function*(){return yield this.cache.removeItem(t),!(yield this.cache.containsKey(t))})}clearKeystore(){return S(this,null,function*(){this.cache.clearInMemory();try{return yield this.cache.clearPersistent(),!0}catch(t){return t instanceof Error?this.logger.error(`Clearing keystore failed with error: ${t.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}})}signJwt(t,r,i,o){return S(this,null,function*(){let s=this.performanceClient?.startMeasurement(C.CryptoOptsSignJwt,o),a=yield this.cache.getItem(r);if(!a)throw ee(Do);let c=yield pp(a.publicKey),l=ZS(c),u=Zu(JSON.stringify({kid:r})),d=Yu.getShrHeaderString(re(M({},i?.header),{alg:c.alg,kid:u})),p=Zu(d);t.cnf={jwk:JSON.parse(l)};let h=Zu(JSON.stringify(t)),m=`${p}.${h}`,y=new TextEncoder().encode(m),w=yield VS(a.privateKey,y),A=Zs(new Uint8Array(w)),_=`${m}.${A}`;return s&&s.end({success:!0}),_})}hashString(t){return S(this,null,function*(){return mp(t)})}}return n.POP_KEY_USAGES=["sign","verify"],n.EXTRACTABLE=!0,n})();function ZS(n){return JSON.stringify(n,Object.keys(n).sort())}var Dp=class{constructor(){if(!window.localStorage)throw jc(xo)}getItem(e){return window.localStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}removeItem(e){window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}};var kp=class{constructor(){if(!window.sessionStorage)throw jc(xo)}getItem(e){return window.sessionStorage.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}};function Mp(n,e){if(!e)return null;try{return $t.parseRequestState(n,e).libraryState.meta}catch{throw j(Vt.invalidState)}}var xp=class{getItem(e){let t=`${encodeURIComponent(e)}`,r=document.cookie.split(";");for(let i=0;i<r.length;i++){let o=r[i],[s,...a]=decodeURIComponent(o).trim().split("="),c=a.join("=");if(s===t)return c}return""}setItem(e,t,r,i=!0){let o=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=Lax;`;if(r){let s=t2(r);o+=`expires=${s};`}i&&(o+="Secure;"),document.cookie=o}removeItem(e){this.setItem(e,"",-1)}getKeys(){let e=document.cookie.split(";"),t=[];return e.forEach(r=>{let i=decodeURIComponent(r).trim().split("=");t.push(i[0])}),t}containsKey(e){return this.getKeys().includes(e)}};function t2(n){let e=new Date;return new Date(e.getTime()+n*864e5).toUTCString()}var Vc=class n extends Ri{constructor(e,t,r,i,o,s){super(e,r,i,o),this.cacheConfig=t,this.logger=i,this.internalStorage=new Js,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupBrowserStorage(this.cacheConfig.temporaryCacheLocation),this.cookieStorage=new xp,t.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps()),this.performanceClient=s}setupBrowserStorage(e){try{switch(e){case Tt.LocalStorage:return new Dp;case Tt.SessionStorage:return new kp;case Tt.MemoryStorage:default:break}}catch(t){this.logger.error(t)}return this.cacheConfig.cacheLocation=Tt.MemoryStorage,new Js}migrateCacheEntries(){let e=`${N.CACHE_PREFIX}.${Ot.ID_TOKEN}`,t=`${N.CACHE_PREFIX}.${Ot.CLIENT_INFO}`,r=`${N.CACHE_PREFIX}.${Ot.ERROR}`,i=`${N.CACHE_PREFIX}.${Ot.ERROR_DESC}`,o=this.browserStorage.getItem(e),s=this.browserStorage.getItem(t),a=this.browserStorage.getItem(r),c=this.browserStorage.getItem(i),l=[o,s,a,c];[Ot.ID_TOKEN,Ot.CLIENT_INFO,Ot.ERROR,Ot.ERROR_DESC].forEach((d,p)=>{let h=l[p];h&&this.setTemporaryCache(d,h,!0)})}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");let e=this.getItem(Hi.ACCOUNT_KEYS),t=this.getItem(`${Hi.TOKEN_KEYS}.${this.clientId}`);if(e&&t){this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration.");return}this.browserStorage.getKeys().forEach(i=>{if(this.isCredentialKey(i)){let o=this.getItem(i);if(o){let s=this.validateAndParseJson(o);if(s&&s.hasOwnProperty("credentialType"))switch(s.credentialType){case Ce.ID_TOKEN:if(dt.isIdTokenEntity(s)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${i} found, saving key to token key map`);let a=s,c=this.updateCredentialCacheKey(i,a);this.addTokenKey(c,Ce.ID_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${i}`);break;case Ce.ACCESS_TOKEN:case Ce.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(dt.isAccessTokenEntity(s)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${i} found, saving key to token key map`);let a=s,c=this.updateCredentialCacheKey(i,a);this.addTokenKey(c,Ce.ACCESS_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${i}`);break;case Ce.REFRESH_TOKEN:if(dt.isRefreshTokenEntity(s)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${i} found, saving key to token key map`);let a=s,c=this.updateCredentialCacheKey(i,a);this.addTokenKey(c,Ce.REFRESH_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${i}`);break}}}if(this.isAccountKey(i)){let o=this.getItem(i);if(o){let s=this.validateAndParseJson(o);s&&ft.isAccountEntity(s)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${i} found, saving key to account key map`),this.addAccountKeyToMap(i))}}})}validateAndParseJson(e){try{let t=JSON.parse(e);return t&&typeof t=="object"?t:null}catch{return null}}getItem(e){return this.browserStorage.getItem(e)}setItem(e,t){this.browserStorage.setItem(e,t)}getAccount(e,t){this.logger.trace("BrowserCacheManager.getAccount called");let r=this.getCachedAccountEntity(e);return this.updateOutdatedCachedAccount(e,r,t)}getCachedAccountEntity(e){let t=this.getItem(e);if(!t)return this.removeAccountKeyFromMap(e),null;let r=this.validateAndParseJson(t);return!r||!ft.isAccountEntity(r)?(this.removeAccountKeyFromMap(e),null):Ri.toObject(new ft,r)}setAccount(e){this.logger.trace("BrowserCacheManager.setAccount called");let t=e.generateAccountKey();this.setItem(t,JSON.stringify(e)),this.addAccountKeyToMap(t)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");let e=this.getItem(Hi.ACCOUNT_KEYS);return e?JSON.parse(e):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);let t=this.getAccountKeys();t.indexOf(e)===-1?(t.push(e),this.setItem(Hi.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);let t=this.getAccountKeys(),r=t.indexOf(e);r>-1?(t.splice(r,1),this.setItem(Hi.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(e){return S(this,null,function*(){rl(n.prototype,this,"removeAccount").call(this,e),this.removeAccountKeyFromMap(e)})}removeOutdatedAccount(e){this.removeItem(e),this.removeAccountKeyFromMap(e)}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,Ce.ID_TOKEN)}removeAccessToken(e){return S(this,null,function*(){rl(n.prototype,this,"removeAccessToken").call(this,e),this.removeTokenKey(e,Ce.ACCESS_TOKEN)})}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,Ce.REFRESH_TOKEN)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");let e=this.getItem(`${Hi.TOKEN_KEYS}.${this.clientId}`);if(e){let t=this.validateAndParseJson(e);if(t&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("accessToken")&&t.hasOwnProperty("refreshToken"))return t;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");let r=this.getTokenKeys();switch(t){case Ce.ID_TOKEN:r.idToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),r.idToken.push(e));break;case Ce.ACCESS_TOKEN:r.accessToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),r.accessToken.push(e));break;case Ce.REFRESH_TOKEN:r.refreshToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),r.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),j(Vt.unexpectedCredentialType)}this.setItem(`${Hi.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");let r=this.getTokenKeys();switch(t){case Ce.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);let i=r.idToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),r.idToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case Ce.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);let o=r.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),r.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case Ce.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);let s=r.refreshToken.indexOf(e);s>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),r.refreshToken.splice(s,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),j(Vt.unexpectedCredentialType)}this.setItem(`${Hi.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}getIdTokenCredential(e){let t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,Ce.ID_TOKEN),null;let r=this.validateAndParseJson(t);return!r||!dt.isIdTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,Ce.ID_TOKEN),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),r)}setIdTokenCredential(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");let t=dt.generateCredentialKey(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,Ce.ID_TOKEN)}getAccessTokenCredential(e){let t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,Ce.ACCESS_TOKEN),null;let r=this.validateAndParseJson(t);return!r||!dt.isAccessTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,Ce.ACCESS_TOKEN),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),r)}setAccessTokenCredential(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");let t=dt.generateCredentialKey(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,Ce.ACCESS_TOKEN)}getRefreshTokenCredential(e){let t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,Ce.REFRESH_TOKEN),null;let r=this.validateAndParseJson(t);return!r||!dt.isRefreshTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,Ce.REFRESH_TOKEN),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),r)}setRefreshTokenCredential(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");let t=dt.generateCredentialKey(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,Ce.REFRESH_TOKEN)}getAppMetadata(e){let t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;let r=this.validateAndParseJson(t);return!r||!dt.isAppMetadataEntity(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r)}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");let t=dt.generateAppMetadataKey(e);this.setItem(t,JSON.stringify(e))}getServerTelemetry(e){let t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;let r=this.validateAndParseJson(t);return!r||!dt.isServerTelemetryEntity(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){let t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;let r=this.validateAndParseJson(t);return r&&dt.isAuthorityMetadataEntity(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(t=>this.isAuthorityMetadata(t))}setWrapperMetadata(e,t){this.internalStorage.setItem(Qu.WRAPPER_SKU,e),this.internalStorage.setItem(Qu.WRAPPER_VER,t)}getWrapperMetadata(){let e=this.internalStorage.getItem(Qu.WRAPPER_SKU)||N.EMPTY_STRING,t=this.internalStorage.getItem(Qu.WRAPPER_VER)||N.EMPTY_STRING;return[e,t]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){let e=this.generateCacheKey(Ot.ACTIVE_ACCOUNT_FILTERS),t=this.getItem(e);if(!t){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");let i=this.generateCacheKey(Ot.ACTIVE_ACCOUNT),o=this.getItem(i);if(!o)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;let s=this.getAccountInfoFilteredBy({localAccountId:o});return s?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(s),s):null}let r=this.validateAndParseJson(t);return r?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:r.homeAccountId,localAccountId:r.localAccountId,tenantId:r.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){let t=this.generateCacheKey(Ot.ACTIVE_ACCOUNT_FILTERS),r=this.generateCacheKey(Ot.ACTIVE_ACCOUNT);if(e){this.logger.verbose("setActiveAccount: Active account set");let i={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(i)),this.browserStorage.setItem(r,e.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t),this.browserStorage.removeItem(r)}getThrottlingCache(e){let t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;let r=this.validateAndParseJson(t);return!r||!dt.isThrottlingEntity(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){let r=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){let o=this.cookieStorage.getItem(r);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}let i=this.temporaryCacheStorage.getItem(r);if(!i){if(this.cacheConfig.cacheLocation===Tt.LocalStorage){let o=this.browserStorage.getItem(r);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),o}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),i}setTemporaryCache(e,t,r){let i=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(i,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(i,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}clear(){return S(this,null,function*(){yield this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach(e=>{(e.indexOf(N.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(e)}),this.browserStorage.getKeys().forEach(e=>{(e.indexOf(N.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(e)}),this.internalStorage.clear()})}clearTokensAndKeysWithClaims(e,t){return S(this,null,function*(){e.addQueueMeasurement(C.ClearTokensAndKeysWithClaims,t);let r=this.getTokenKeys(),i=[];r.accessToken.forEach(o=>{let s=this.getAccessTokenCredential(o);s?.requestedClaimsHash&&o.includes(s.requestedClaimsHash.toLowerCase())&&i.push(this.removeAccessToken(o))}),yield Promise.all(i),i.length>0&&this.logger.warning(`${i.length} access tokens with claims in the cache keys have been removed from the cache.`)})}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):bt.startsWith(e,N.CACHE_PREFIX)||bt.startsWith(e,Ot.ADAL_ID_TOKEN)?e:`${N.CACHE_PREFIX}.${this.clientId}.${e}`}generateAuthorityKey(e){let{libraryState:{id:t}}=$t.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${rt.AUTHORITY}.${t}`)}generateNonceKey(e){let{libraryState:{id:t}}=$t.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${rt.NONCE_IDTOKEN}.${t}`)}generateStateKey(e){let{libraryState:{id:t}}=$t.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${rt.REQUEST_STATE}.${t}`)}getCachedAuthority(e){let t=this.generateStateKey(e),r=this.getTemporaryCache(t);if(!r)return null;let i=this.generateAuthorityKey(r);return this.getTemporaryCache(i)}updateCacheEntries(e,t,r,i,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");let s=this.generateStateKey(e);this.setTemporaryCache(s,e,!1);let a=this.generateNonceKey(e);this.setTemporaryCache(a,t,!1);let c=this.generateAuthorityKey(e);if(this.setTemporaryCache(c,r,!1),o){let l={credential:o.homeAccountId,type:zt.HOME_ACCOUNT_ID};this.setTemporaryCache(rt.CCS_CREDENTIAL,JSON.stringify(l),!0)}else if(i){let l={credential:i,type:zt.UPN};this.setTemporaryCache(rt.CCS_CREDENTIAL,JSON.stringify(l),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.temporaryCacheStorage.getKeys().forEach(t=>{t.indexOf(e)!==-1&&this.removeTemporaryItem(t)}),this.removeTemporaryItem(this.generateStateKey(e)),this.removeTemporaryItem(this.generateNonceKey(e)),this.removeTemporaryItem(this.generateAuthorityKey(e))),this.removeTemporaryItem(this.generateCacheKey(rt.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(rt.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(rt.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(rt.CORRELATION_ID)),this.removeTemporaryItem(this.generateCacheKey(rt.CCS_CREDENTIAL)),this.removeTemporaryItem(this.generateCacheKey(rt.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){let t=this.generateStateKey(e),r=this.temporaryCacheStorage.getItem(t);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${r}`),this.resetRequestCache(r||N.EMPTY_STRING)}}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach(t=>{if(t.indexOf(rt.REQUEST_STATE)===-1)return;let r=this.temporaryCacheStorage.getItem(t);if(!r)return;let i=Mp(this.cryptoImpl,r);i&&i.interactionType===e&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${r}`),this.resetRequestCache(r))}),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");let t=Ju(JSON.stringify(e));this.setTemporaryCache(rt.REQUEST_PARAMS,t,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");let t=this.getTemporaryCache(rt.REQUEST_PARAMS,!0);if(!t)throw ee(Ic);let r;try{r=JSON.parse(xn(t))}catch(i){throw this.logger.errorPii(`Attempted to parse: ${t}`),this.logger.error(`Parsing cached token request threw with error: ${i}`),ee(Tc)}if(this.removeTemporaryItem(this.generateCacheKey(rt.REQUEST_PARAMS)),!r.authority){let i=this.generateAuthorityKey(e),o=this.getTemporaryCache(i);if(!o)throw ee(Ao);r.authority=o}return r}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");let e=this.getTemporaryCache(rt.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;let t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){let t=this.getInteractionInProgress();return e?t===this.clientId:!!t}getInteractionInProgress(){let e=`${N.CACHE_PREFIX}.${rt.INTERACTION_STATUS_KEY}`;return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){let t=`${N.CACHE_PREFIX}.${rt.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw ee(gc);this.setTemporaryCache(t,this.clientId,!1)}else!e&&this.getInteractionInProgress()===this.clientId&&this.removeTemporaryItem(t)}getLegacyLoginHint(){let e=this.getTemporaryCache(Ot.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(Ot.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));let t=this.getTemporaryCache(Ot.ID_TOKEN,!0);t&&(this.browserStorage.removeItem(this.generateCacheKey(Ot.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));let r=t||e;if(r){let i=Co.extractTokenClaims(r,xn);if(i.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),i.preferred_username;if(i.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),i.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(e,t){let r=dt.generateCredentialKey(t);if(e!==r){let i=this.getItem(e);if(i)return this.browserStorage.removeItem(e),this.setItem(r,i),this.logger.verbose(`Updated an outdated ${t.credentialType} cache key`),r;this.logger.error(`Attempted to update an outdated ${t.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}hydrateCache(e,t){return S(this,null,function*(){let r=dt.createIdTokenEntity(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId),i;t.claims&&(i=yield this.cryptoImpl.hashString(t.claims));let o=dt.createAccessTokenEntity(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?e.expiresOn.getTime()/1e3:0,e.extExpiresOn?e.extExpiresOn.getTime()/1e3:0,xn,void 0,e.tokenType,void 0,t.sshKid,t.claims,i),s={idToken:r,accessToken:o};return this.saveCacheRecord(s)})}saveCacheRecord(e,t,r){return S(this,null,function*(){try{yield rl(n.prototype,this,"saveCacheRecord").call(this,e,t,r)}catch(i){if(i instanceof xi&&this.performanceClient&&r)try{let o=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:o.refreshToken.length,cacheIdCount:o.idToken.length,cacheAtCount:o.accessToken.length},r)}catch{}throw i}})}},XS=(n,e)=>{let t={cacheLocation:Tt.MemoryStorage,temporaryCacheLocation:Tt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new Vc(n,t,vo,e)};function eA(n,e,t,r){return n.verbose("getAllAccounts called"),t?e.getAllAccounts(r):[]}function tA(n,e,t){if(e.trace("getAccount called"),Object.keys(n).length===0)return e.warning("getAccount: No accountFilter provided"),null;let r=t.getAccountInfoFilteredBy(n);return r?(e.verbose("getAccount: Account matching provided filter found, returning"),r):(e.verbose("getAccount: No matching account found, returning null"),null)}function nA(n,e,t){if(e.trace("getAccountByUsername called"),!n)return e.warning("getAccountByUsername: No username provided"),null;let r=t.getAccountInfoFilteredBy({username:n});return r?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${n}`),r):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function rA(n,e,t){if(e.trace("getAccountByHomeId called"),!n)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;let r=t.getAccountInfoFilteredBy({homeAccountId:n});return r?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${n}`),r):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function iA(n,e,t){if(e.trace("getAccountByLocalId called"),!n)return e.warning("getAccountByLocalId: No localAccountId provided"),null;let r=t.getAccountInfoFilteredBy({localAccountId:n});return r?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${n}`),r):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function oA(n,e){e.setActiveAccount(n)}function sA(n){return n.getActiveAccount()}var he={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache"};var Rp=class{constructor(e){this.eventCallbacks=new Map,this.logger=e||new kn({})}addEventCallback(e,t,r){if(typeof window<"u"){let i=r||fb();return this.eventCallbacks.has(i)?(this.logger.error(`Event callback with id: ${i} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(i,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${i}`),i)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,r,i){if(typeof window<"u"){let o={eventType:e,interactionType:t||null,payload:r||null,error:i||null,timestamp:Date.now()};this.eventCallbacks.forEach(([s,a],c)=>{(a.length===0||a.includes(e))&&(this.logger.verbose(`Emitting event to callback ${c}: ${e}`),s.apply(null,[o]))})}}};var zc=class{constructor(e,t,r,i,o,s,a,c,l){this.config=e,this.browserStorage=t,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=s,this.nativeMessageHandler=c,this.correlationId=l||rn(),this.logger=i.clone(Pt.MSAL_SKU,Ro,this.correlationId),this.performanceClient=a}clearCacheOnLogout(e){return S(this,null,function*(){if(e){ft.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{yield this.browserStorage.removeAccount(ft.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),yield this.browserStorage.clear(),yield this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}})}getRedirectUri(e){this.logger.verbose("getRedirectUri called");let t=e||this.config.auth.redirectUri;return Pe.getAbsoluteUrl(t,wn())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");let r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new qs(r,this.browserStorage)}getDiscoveredAuthority(e){return S(this,null,function*(){let{account:t}=e,r=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(C.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);let i={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,s=r?.length?r==="true":this.config.auth.instanceAware,a=t&&s?this.config.auth.authority.replace(Pe.getDomainFromUrl(o),t.environment):o,c=Xn.generateAuthority(a,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),l=yield q(Jf.createDiscoveredInstance,C.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(c,this.config.system.networkClient,this.browserStorage,i,this.logger,this.correlationId,this.performanceClient);if(t&&!l.isAlias(t.environment))throw Qe(Ir.authorityMismatch);return l})}};var n2=32;function aA(n,e,t){return S(this,null,function*(){n.addQueueMeasurement(C.GeneratePkceCodes,t);let r=yn(r2,C.GenerateCodeVerifier,e,n,t)(n,e,t),i=yield q(i2,C.GenerateCodeChallengeFromVerifier,e,n,t)(r,n,e,t);return{verifier:r,challenge:i}})}function r2(n,e,t){try{let r=new Uint8Array(n2);return yn(HS,C.GetRandomValues,e,n,t)(r),Zs(r)}catch{throw ee(Ks)}}function i2(n,e,t,r){return S(this,null,function*(){e.addQueueMeasurement(C.GenerateCodeChallengeFromVerifier,r);try{let i=yield q(lb,C.Sha256Digest,t,e,r)(n,e,r);return Zs(new Uint8Array(i))}catch{throw ee(Ks)}})}function rd(n,e,t,r){return S(this,null,function*(){t.addQueueMeasurement(C.InitializeBaseRequest,n.correlationId);let i=n.authority||e.auth.authority,o=[...n&&n.scopes||[]],s=re(M({},n),{correlationId:n.correlationId,authority:i,scopes:o});if(!s.authenticationScheme)s.authenticationScheme=We.BEARER,r.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(s.authenticationScheme===We.SSH){if(!n.sshJwk)throw Qe(Ir.missingSshJwk);if(!n.sshKid)throw Qe(Ir.missingSshKid)}r.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&n.claims&&!bt.isEmptyObj(n.claims)&&(s.requestedClaimsHash=yield mp(n.claims)),s})}function cA(n,e,t,r,i){return S(this,null,function*(){r.addQueueMeasurement(C.InitializeSilentRequest,n.correlationId);let o=yield q(rd,C.InitializeBaseRequest,i,r,n.correlationId)(n,t,r,i);return re(M(M({},n),o),{account:e,forceRefresh:n.forceRefresh||!1})})}var Rn=class extends zc{initializeAuthorizationCodeRequest(e){return S(this,null,function*(){this.performanceClient.addQueueMeasurement(C.StandardInteractionClientInitializeAuthorizationCodeRequest,this.correlationId);let t=yield q(aA,C.GeneratePkceCodes,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),r=re(M({},e),{redirectUri:e.redirectUri,code:N.EMPTY_STRING,codeVerifier:t.verifier});return e.codeChallenge=t.challenge,e.codeChallengeMethod=N.S256_CODE_CHALLENGE_METHOD,r})}initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);let t=M({correlationId:this.correlationId||rn()},e);if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){let r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=Pe.getAbsoluteUrl(e.postLogoutRedirectUri,wn())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=Pe.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,wn())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=Pe.getAbsoluteUrl(wn(),wn())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId),t}getLogoutHintFromIdTokenClaims(e){let t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}createAuthCodeClient(e){return S(this,null,function*(){this.performanceClient.addQueueMeasurement(C.StandardInteractionClientCreateAuthCodeClient,this.correlationId);let t=yield q(this.getClientConfiguration.bind(this),C.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new Gs(t,this.performanceClient)})}getClientConfiguration(e){return S(this,null,function*(){let{serverTelemetryManager:t,requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:o,account:s}=e;this.performanceClient.addQueueMeasurement(C.StandardInteractionClientGetClientConfiguration,this.correlationId);let a=yield q(this.getDiscoveredAuthority.bind(this),C.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:o,account:s}),c=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:c.loggerCallback,piiLoggingEnabled:c.piiLoggingEnabled,logLevel:c.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:Pt.MSAL_SKU,version:Ro,cpu:N.EMPTY_STRING,os:N.EMPTY_STRING},telemetry:this.config.telemetry}})}initializeAuthorizationRequest(e,t){return S(this,null,function*(){this.performanceClient.addQueueMeasurement(C.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);let r=this.getRedirectUri(e.redirectUri),i={interactionType:t},o=$t.setRequestState(this.browserCrypto,e&&e.state||N.EMPTY_STRING,i),s=yield q(rd,C.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)(re(M({},e),{correlationId:this.correlationId}),this.config,this.performanceClient,this.logger),a=re(M({},s),{redirectUri:r,state:o,nonce:e.nonce||rn(),responseMode:this.config.auth.OIDCOptions.serverResponseType});if(e.loginHint||e.sid)return a;let c=e.account||this.browserStorage.getActiveAccount();if(c&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${c.homeAccountId}`,this.correlationId),a.account=c),!a.loginHint&&!c){let l=this.browserStorage.getLegacyLoginHint();l&&(a.loginHint=l)}return a})}};var lA="ContentError",Np="user_switch";var uA="USER_INTERACTION_REQUIRED",dA="USER_CANCEL",hA="NO_NETWORK",fA="PERSISTENT_ERROR",pA="DISABLED",mA="ACCOUNT_UNAVAILABLE";var o2=-2147186943,s2={[Np]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."},tr=class n extends je{constructor(e,t,r){super(e,t),Object.setPrototypeOf(this,n.prototype),this.name="NativeAuthError",this.ext=r}};function No(n){if(n.ext&&n.ext.status&&(n.ext.status===fA||n.ext.status===pA)||n.ext&&n.ext.error&&n.ext.error===o2)return!0;switch(n.errorCode){case lA:return!0;default:return!1}}function id(n,e,t){if(t&&t.status)switch(t.status){case mA:return lc(Pi.nativeAccountUnavailable);case uA:return new Jt(n,e);case dA:return ee(Mn);case hA:return ee(Fi)}return new tr(n,s2[n]||e,t)}var $c=class extends Rn{acquireToken(e){return S(this,null,function*(){this.performanceClient.addQueueMeasurement(C.SilentCacheClientAcquireToken,e.correlationId);let t=this.initializeServerTelemetryManager(ot.acquireTokenSilent_silentFlow),r=yield q(this.getClientConfiguration.bind(this),C.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),i=new Wu(r,this.performanceClient);this.logger.verbose("Silent auth client created");try{let s=(yield q(i.acquireCachedToken.bind(i),C.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),s}catch(o){throw o instanceof Qs&&o.errorCode===Do&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}})}logout(e){this.logger.verbose("logoutRedirect called");let t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t?.account)}};var nr=class extends zc{constructor(e,t,r,i,o,s,a,c,l,u,d,p){super(e,t,r,i,o,s,c,l,p),this.apiId=a,this.accountId=u,this.nativeMessageHandler=l,this.nativeStorageManager=d,this.silentCacheClient=new $c(e,this.nativeStorageManager,r,i,o,s,c,l,p),this.serverTelemetryManager=this.initializeServerTelemetryManager(this.apiId);let h=this.nativeMessageHandler.getExtensionId()===Mo.PREFERRED_EXTENSION_ID?"chrome":this.nativeMessageHandler.getExtensionId()?.length?"unknown":void 0;this.skus=qs.makeExtraSkuString({libraryName:Pt.MSAL_SKU,libraryVersion:Ro,extensionName:h,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters=re(M({},e.extraParameters),{[Oi.X_CLIENT_EXTRA_SKU]:this.skus})}acquireToken(e){return S(this,null,function*(){this.performanceClient.addQueueMeasurement(C.NativeInteractionClientAcquireToken,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");let t=this.performanceClient.startMeasurement(C.NativeInteractionClientAcquireToken,e.correlationId),r=xu.nowSeconds();try{let i=yield this.initializeNativeRequest(e);try{let l=yield this.acquireTokensFromCache(this.accountId,i);return t.end({success:!0,isNativeBroker:!1,fromCache:!0}),l}catch{this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}let o=kr(i,[]),s={method:Ui.GetToken,request:o},a=yield this.nativeMessageHandler.sendMessage(s),c=this.validateNativeResponse(a);return yield this.handleNativeResponse(c,i,r).then(l=>(t.end({success:!0,isNativeBroker:!0,requestId:l.requestId}),this.serverTelemetryManager.clearNativeBrokerErrorCode(),l)).catch(l=>{throw t.end({success:!1,errorCode:l.errorCode,subErrorCode:l.subError,isNativeBroker:!0}),l})}catch(i){throw i instanceof tr&&this.serverTelemetryManager.setNativeBrokerErrorCode(i.errorCode),i}})}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:mt.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}acquireTokensFromCache(e,t){return S(this,null,function*(){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),j(Vt.noAccountFound);let r=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!r)throw j(Vt.noAccountFound);try{let i=this.createSilentCacheRequest(t,r),o=yield this.silentCacheClient.acquireToken(i),s=re(M({},r),{idTokenClaims:o?.idTokenClaims,idToken:o?.idToken});return re(M({},o),{account:s})}catch(i){throw i}})}acquireTokenRedirect(e,t){return S(this,null,function*(){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");let r=kr(e,[]);delete r.onRedirectNavigate;let i=yield this.initializeNativeRequest(r),o={method:Ui.GetToken,request:i};try{let c=yield this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(c)}catch(c){if(c instanceof tr&&(this.serverTelemetryManager.setNativeBrokerErrorCode(c.errorCode),No(c)))throw c}this.browserStorage.setTemporaryCache(rt.NATIVE_REQUEST,JSON.stringify(i),!0);let s={apiId:ot.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),yield this.navigationClient.navigateExternal(a,s)})}handleRedirectPromise(e,t){return S(this,null,function*(){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;let r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&e?.addFields({errorCode:"no_cached_request"},t),null;let c=r,{prompt:i}=c,o=kr(c,["prompt"]);i&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(rt.NATIVE_REQUEST));let s={method:Ui.GetToken,request:o},a=xu.nowSeconds();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");let l=yield this.nativeMessageHandler.sendMessage(s);this.validateNativeResponse(l);let u=this.handleNativeResponse(l,o,a);this.browserStorage.setInteractionInProgress(!1);let d=yield u;return this.serverTelemetryManager.clearNativeBrokerErrorCode(),d}catch(l){throw this.browserStorage.setInteractionInProgress(!1),l}})}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}handleNativeResponse(e,t,r){return S(this,null,function*(){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");let i=Co.extractTokenClaims(e.id_token,xn),o=this.createHomeAccountIdentifier(e,i),s=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId})?.homeAccountId;if(o!==s&&e.account.id!==t.accountId)throw id(Np);let a=yield this.getDiscoveredAuthority({requestAuthority:t.authority}),c=uc(this.browserStorage,a,o,xn,i,e.client_info,void 0,i.tid,void 0,e.account.id,this.logger),l=yield this.generateAuthenticationResult(e,t,i,c,a.canonicalAuthority,r);return this.cacheAccount(c),this.cacheNativeTokens(e,t,o,i,e.access_token,l.tenantId,r),l})}createHomeAccountIdentifier(e,t){return ft.generateHomeAccountId(e.client_info||N.EMPTY_STRING,vn.Default,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?mt.fromString(e.scope):mt.fromString(t.scope)}generatePopAccessToken(e,t){return S(this,null,function*(){if(t.tokenType===We.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;let r=new jn(this.browserCrypto),i={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw j(Vt.keyIdMissing);return r.signPopToken(e.access_token,t.keyId,i)}else return e.access_token})}generateAuthenticationResult(e,t,r,i,o,s){return S(this,null,function*(){let a=this.addTelemetryFromNativeResponse(e),c=e.scope?mt.fromString(e.scope):mt.fromString(t.scope),l=e.account.properties||{},u=l.UID||r.oid||r.sub||N.EMPTY_STRING,d=l.TenantId||r.tid||N.EMPTY_STRING,p=$s(i.getAccountInfo(),void 0,r,e.id_token);p.nativeAccountId!==e.account.id&&(p.nativeAccountId=e.account.id);let h=yield this.generatePopAccessToken(e,t),m=t.tokenType===We.POP?We.POP:We.BEARER;return{authority:o,uniqueId:u,tenantId:d,scopes:c.asArray(),account:p,idToken:e.id_token,idTokenClaims:r,accessToken:h,fromCache:a?this.isResponseFromCache(a):!1,expiresOn:new Date(Number(s+e.expires_in)*1e3),tokenType:m,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}})}cacheAccount(e){this.browserStorage.setAccount(e),this.browserStorage.removeAccountContext(e).catch(t=>{this.logger.error(`Error occurred while removing account context from browser storage. ${t}`)})}cacheNativeTokens(e,t,r,i,o,s,a){let c=dt.createIdTokenEntity(r,t.authority,e.id_token||"",t.clientId,i.tid||""),l=t.tokenType===We.POP?N.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,u=a+l,d=this.generateScopes(e,t),p=dt.createAccessTokenEntity(r,t.authority,o,t.clientId,i.tid||s,d.printScopes(),u,0,xn,void 0,t.tokenType,void 0,t.keyId),h={idToken:c,accessToken:p};this.nativeStorageManager.saveCacheRecord(h,t.storeInCache)}addTelemetryFromNativeResponse(e){let t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw mu(ps.unexpectedError,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}initializeNativeRequest(e){return S(this,null,function*(){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");let t=e.authority||this.config.auth.authority;e.account&&(yield this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}));let r=new Pe(t);r.validateAsUri();let l=e,{scopes:i}=l,o=kr(l,["scopes"]),s=new mt(i||[]);s.appendScopes(Hn);let a=()=>{switch(this.apiId){case ot.ssoSilent:case ot.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),pt.NONE}if(!e.prompt){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e.prompt){case pt.NONE:case pt.CONSENT:case pt.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),ee(Fc)}},c=re(M({},o),{accountId:this.accountId,clientId:this.config.auth.clientId,authority:r.urlString,scope:s.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:a(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:M(M({},e.extraQueryParameters),e.tokenQueryParameters),extendedExpiryToken:!1,keyId:e.popKid});if(c.signPopToken&&e.popKid)throw ee(Uc);if(this.handleExtraBrokerParams(c),c.extraParameters=c.extraParameters||{},c.extraParameters.telemetry=Mo.MATS_TELEMETRY,e.authenticationScheme===We.POP){let u={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},d=new jn(this.browserCrypto),p;if(c.keyId)p=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:c.keyId})),c.signPopToken=!1;else{let h=yield q(d.generateCnf.bind(d),C.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(u,this.logger);p=h.reqCnfString,c.keyId=h.kid,c.signPopToken=!0}c.reqCnf=p}return this.addRequestSKUs(c),c})}handleExtraBrokerParams(e){let t=e.extraParameters&&e.extraParameters.hasOwnProperty(Oi.BROKER_CLIENT_ID)&&e.extraParameters.hasOwnProperty(Oi.BROKER_REDIRECT_URI)&&e.extraParameters.hasOwnProperty(Oi.CLIENT_ID);if(!e.embeddedClientId&&!t)return;let r="",i=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,r=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[Oi.BROKER_REDIRECT_URI],r=e.extraParameters[Oi.CLIENT_ID]),e.extraParameters={child_client_id:r,child_redirect_uri:i},this.performanceClient?.addFields({embeddedClientId:r,embeddedRedirectUri:i},e.correlationId)}};var Vn=class n{constructor(e,t,r,i){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=i,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(C.NativeMessageHandlerHandshake)}sendMessage(e){return S(this,null,function*(){this.logger.trace("NativeMessageHandler - sendMessage called.");let t={channel:Mo.CHANNEL_ID,extensionId:this.extensionId,responseId:rn(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise((r,i)=>{this.resolvers.set(t.responseId,{resolve:r,reject:i})})})}static createProvider(e,t,r){return S(this,null,function*(){e.trace("NativeMessageHandler - createProvider called.");try{let i=new n(e,t,r,Mo.PREFERRED_EXTENSION_ID);return yield i.sendHandshakeRequest(),i}catch{let o=new n(e,t,r);return yield o.sendHandshakeRequest(),o}})}sendHandshakeRequest(){return S(this,null,function*(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);let e={channel:Mo.CHANNEL_ID,extensionId:this.extensionId,responseId:rn(),body:{method:Ui.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=t=>{this.onChannelMessage(t)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((t,r)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(ee(Nc)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})})}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;let t=e.data;if(!(!t.channel||t.channel!==Mo.CHANNEL_ID)&&!(t.extensionId&&t.extensionId!==this.extensionId)&&t.body.method===Ui.HandshakeRequest){let r=this.handshakeResolvers.get(t.responseId);if(!r){this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);return}this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(ee(Oc))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");let t=e.data,r=this.resolvers.get(t.responseId),i=this.handshakeResolvers.get(t.responseId);try{let o=t.body.method;if(o===Ui.Response){if(!r)return;let s=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(s)}`),s.status!=="Success")r.reject(id(s.code,s.description,s.ext));else if(s.result)s.result.code&&s.result.description?r.reject(id(s.result.code,s.result.description,s.result.ext)):r.resolve(s.result);else throw mu(ps.unexpectedError,"Event does not contain result.");this.resolvers.delete(t.responseId)}else if(o===Ui.HandshakeResponse){if(!i){this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),i.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),r?r.reject(o):i&&i.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(e,t,r,i){if(t.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return t.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!r)return t.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(i)switch(i){case We.BEARER:case We.POP:return t.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}};var Oo=class{constructor(e,t,r,i,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.logger=i,this.performanceClient=o}handleCodeResponse(e,t){return S(this,null,function*(){this.performanceClient.addQueueMeasurement(C.HandleCodeResponse,t.correlationId);let r;try{r=this.authModule.handleFragmentResponse(e,t.state)}catch(i){throw i instanceof Cn&&i.subError===Mn?ee(Mn):i}return q(this.handleCodeResponseFromServer.bind(this),C.HandleCodeResponseFromServer,this.logger,this.performanceClient,t.correlationId)(r,t)})}handleCodeResponseFromServer(e,t,r=!0){return S(this,null,function*(){if(this.performanceClient.addQueueMeasurement(C.HandleCodeResponseFromServer,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&(yield q(this.authModule.updateAuthority.bind(this.authModule),C.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId)),r&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{let o=this.createCcsCredentials(t);o&&(this.authCodeRequest.ccsCredential=o)}return yield q(this.authModule.acquireToken.bind(this.authModule),C.AuthClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)})}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:zt.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:zt.UPN}:null}};function Op(n,e,t){let r=wo.getDeserializedResponse(n);if(!r)throw wo.stripLeadingHashOrQuery(n)?(t.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),t.errorPii(`The ${e} detected is: ${n}`),ee(fc)):(t.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),ee(hc));return r}function gA(n,e,t){if(!n.state)throw ee(So);let r=Mp(e,n.state);if(!r)throw ee(pc);if(r.interactionType!==t)throw ee(mc)}var Pp=class extends Rn{constructor(e,t,r,i,o,s,a,c,l,u){super(e,t,r,i,o,s,a,l,u),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=c}acquireToken(e){try{let r={popupName:this.generatePopupName(e.scopes||Hn,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,r)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),r.popup=this.openSizedPopup("about:blank",r),this.acquireTokenPopupAsync(e,r))}catch(t){return Promise.reject(t)}}logout(e){try{this.logger.verbose("logoutPopup called");let t=this.initializeLogoutRequest(e),r={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:e?.popupWindowAttributes||{},popupWindowParent:e?.popupWindowParent??window},i=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,r,i,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(t,r,i,o))}catch(t){return Promise.reject(t)}}acquireTokenPopupAsync(e,t){return S(this,null,function*(){this.logger.verbose("acquireTokenPopupAsync called");let r=this.initializeServerTelemetryManager(ot.acquireTokenPopup),i=yield q(this.initializeAuthorizationRequest.bind(this),C.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,de.Popup);td(i.authority);try{let o=yield q(this.initializeAuthorizationCodeRequest.bind(this),C.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(i),s=yield q(this.createAuthCodeClient.bind(this),C.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account}),a=Vn.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme),c;a&&(c=this.performanceClient.startMeasurement(C.FetchAccountIdWithNativeBroker,e.correlationId));let l=yield s.getAuthCodeUrl(re(M({},i),{nativeBroker:a})),u=new Oo(s,this.browserStorage,o,this.logger,this.performanceClient),d=this.initiateAuthRequest(l,t);this.eventHandler.emitEvent(he.POPUP_OPENED,de.Popup,{popupWindow:d},null);let p=yield this.monitorPopupForHash(d,t.popupWindowParent),h=yn(Op,C.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(p,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(qr.removeThrottle(this.browserStorage,this.config.auth.clientId,o),h.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),c&&c.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw ee(er);let g=new nr(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ot.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,h.accountId,this.nativeStorage,i.correlationId),{userRequestState:y}=$t.parseRequestState(this.browserCrypto,i.state);return yield g.acquireToken(re(M({},i),{state:y,prompt:void 0}))}return yield u.handleCodeResponse(h,i)}catch(o){throw t.popup?.close(),o instanceof je&&(o.setCorrelationId(this.correlationId),r.cacheFailedRequest(o)),o}})}logoutPopupAsync(e,t,r,i){return S(this,null,function*(){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(he.LOGOUT_START,de.Popup,e);let o=this.initializeServerTelemetryManager(ot.logoutPopup);try{yield this.clearCacheOnLogout(e.account);let s=yield q(this.createAuthCodeClient.bind(this),C.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:r,account:e.account||void 0});try{s.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&s.authority.protocolMode===Zt.OIDC){if(this.browserStorage.removeAccount(e.account?.homeAccountId),this.eventHandler.emitEvent(he.LOGOUT_SUCCESS,de.Popup,e),i){let l={apiId:ot.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},u=Pe.getAbsoluteUrl(i,wn());yield this.navigationClient.navigateInternal(u,l)}t.popup?.close();return}}let a=s.getLogoutUri(e);this.eventHandler.emitEvent(he.LOGOUT_SUCCESS,de.Popup,e);let c=this.openPopup(a,t);if(this.eventHandler.emitEvent(he.POPUP_OPENED,de.Popup,{popupWindow:c},null),yield this.monitorPopupForHash(c,t.popupWindowParent).catch(()=>{}),i){let l={apiId:ot.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},u=Pe.getAbsoluteUrl(i,wn());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${u}`),yield this.navigationClient.navigateInternal(u,l)}else this.logger.verbose("No main window navigation requested")}catch(s){throw t.popup?.close(),s instanceof je&&(s.setCorrelationId(this.correlationId),o.cacheFailedRequest(s)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(he.LOGOUT_FAILURE,de.Popup,null,s),this.eventHandler.emitEvent(he.LOGOUT_END,de.Popup),s}this.eventHandler.emitEvent(he.LOGOUT_END,de.Popup)})}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),ee(Wr)}monitorPopupForHash(e,t){return new Promise((r,i)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");let o=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(o),i(ee(Mn));return}let s="";try{s=e.location.href}catch{}if(!s||s==="about:blank")return;clearInterval(o);let a="",c=this.config.auth.OIDCOptions.serverResponseType;e&&(c===wr.QUERY?a=e.location.search:a=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),r(a)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,t)})}openPopup(e,t){try{let r;if(t.popup?(r=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),r.location.assign(e)):typeof t.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),r=this.openSizedPopup(e,t)),!r)throw ee(yc);return r.focus&&r.focus(),this.currentWindow=r,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),this.browserStorage.setInteractionInProgress(!1),ee(vc)}}openSizedPopup(e,{popupName:t,popupWindowAttributes:r,popupWindowParent:i}){let o=i.screenLeft?i.screenLeft:i.screenX,s=i.screenTop?i.screenTop:i.screenY,a=i.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=i.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,l=r.popupSize?.width,u=r.popupSize?.height,d=r.popupPosition?.top,p=r.popupPosition?.left;return(!l||l<0||l>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),l=Pt.POPUP_WIDTH),(!u||u<0||u>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),u=Pt.POPUP_HEIGHT),(!d||d<0||d>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),d=Math.max(0,c/2-Pt.POPUP_HEIGHT/2+s)),(!p||p<0||p>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),p=Math.max(0,a/2-Pt.POPUP_WIDTH/2+o)),i.open(e,t,`width=${l}, height=${u}, top=${d}, left=${p}, scrollbars=yes`)}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(de.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,t){return`${Pt.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){let t=e.account&&e.account.homeAccountId;return`${Pt.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t}.${this.correlationId}`}};var od=class{constructor(e,t,r,i,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.logger=i,this.performanceClient=o}initiateAuthRequest(e,t){return S(this,null,function*(){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(rt.ORIGIN_URI,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(rt.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);let r={apiId:ot.acquireTokenRedirect,timeout:t.redirectTimeout,noHistory:!1};if(typeof t.onRedirectNavigate=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),t.onRedirectNavigate(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),yield t.navigationClient.navigateExternal(e,r);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),yield t.navigationClient.navigateExternal(e,r);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),ee(Wr)})}handleCodeResponse(e,t){return S(this,null,function*(){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);let r=this.browserStorage.generateStateKey(t),i=this.browserStorage.getTemporaryCache(r);if(!i)throw j(Vt.stateNotFound,"Cached State");let o;try{o=this.authModule.handleFragmentResponse(e,i)}catch(l){throw l instanceof Cn&&l.subError===Mn?ee(Mn):l}let s=this.browserStorage.generateNonceKey(i),a=this.browserStorage.getTemporaryCache(s);if(this.authCodeRequest.code=o.code,o.cloud_instance_host_name&&(yield q(this.authModule.updateAuthority.bind(this.authModule),C.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(o.cloud_instance_host_name,this.authCodeRequest.correlationId)),o.nonce=a||void 0,o.state=i,o.client_info)this.authCodeRequest.clientInfo=o.client_info;else{let l=this.checkCcsCredentials();l&&(this.authCodeRequest.ccsCredential=l)}let c=yield this.authModule.acquireToken(this.authCodeRequest,o);return this.browserStorage.cleanRequestByState(t),c})}checkCcsCredentials(){let e=this.browserStorage.getTemporaryCache(rt.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${e}`)}return null}};function a2(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;let n=window.performance.getEntriesByType("navigation");return(n.length?n[0]:void 0)?.type}var Fp=class extends Rn{constructor(e,t,r,i,o,s,a,c,l,u){super(e,t,r,i,o,s,a,l,u),this.nativeStorage=c}acquireToken(e){return S(this,null,function*(){let t=yield q(this.initializeAuthorizationRequest.bind(this),C.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,de.Redirect);this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null);let r=this.initializeServerTelemetryManager(ot.acquireTokenRedirect),i=o=>{o.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(t.state),this.eventHandler.emitEvent(he.RESTORE_FROM_BFCACHE,de.Redirect))};try{let o=yield q(this.initializeAuthorizationCodeRequest.bind(this),C.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(t),s=yield q(this.createAuthCodeClient.bind(this),C.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),a=new od(s,this.browserStorage,o,this.logger,this.performanceClient),c=yield s.getAuthCodeUrl(re(M({},t),{nativeBroker:Vn.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)})),l=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${l}`),window.addEventListener("pageshow",i),yield a.initiateAuthRequest(c,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:l,onRedirectNavigate:e.onRedirectNavigate||this.config.auth.onRedirectNavigate})}catch(o){throw o instanceof je&&(o.setCorrelationId(this.correlationId),r.cacheFailedRequest(o)),window.removeEventListener("pageshow",i),this.browserStorage.cleanRequestByState(t.state),o}})}handleRedirectPromise(e="",t){return S(this,null,function*(){let r=this.initializeServerTelemetryManager(ot.handleRedirectPromise);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;let[i,o]=this.getRedirectResponse(e||"");if(!i)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(de.Redirect),a2()!=="back_forward"?t.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;let s=this.browserStorage.getTemporaryCache(rt.ORIGIN_URI,!0)||N.EMPTY_STRING,a=Pe.removeHashFromUrl(s),c=Pe.removeHashFromUrl(window.location.href);if(a===c&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),s.indexOf("#")>-1&&db(s),yield this.handleResponse(i,r);if(this.config.auth.navigateToLoginRequestUrl){if(!Xu()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(rt.URL_HASH,o,!0);let l={apiId:ot.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},u=!0;if(!s||s==="null"){let d=hb();this.browserStorage.setTemporaryCache(rt.ORIGIN_URI,d,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),u=yield this.navigationClient.navigateInternal(d,l)}else this.logger.verbose(`Navigating to loginRequestUrl: ${s}`),u=yield this.navigationClient.navigateInternal(s,l);if(!u)return yield this.handleResponse(i,r)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),yield this.handleResponse(i,r);return null}catch(i){throw i instanceof je&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),this.browserStorage.cleanRequestByInteractionType(de.Redirect),i}})}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(this.config.auth.OIDCOptions.serverResponseType===wr.QUERY?t=window.location.search:t=window.location.hash);let r=wo.getDeserializedResponse(t);if(r){try{gA(r,this.browserCrypto,de.Redirect)}catch(o){return o instanceof je&&this.logger.error(`Interaction type validation failed due to ${o.errorCode}: ${o.errorMessage}`),[null,""]}return ub(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,t]}let i=this.browserStorage.getTemporaryCache(rt.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(rt.URL_HASH)),i&&(r=wo.getDeserializedResponse(i),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,i]):[null,""]}handleResponse(e,t){return S(this,null,function*(){let r=e.state;if(!r)throw ee(So);let i=this.browserStorage.getCachedRequest(r);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw ee(er);let c=new nr(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ot.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,i.correlationId),{userRequestState:l}=$t.parseRequestState(this.browserCrypto,r);return c.acquireToken(re(M({},i),{state:l,prompt:void 0})).finally(()=>{this.browserStorage.cleanRequestByState(r)})}let o=this.browserStorage.getCachedAuthority(r);if(!o)throw ee(Ao);let s=yield q(this.createAuthCodeClient.bind(this),C.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:o});return qr.removeThrottle(this.browserStorage,this.config.auth.clientId,i),new od(s,this.browserStorage,i,this.logger,this.performanceClient).handleCodeResponse(e,r)})}logout(e){return S(this,null,function*(){this.logger.verbose("logoutRedirect called");let t=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(ot.logout);try{this.eventHandler.emitEvent(he.LOGOUT_START,de.Redirect,e),yield this.clearCacheOnLogout(t.account);let i={apiId:ot.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=yield q(this.createAuthCodeClient.bind(this),C.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:e&&e.authority,requestExtraQueryParameters:e?.extraQueryParameters,account:e&&e.account||void 0});if(o.authority.protocolMode===Zt.OIDC)try{o.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId){this.browserStorage.removeAccount(t.account?.homeAccountId),this.eventHandler.emitEvent(he.LOGOUT_SUCCESS,de.Redirect,t);return}}let s=o.getLogoutUri(t);if(this.eventHandler.emitEvent(he.LOGOUT_SUCCESS,de.Redirect,t),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(s)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),yield this.navigationClient.navigateExternal(s,i);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),yield this.navigationClient.navigateExternal(s,i);return}}catch(i){throw i instanceof je&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),this.eventHandler.emitEvent(he.LOGOUT_FAILURE,de.Redirect,null,i),this.eventHandler.emitEvent(he.LOGOUT_END,de.Redirect),i}this.eventHandler.emitEvent(he.LOGOUT_END,de.Redirect)})}getRedirectStartPage(e){let t=e||window.location.href;return Pe.getAbsoluteUrl(t,wn())}};function vA(n,e,t,r,i){return S(this,null,function*(){if(e.addQueueMeasurement(C.SilentHandlerInitiateAuthRequest,r),!n)throw t.info("Navigate url is empty"),ee(Wr);return i?q(c2,C.SilentHandlerLoadFrame,t,e,r)(n,i,e,r):yn(l2,C.SilentHandlerLoadFrameSync,t,e,r)(n)})}function yA(n,e,t,r,i,o,s){return S(this,null,function*(){return r.addQueueMeasurement(C.SilentHandlerMonitorIframeForHash,o),new Promise((a,c)=>{e<_p&&i.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${_p}ms). This may result in timeouts.`);let l=window.setTimeout(()=>{window.clearInterval(u),c(ee(Cc))},e),u=window.setInterval(()=>{let d="",p=n.contentWindow;try{d=p?p.location.href:""}catch{}if(!d||d==="about:blank")return;let h="";p&&(s===wr.QUERY?h=p.location.search:h=p.location.hash),window.clearTimeout(l),window.clearInterval(u),a(h)},t)}).finally(()=>{yn(u2,C.RemoveHiddenIframe,i,r,o)(n)})})}function c2(n,e,t,r){return t.addQueueMeasurement(C.SilentHandlerLoadFrame,r),new Promise((i,o)=>{let s=CA();window.setTimeout(()=>{if(!s){o("Unable to load iframe");return}s.src=n,i(s)},e)})}function l2(n){let e=CA();return e.src=n,e}function CA(){let n=document.createElement("iframe");return n.className="msalSilentIframe",n.style.visibility="hidden",n.style.position="absolute",n.style.width=n.style.height="0",n.style.border="0",n.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(n),n}function u2(n){document.body===n.parentNode&&document.body.removeChild(n)}var Lp=class extends Rn{constructor(e,t,r,i,o,s,a,c,l,u,d){super(e,t,r,i,o,s,c,u,d),this.apiId=a,this.nativeStorage=l}acquireToken(e){return S(this,null,function*(){this.performanceClient.addQueueMeasurement(C.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");let t=M({},e);t.prompt?t.prompt!==pt.NONE&&t.prompt!==pt.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${pt.NONE}`),t.prompt=pt.NONE):t.prompt=pt.NONE;let r=yield q(this.initializeAuthorizationRequest.bind(this),C.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,de.Silent);td(r.authority);let i=this.initializeServerTelemetryManager(this.apiId),o;try{return o=yield q(this.createAuthCodeClient.bind(this),C.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:i,requestAuthority:r.authority,requestAzureCloudOptions:r.azureCloudOptions,requestExtraQueryParameters:r.extraQueryParameters,account:r.account}),yield q(this.silentTokenHelper.bind(this),C.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(o,r)}catch(s){if(s instanceof je&&(s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s)),!o||!(s instanceof je)||s.errorCode!==Pt.INVALID_GRANT_ERROR)throw s;this.performanceClient.addFields({retryError:s.errorCode},this.correlationId);let a=yield q(this.initializeAuthorizationRequest.bind(this),C.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,de.Silent);return yield q(this.silentTokenHelper.bind(this),C.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(o,a)}})}logout(){return Promise.reject(ee(Yr))}silentTokenHelper(e,t){return S(this,null,function*(){let r=t.correlationId;this.performanceClient.addQueueMeasurement(C.SilentIframeClientTokenHelper,r);let i=yield q(this.initializeAuthorizationCodeRequest.bind(this),C.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,r)(t),o=yield q(e.getAuthCodeUrl.bind(e),C.GetAuthCodeUrl,this.logger,this.performanceClient,r)(re(M({},t),{nativeBroker:Vn.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)})),s=new Oo(e,this.browserStorage,i,this.logger,this.performanceClient),a=yield q(vA,C.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(o,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait),c=this.config.auth.OIDCOptions.serverResponseType,l=yield q(yA,C.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,c),u=yn(Op,C.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(l,c,this.logger);if(u.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw ee(er);let d=new nr(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,u.accountId,this.browserStorage,r),{userRequestState:p}=$t.parseRequestState(this.browserCrypto,t.state);return q(d.acquireToken.bind(d),C.NativeInteractionClientAcquireToken,this.logger,this.performanceClient,r)(re(M({},t),{state:p,prompt:t.prompt||pt.NONE}))}return q(s.handleCodeResponse.bind(s),C.HandleCodeResponse,this.logger,this.performanceClient,r)(u,t)})}};var Up=class extends Rn{acquireToken(e){return S(this,null,function*(){this.performanceClient.addQueueMeasurement(C.SilentRefreshClientAcquireToken,e.correlationId);let t=yield q(rd,C.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),r=M(M({},e),t);e.redirectUri&&(r.redirectUri=this.getRedirectUri(e.redirectUri));let i=this.initializeServerTelemetryManager(ot.acquireTokenSilent_silentFlow),o=yield this.createRefreshTokenClient({serverTelemetryManager:i,authorityUrl:r.authority,azureCloudOptions:r.azureCloudOptions,account:r.account});return q(o.acquireTokenByRefreshToken.bind(o),C.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(r).catch(s=>{throw s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s),s})})}logout(){return Promise.reject(ee(Yr))}createRefreshTokenClient(e){return S(this,null,function*(){let t=yield q(this.getClientConfiguration.bind(this),C.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new To(t,this.performanceClient)})}};var Hp=class{constructor(e,t,r,i){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=t,this.logger=r,this.cryptoObj=i}loadExternalTokens(e,t,r){if(!this.isBrowserEnvironment)throw ee(Qr);let i=t.id_token?Co.extractTokenClaims(t.id_token,xn):void 0,o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},s=e.authority?new Xn(Xn.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,o,this.logger,e.correlationId||rn()):void 0,a=this.loadAccount(e,r.clientInfo||t.client_info||"",i,s),c=this.loadIdToken(t,a.homeAccountId,a.environment,a.realm),l=this.loadAccessToken(e,t,a.homeAccountId,a.environment,a.realm,r),u=this.loadRefreshToken(t,a.homeAccountId,a.environment);return this.generateAuthenticationResult(e,{account:a,idToken:c,accessToken:l,refreshToken:u},i,s)}loadAccount(e,t,r,i){if(this.logger.verbose("TokenCache - loading account"),e.account){let c=ft.createFromAccountInfo(e.account);return this.storage.setAccount(c),c}else if(!i||!t&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),ee(Dc);let o=ft.generateHomeAccountId(t,i.authorityType,this.logger,this.cryptoObj,r),s=r?.tid,a=uc(this.storage,i,o,xn,r,t,i.hostnameAndPort,s,void 0,void 0,this.logger);return this.storage.setAccount(a),a}loadIdToken(e,t,r,i){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");let o=dt.createIdTokenEntity(t,r,e.id_token,this.config.auth.clientId,i);return this.storage.setIdTokenCredential(o),o}loadAccessToken(e,t,r,i,o,s){if(t.access_token)if(t.expires_in){if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");let a=t.scope?mt.fromString(t.scope):new mt(e.scopes),c=s.expiresOn||t.expires_in+new Date().getTime()/1e3,l=s.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+new Date().getTime()/1e3,u=dt.createAccessTokenEntity(r,i,t.access_token,this.config.auth.clientId,o,a.printScopes(),c,l,xn);return this.storage.setAccessTokenCredential(u),u}loadRefreshToken(e,t,r){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");let i=dt.createRefreshTokenEntity(t,r,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return this.storage.setRefreshTokenCredential(i),i}generateAuthenticationResult(e,t,r,i){let o="",s=[],a=null,c;t?.accessToken&&(o=t.accessToken.secret,s=mt.fromString(t.accessToken.target).asArray(),a=new Date(Number(t.accessToken.expiresOn)*1e3),c=new Date(Number(t.accessToken.extendedExpiresOn)*1e3));let l=t.account;return{authority:i?i.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:s,account:l.getAccountInfo(),idToken:t.idToken?.secret||"",idTokenClaims:r||{},accessToken:o,fromCache:!0,expiresOn:a,correlationId:e.correlationId||"",requestId:"",extExpiresOn:c,familyId:t.refreshToken?.familyId||"",tokenType:t?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:l.cloudGraphHostName||"",msGraphHost:l.msGraphHost||"",fromNativeBroker:!1}}};var Bp=class extends Gs{constructor(e){super(e),this.includeRedirectUri=!1}};var jp=class extends Rn{constructor(e,t,r,i,o,s,a,c,l,u){super(e,t,r,i,o,s,c,l,u),this.apiId=a}acquireToken(e){return S(this,null,function*(){if(!e.code)throw ee(kc);let t=yield q(this.initializeAuthorizationRequest.bind(this),C.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,de.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{let i=re(M({},t),{code:e.code}),o=yield q(this.getClientConfiguration.bind(this),C.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),s=new Bp(o);this.logger.verbose("Auth code client created");let a=new Oo(s,this.browserStorage,i,this.logger,this.performanceClient);return yield q(a.handleCodeResponseFromServer.bind(a),C.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(i){throw i instanceof je&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),i}})}logout(){return Promise.reject(ee(Yr))}};function Jr(n){let e=n?.idTokenClaims;if(e?.tfp||e?.acr)return"B2C";if(e?.tid){if(e?.tid==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function Vp(n,e){try{ed(n)}catch(t){throw e.end({success:!1},t),t}}var Gc=class n{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new JS(this.logger,this.performanceClient):vo,this.eventHandler=new Rp(this.logger),this.browserStorage=this.isBrowserEnvironment?new Vc(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,WC(this.config.auth),this.performanceClient):XS(this.config.auth.clientId,this.logger);let t={cacheLocation:Tt.MemoryStorage,temporaryCacheLocation:Tt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Vc(this.config.auth.clientId,t,this.browserCrypto,this.logger,void 0,this.performanceClient),this.tokenCache=new Hp(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this),this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}static createController(e,t){return S(this,null,function*(){let r=new n(e);return yield r.initialize(t),r})}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}initialize(e){return S(this,null,function*(){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(he.INITIALIZE_END);return}let t=e?.correlationId||this.getRequestCorrelationId(),r=this.config.system.allowNativeBroker,i=this.performanceClient.startMeasurement(C.InitializeClientApplication,t);if(this.eventHandler.emitEvent(he.INITIALIZE_START),r)try{this.nativeExtensionProvider=yield Vn.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(o){this.logger.verbose(o)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),yield q(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),C.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,t)(this.performanceClient,t)),this.initialized=!0,this.eventHandler.emitEvent(he.INITIALIZE_END),i.end({allowNativeBroker:r,success:!0})})}handleRedirectPromise(e){return S(this,null,function*(){if(this.logger.verbose("handleRedirectPromise called"),Cp(this.initialized),this.isBrowserEnvironment){let t=e||"",r=this.redirectResponse.get(t);return typeof r>"u"?(r=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,r),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null})}handleRedirectPromiseInternal(e){return S(this,null,function*(){let t=this.getAllAccounts(),r=this.browserStorage.getCachedNativeRequest(),i=r&&Vn.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e,o=i?r?.correlationId:this.browserStorage.getTemporaryCache(rt.CORRELATION_ID,!0)||"",s=this.performanceClient.startMeasurement(C.AcquireTokenRedirect,o);this.eventHandler.emitEvent(he.HANDLE_REDIRECT_START,de.Redirect);let a;if(i&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");let c=new nr(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ot.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,r.accountId,this.nativeInternalStorage,r.correlationId);a=q(c.handleRedirectPromise.bind(c),C.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(this.performanceClient,s.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");let c=this.createRedirectClient(o);a=q(c.handleRedirectPromise.bind(c),C.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(e,s)}return a.then(c=>(c?(t.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(he.LOGIN_SUCCESS,de.Redirect,c),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(he.ACQUIRE_TOKEN_SUCCESS,de.Redirect,c),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),s.end({success:!0,accountType:Jr(c.account)})):s.event.errorCode?s.end({success:!1}):s.discard(),this.eventHandler.emitEvent(he.HANDLE_REDIRECT_END,de.Redirect),c)).catch(c=>{let l=c;throw t.length>0?this.eventHandler.emitEvent(he.ACQUIRE_TOKEN_FAILURE,de.Redirect,null,l):this.eventHandler.emitEvent(he.LOGIN_FAILURE,de.Redirect,null,l),this.eventHandler.emitEvent(he.HANDLE_REDIRECT_END,de.Redirect),s.end({success:!1},l),c})})}acquireTokenRedirect(e){return S(this,null,function*(){let t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);let r=this.performanceClient.startMeasurement(C.AcquireTokenPreRedirect,t);r.add({accountType:Jr(e.account),scenarioId:e.scenarioId});let i=e.onRedirectNavigate;if(i)e.onRedirectNavigate=s=>{let a=typeof i=="function"?i(s):void 0;return a!==!1?r.end({success:!0}):r.discard(),a};else{let s=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=a=>{let c=typeof s=="function"?s(a):void 0;return c!==!1?r.end({success:!0}):r.discard(),c}}let o=this.getAllAccounts().length>0;try{bp(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),o?this.eventHandler.emitEvent(he.ACQUIRE_TOKEN_START,de.Redirect,e):this.eventHandler.emitEvent(he.LOGIN_START,de.Redirect,e);let s;return this.nativeExtensionProvider&&this.canUseNative(e)?s=new nr(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ot.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,r).catch(c=>{if(c instanceof tr&&No(c))return this.nativeExtensionProvider=void 0,this.createRedirectClient(t).acquireToken(e);if(c instanceof Jt)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(t).acquireToken(e);throw this.browserStorage.setInteractionInProgress(!1),c}):s=this.createRedirectClient(t).acquireToken(e),yield s}catch(s){throw r.end({success:!1},s),o?this.eventHandler.emitEvent(he.ACQUIRE_TOKEN_FAILURE,de.Redirect,null,s):this.eventHandler.emitEvent(he.LOGIN_FAILURE,de.Redirect,null,s),s}})}acquireTokenPopup(e){let t=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(C.AcquireTokenPopup,t);r.add({scenarioId:e.scenarioId,accountType:Jr(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),Vp(this.initialized,r),this.browserStorage.setInteractionInProgress(!0)}catch(s){return Promise.reject(s)}let i=this.getAllAccounts();i.length>0?this.eventHandler.emitEvent(he.ACQUIRE_TOKEN_START,de.Popup,e):this.eventHandler.emitEvent(he.LOGIN_START,de.Popup,e);let o;return this.canUseNative(e)?o=this.acquireTokenNative(re(M({},e),{correlationId:t}),ot.acquireTokenPopup).then(s=>(this.browserStorage.setInteractionInProgress(!1),r.end({success:!0,isNativeBroker:!0,accountType:Jr(s.account)}),s)).catch(s=>{if(s instanceof tr&&No(s))return this.nativeExtensionProvider=void 0,this.createPopupClient(t).acquireToken(e);if(s instanceof Jt)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(t).acquireToken(e);throw this.browserStorage.setInteractionInProgress(!1),s}):o=this.createPopupClient(t).acquireToken(e),o.then(s=>(i.length<this.getAllAccounts().length?this.eventHandler.emitEvent(he.LOGIN_SUCCESS,de.Popup,s):this.eventHandler.emitEvent(he.ACQUIRE_TOKEN_SUCCESS,de.Popup,s),r.end({success:!0,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:Jr(s.account)}),s)).catch(s=>(i.length>0?this.eventHandler.emitEvent(he.ACQUIRE_TOKEN_FAILURE,de.Popup,null,s):this.eventHandler.emitEvent(he.LOGIN_FAILURE,de.Popup,null,s),r.end({success:!1},s),Promise.reject(s)))}trackPageVisibilityWithMeasurement(){let e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}ssoSilent(e){return S(this,null,function*(){let t=this.getRequestCorrelationId(e),r=re(M({},e),{prompt:e.prompt,correlationId:t});this.ssoSilentMeasurement=this.performanceClient.startMeasurement(C.SsoSilent,t),this.ssoSilentMeasurement?.add({scenarioId:e.scenarioId,accountType:Jr(e.account)}),Vp(this.initialized,this.ssoSilentMeasurement),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(he.SSO_SILENT_START,de.Silent,r);let i;return this.canUseNative(r)?i=this.acquireTokenNative(r,ot.ssoSilent).catch(o=>{if(o instanceof tr&&No(o))return this.nativeExtensionProvider=void 0,this.createSilentIframeClient(r.correlationId).acquireToken(r);throw o}):i=this.createSilentIframeClient(r.correlationId).acquireToken(r),i.then(o=>(this.eventHandler.emitEvent(he.SSO_SILENT_SUCCESS,de.Silent,o),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:o.fromNativeBroker,accessTokenSize:o.accessToken.length,idTokenSize:o.idToken.length,accountType:Jr(o.account)}),o)).catch(o=>{throw this.eventHandler.emitEvent(he.SSO_SILENT_FAILURE,de.Silent,null,o),this.ssoSilentMeasurement?.end({success:!1},o),o}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})})}acquireTokenByCode(e){return S(this,null,function*(){let t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);let r=this.performanceClient.startMeasurement(C.AcquireTokenByCode,t);Vp(this.initialized,r),this.eventHandler.emitEvent(he.ACQUIRE_TOKEN_BY_CODE_START,de.Silent,e),r.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw ee(xc);if(e.code){let i=e.code,o=this.hybridAuthCodeResponses.get(i);return o?(this.logger.verbose("Existing acquireTokenByCode request found",t),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync(re(M({},e),{correlationId:t})).then(s=>(this.eventHandler.emitEvent(he.ACQUIRE_TOKEN_BY_CODE_SUCCESS,de.Silent,s),this.hybridAuthCodeResponses.delete(i),r.end({success:!0,isNativeBroker:s.fromNativeBroker,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:Jr(s.account)}),s)).catch(s=>{throw this.hybridAuthCodeResponses.delete(i),this.eventHandler.emitEvent(he.ACQUIRE_TOKEN_BY_CODE_FAILURE,de.Silent,null,s),r.end({success:!1},s),s}),this.hybridAuthCodeResponses.set(i,o)),yield o}else if(e.nativeAccountId)if(this.canUseNative(e,e.nativeAccountId)){let i=yield this.acquireTokenNative(re(M({},e),{correlationId:t}),ot.acquireTokenByCode,e.nativeAccountId).catch(o=>{throw o instanceof tr&&No(o)&&(this.nativeExtensionProvider=void 0),o});return r.end({accountType:Jr(i.account),success:!0}),i}else throw ee(Rc);else throw ee(Mc)}catch(i){throw this.eventHandler.emitEvent(he.ACQUIRE_TOKEN_BY_CODE_FAILURE,de.Silent,null,i),r.end({success:!1},i),i}})}acquireTokenByCodeAsync(e){return S(this,null,function*(){return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(C.AcquireTokenByCodeAsync,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),yield this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(i=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:i.fromCache,isNativeBroker:i.fromNativeBroker}),i)).catch(i=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},i),i}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})})}acquireTokenFromCache(e,t){return S(this,null,function*(){switch(this.performanceClient.addQueueMeasurement(C.AcquireTokenFromCache,e.correlationId),t){case bn.Default:case bn.AccessToken:case bn.AccessTokenAndRefreshToken:let r=this.createSilentCacheClient(e.correlationId);return q(r.acquireToken.bind(r),C.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw j(Vt.tokenRefreshRequired)}})}acquireTokenByRefreshToken(e,t){return S(this,null,function*(){switch(this.performanceClient.addQueueMeasurement(C.AcquireTokenByRefreshToken,e.correlationId),t){case bn.Default:case bn.AccessTokenAndRefreshToken:case bn.RefreshToken:case bn.RefreshTokenAndNetwork:let r=this.createSilentRefreshClient(e.correlationId);return q(r.acquireToken.bind(r),C.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw j(Vt.tokenRefreshRequired)}})}acquireTokenBySilentIframe(e){return S(this,null,function*(){this.performanceClient.addQueueMeasurement(C.AcquireTokenBySilentIframe,e.correlationId);let t=this.createSilentIframeClient(e.correlationId);return q(t.acquireToken.bind(t),C.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)})}logout(e){return S(this,null,function*(){let t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect(M({correlationId:t},e))})}logoutRedirect(e){return S(this,null,function*(){let t=this.getRequestCorrelationId(e);return bp(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),this.createRedirectClient(t).logout(e)})}logoutPopup(e){try{let t=this.getRequestCorrelationId(e);return ed(this.initialized),this.browserStorage.setInteractionInProgress(!0),this.createPopupClient(t).logout(e)}catch(t){return Promise.reject(t)}}clearCache(e){return S(this,null,function*(){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}let t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)})}getAllAccounts(e){return eA(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return tA(e,this.logger,this.browserStorage)}getAccountByUsername(e){return nA(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return rA(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return iA(e,this.logger,this.browserStorage)}setActiveAccount(e){oA(e,this.browserStorage)}getActiveAccount(){return sA(this.browserStorage)}hydrateCache(e,t){return S(this,null,function*(){this.logger.verbose("hydrateCache called");let r=ft.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return this.browserStorage.setAccount(r),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)})}acquireTokenNative(e,t,r){return S(this,null,function*(){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw ee(er);return new nr(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,r||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)})}canUseNative(e,t){if(this.logger.trace("canUseNative called"),!Vn.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case pt.NONE:case pt.CONSENT:case pt.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${e.prompt} is not compatible with native flow, returning false`),!1}return!t&&!this.getNativeAccountId(e)?(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){let t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new Pp(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new Fp(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new Lp(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ot.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new $c(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new Up(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new jp(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ot.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return yp(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))}disableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))}handleAccountCacheChange(e){try{e.key?.includes(Ot.ACTIVE_ACCOUNT_FILTERS)&&this.eventHandler.emitEvent(he.ACTIVE_ACCOUNT_CHANGED);let t=e.newValue||e.oldValue;if(!t)return;let r=JSON.parse(t);if(typeof r!="object"||!ft.isAccountEntity(r))return;let o=Ri.toObject(new ft,r).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.eventHandler.emitEvent(he.ACCOUNT_ADDED,void 0,o)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.eventHandler.emitEvent(he.ACCOUNT_REMOVED,void 0,o))}catch{return}}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?rn():N.EMPTY_STRING}loginRedirect(e){return S(this,null,function*(){let t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect(M({correlationId:t},e||ib))})}loginPopup(e){let t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup(M({correlationId:t},e||ib))}acquireTokenSilent(e){return S(this,null,function*(){let t=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(C.AcquireTokenSilent,t);r.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Vp(this.initialized,r),this.logger.verbose("acquireTokenSilent called",t);let i=e.account||this.getActiveAccount();if(!i)throw ee(_c);r.add({accountType:Jr(i)});let o={clientId:this.config.auth.clientId,authority:e.authority||N.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:i.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,shrOptions:e.shrOptions},s=JSON.stringify(o),a=this.activeSilentTokenRequests.get(s);if(typeof a>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",t);let c=q(this.acquireTokenSilentAsync.bind(this),C.AcquireTokenSilentAsync,this.logger,this.performanceClient,t)(re(M({},e),{correlationId:t}),i).then(l=>(this.activeSilentTokenRequests.delete(s),r.end({success:!0,fromCache:l.fromCache,isNativeBroker:l.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length}),l)).catch(l=>{throw this.activeSilentTokenRequests.delete(s),r.end({success:!1},l),l});return this.activeSilentTokenRequests.set(s,c),re(M({},yield c),{state:e.state})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",t),r.discard(),re(M({},yield a),{state:e.state})})}acquireTokenSilentAsync(e,t){return S(this,null,function*(){let r=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(C.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(he.ACQUIRE_TOKEN_START,de.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",r);let i=yield q(cA,C.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||bn.Default;return this.acquireTokenSilentNoIframe(i,o).catch(a=>S(this,null,function*(){if(d2(a,o))if(this.activeIframeRequest)if(o!==bn.Skip){let[l,u]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${u}`,i.correlationId);let d=this.performanceClient.startMeasurement(C.AwaitConcurrentIframe,i.correlationId);d.add({awaitIframeCorrelationId:u});let p=yield l;if(d.end({success:p}),p)return this.logger.verbose(`Parallel iframe request with correlationId: ${u} succeeded. Retrying cache and/or RT redemption`,i.correlationId),this.acquireTokenSilentNoIframe(i,o);throw this.logger.info(`Iframe request with correlationId: ${u} failed. Interaction is required.`),a}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",i.correlationId),q(this.acquireTokenBySilentIframe.bind(this),C.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i);else{let l;return this.activeIframeRequest=[new Promise(u=>{l=u}),i.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",i.correlationId),q(this.acquireTokenBySilentIframe.bind(this),C.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i).then(u=>(l(!0),u)).catch(u=>{throw l(!1),u}).finally(()=>{this.activeIframeRequest=void 0})}else throw a})).then(a=>(this.eventHandler.emitEvent(he.ACQUIRE_TOKEN_SUCCESS,de.Silent,a),e.correlationId&&this.performanceClient.addFields({fromCache:a.fromCache,isNativeBroker:a.fromNativeBroker},e.correlationId),a)).catch(a=>{throw this.eventHandler.emitEvent(he.ACQUIRE_TOKEN_FAILURE,de.Silent,null,a),a}).finally(()=>{document.removeEventListener("visibilitychange",r)})})}acquireTokenSilentNoIframe(e,t){return S(this,null,function*(){return Vn.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,ot.acquireTokenSilent_silentFlow).catch(r=>S(this,null,function*(){throw r instanceof tr&&No(r)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,j(Vt.tokenRefreshRequired)):r}))):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),q(this.acquireTokenFromCache.bind(this),C.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,t).catch(r=>{if(t===bn.AccessToken)throw r;return this.eventHandler.emitEvent(he.ACQUIRE_TOKEN_NETWORK_START,de.Silent,e),q(this.acquireTokenByRefreshToken.bind(this),C.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,t)}))})}};function d2(n,e){let t=!(n instanceof Jt&&n.subError!==Pi.badToken),r=n.errorCode===Pt.INVALID_GRANT_ERROR||n.errorCode===Vt.tokenRefreshRequired,i=t&&r||n.errorCode===Pi.noTokensFound||n.errorCode===Pi.refreshTokenExpired,o=xS.includes(e);return i&&o}function bA(n,e){return S(this,null,function*(){let t=new Tp(n);return yield t.initialize(),Gc.createController(t,e)})}var sd=class n{static createPublicClientApplication(e){return S(this,null,function*(){let t=yield bA(e);return new n(e,t)})}constructor(e,t){this.controller=t||new Gc(new Tp(e))}initialize(e){return S(this,null,function*(){return this.controller.initialize(e)})}acquireTokenPopup(e){return S(this,null,function*(){return this.controller.acquireTokenPopup(e)})}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}hydrateCache(e,t){return S(this,null,function*(){return this.controller.hydrateCache(e,t)})}clearCache(e){return this.controller.clearCache(e)}};var ad=class{static getInteractionStatusFromEvent(e,t){switch(e.eventType){case he.LOGIN_START:return Wt.Login;case he.SSO_SILENT_START:return Wt.SsoSilent;case he.ACQUIRE_TOKEN_START:if(e.interactionType===de.Redirect||e.interactionType===de.Popup)return Wt.AcquireToken;break;case he.HANDLE_REDIRECT_START:return Wt.HandleRedirect;case he.LOGOUT_START:return Wt.Logout;case he.SSO_SILENT_SUCCESS:case he.SSO_SILENT_FAILURE:if(t&&t!==Wt.SsoSilent)break;return Wt.None;case he.LOGOUT_END:if(t&&t!==Wt.Logout)break;return Wt.None;case he.HANDLE_REDIRECT_END:if(t&&t!==Wt.HandleRedirect)break;return Wt.None;case he.LOGIN_SUCCESS:case he.LOGIN_FAILURE:case he.ACQUIRE_TOKEN_SUCCESS:case he.ACQUIRE_TOKEN_FAILURE:case he.RESTORE_FROM_BFCACHE:if(e.interactionType===de.Redirect||e.interactionType===de.Popup){if(t&&t!==Wt.Login&&t!==Wt.AcquireToken)break;return Wt.None}break}return null}};var wA="@azure/msal-angular",pb="3.1.0",Po=new le("MSAL_INSTANCE"),zp=new le("MSAL_GUARD_CONFIG"),h2=new le("MSAL_INTERCEPTOR_CONFIG"),f2=new le("MSAL_BROADCAST_CONFIG"),Bi=(()=>{class n{constructor(t,r){this.instance=t,this.location=r;let i=this.location.path(!0).split("#").pop();i&&(this.redirectHash=`#${i}`),this.instance.initializeWrapperLibrary(sb.Angular,pb)}initialize(){return Ge(this.instance.initialize())}acquireTokenPopup(t){return Ge(this.instance.acquireTokenPopup(t))}acquireTokenRedirect(t){return Ge(this.instance.acquireTokenRedirect(t))}acquireTokenSilent(t){return Ge(this.instance.acquireTokenSilent(t))}handleRedirectObservable(t){return Ge(this.instance.initialize().then(()=>this.instance.handleRedirectPromise(t||this.redirectHash)))}loginPopup(t){return Ge(this.instance.loginPopup(t))}loginRedirect(t){return Ge(this.instance.loginRedirect(t))}logout(t){return Ge(this.instance.logout(t))}logoutRedirect(t){return Ge(this.instance.logoutRedirect(t))}logoutPopup(t){return Ge(this.instance.logoutPopup(t))}ssoSilent(t){return Ge(this.instance.ssoSilent(t))}getLogger(){return this.logger||(this.logger=this.instance.getLogger().clone(wA,pb)),this.logger}setLogger(t){this.logger=t.clone(wA,pb),this.instance.setLogger(t)}}return n.\u0275fac=function(t){return new(t||n)(oe(Po),oe(mi))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})(),$p=(()=>{class n{constructor(t,r,i){this.msalInstance=t,this.authService=r,this.msalBroadcastConfig=i,this.msalBroadcastConfig&&this.msalBroadcastConfig.eventsToReplay>0?(this.authService.getLogger().verbose(`BroadcastService - eventsToReplay set on BroadcastConfig, replaying the last ${this.msalBroadcastConfig.eventsToReplay} events`),this._msalSubject=new cl(this.msalBroadcastConfig.eventsToReplay)):this._msalSubject=new kt,this.msalSubject$=this._msalSubject.asObservable(),this._inProgress=new Mt(Wt.Startup),this.inProgress$=this._inProgress.asObservable(),this.msalInstance.addEventCallback(o=>{this._msalSubject.next(o);let s=ad.getInteractionStatusFromEvent(o,this._inProgress.value);s!==null&&(this.authService.getLogger().verbose(`BroadcastService - ${o.eventType} results in setting inProgress from ${this._inProgress.value} to ${s}`),this._inProgress.next(s))})}}return n.\u0275fac=function(t){return new(t||n)(oe(Po),oe(Bi),oe(f2,8))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})(),mb=(()=>{class n{constructor(t,r,i,o,s){this.msalGuardConfig=t,this.msalBroadcastService=r,this.authService=i,this.location=o,this.router=s,this.msalBroadcastService.inProgress$.subscribe()}parseUrl(t){return this.router.parseUrl(t)}getDestinationUrl(t){this.authService.getLogger().verbose("Guard - getting destination url");let r=document.getElementsByTagName("base"),i=this.location.normalize(r.length?r[0].href:window.location.origin),o=this.location.prepareExternalUrl(t);return o.startsWith("#")?(this.authService.getLogger().verbose("Guard - destination by hash routing"),`${i}/${o}`):`${i}${t}`}loginInteractively(t){let r=typeof this.msalGuardConfig.authRequest=="function"?this.msalGuardConfig.authRequest(this.authService,t):M({},this.msalGuardConfig.authRequest);if(this.msalGuardConfig.interactionType===de.Popup)return this.authService.getLogger().verbose("Guard - logging in by popup"),this.authService.loginPopup(r).pipe(Te(o=>(this.authService.getLogger().verbose("Guard - login by popup successful, can activate, setting active account"),this.authService.instance.setActiveAccount(o.account),!0)));this.authService.getLogger().verbose("Guard - logging in by redirect");let i=this.getDestinationUrl(t.url);return this.authService.loginRedirect(M({redirectStartPage:i},r)).pipe(Te(()=>!1))}activateHelper(t){if(this.msalGuardConfig.interactionType!==de.Popup&&this.msalGuardConfig.interactionType!==de.Redirect)throw new Bc("invalid_interaction_type","Invalid interaction type provided to MSAL Guard. InteractionType.Popup or InteractionType.Redirect must be provided in the MsalGuardConfiguration");if(this.authService.getLogger().verbose("MSAL Guard activated"),typeof window<"u"){if(Pe.hashContainsKnownProperties(window.location.hash)&&wp.isInIframe()&&!this.authService.instance.getConfiguration().system.allowRedirectInIframe)return this.authService.getLogger().warning("Guard - redirectUri set to page with MSAL Guard. It is recommended to not set redirectUri to a page that requires authentication."),ge(!1)}else return this.authService.getLogger().info("Guard - window is undefined, MSAL does not support server-side token acquisition"),ge(!0);this.msalGuardConfig.loginFailedRoute&&(this.loginFailedRoute=this.parseUrl(this.msalGuardConfig.loginFailedRoute));let r=this.location.path(!0);return this.authService.initialize().pipe(Gn(()=>this.authService.handleRedirectObservable()),Gn(()=>{if(!this.authService.instance.getAllAccounts().length)return t?(this.authService.getLogger().verbose("Guard - no accounts retrieved, log in required to activate"),this.loginInteractively(t)):(this.authService.getLogger().verbose("Guard - no accounts retrieved, no state, cannot load"),ge(!1));if(this.authService.getLogger().verbose("Guard - at least 1 account exists, can activate or load"),t){let i=this.includesCode(t.url),o=!!t.root&&!!t.root.fragment&&this.includesCode(`#${t.root.fragment}`),s=this.location.prepareExternalUrl(t.url).indexOf("#")===0;if(i&&(o||s))return this.authService.getLogger().info("Guard - Hash contains known code response, stopping navigation."),r.indexOf("#")>-1?ge(this.parseUrl(this.location.path())):ge(this.parseUrl(""))}return ge(!0)}),Yt(i=>(this.authService.getLogger().error("Guard - error while logging in, unable to activate"),this.authService.getLogger().errorPii(`Guard - error: ${i.message}`),this.loginFailedRoute&&t?(this.authService.getLogger().verbose("Guard - loginFailedRoute set, redirecting"),ge(this.loginFailedRoute)):ge(!1))))}includesCode(t){return t.lastIndexOf("/code")>-1&&t.lastIndexOf("/code")===t.length-5||t.indexOf("#code=")>-1||t.indexOf("&code=")>-1}canActivate(t,r){return this.authService.getLogger().verbose("Guard - canActivate"),this.activateHelper(r)}canActivateChild(t,r){return this.authService.getLogger().verbose("Guard - canActivateChild"),this.activateHelper(r)}canMatch(){return this.authService.getLogger().verbose("Guard - canLoad"),this.activateHelper()}}return n.\u0275fac=function(t){return new(t||n)(oe(zp),oe($p),oe(Bi),oe(mi),oe(nn))},n.\u0275prov=ce({token:n,factory:n.\u0275fac}),n})();var EA=(()=>{class n{static forRoot(t,r,i){return{ngModule:n,providers:[{provide:Po,useValue:t},{provide:zp,useValue:r},{provide:h2,useValue:i},Bi]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Ht({providers:[mb,$p],imports:[Rt]}),n})();var qc=class{},gb=(()=>{class n{constructor(t,r,i,o){this.msalService=t,this.router=r,this.silentTokenRequest=i,this.msalInstance=o,this.loginId="",this.accountInfo=this.msalService.instance.getActiveAccount()}initialize(){return Ge(this.msalInstance.initialize())}getUserAuth(){return console.log("silentTokenRequest in ngkit",this.silentTokenRequest),new $e(t=>{this.initialize(),setTimeout(()=>{this.msalService.ssoSilent(this.silentTokenRequest).subscribe({next:r=>S(this,null,function*(){yield this.msalInstance.initialize(),t.next(r)}),error:r=>S(this,null,function*(){console.log("before acquireTokenSilent",r),yield this.msalInstance.initialize(),this.msalService.acquireTokenPopup(this.silentTokenRequest).subscribe({next:i=>{t.next(i)},error:i=>{console.log("acquireTokenSilent error block",i),this.router.navigate(["/no-user-access"])}})})})},1e3)})}displayLogName(t){this.loginId=t}handleError(t){return Mr(t.message||"Server Error")}static{this.\u0275fac=function(r){return new(r||n)(oe(Bi),oe(nn),oe(qc,8),oe(Po))}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_A=(()=>{class n{static forRoot(t,r){return{ngModule:n,providers:[Bi,gb,mb,$p,{provide:Po,useValue:t},{provide:qc,useValue:r},{provide:zp,useFactory:function(){return{interactionType:de.Redirect,authRequest:{scopes:[...r.scopes]},loginFailedRoute:"/no-user-access"}}}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Bt({type:n})}static{this.\u0275inj=Ht({imports:[Rt,EA]})}}return n})();var rr=class n{static API_HOST_ROOT_DEV="https://mvp-api.dev.edonpdev.cld1np.thehartford.com/";static API_HOST_ROOT_QA="";static API_HOST_ROOT_PROD="";static AUTH_AZURE_CLIENTID_DEV="064088b8-3b21-4945-a3ea-96113971dac8";static AUTH_AZURE_CLIENTID_QA="";static AUTH_AZURE_CLIENTID_PROD="";static AUTH_AZURE_AUTHORITY="https://login.microsoftonline.com/a311fc62-83f4-45f0-9502-1bb2247d4c8d/oauth2/v2.0/authorize";static AUTH_APIC_CLIENTID="064088b8-3b21-4945-a3ea-96113971dac8";static AUTH_APIC_CLIENTID_DEV="";static AUTH_APIC_CLIENTID_QA="";static AUTH_APIC_CLIENTID_PROD="";static MSAL_TIMEOUT=3599e3;static get API_HOST_ROOT(){switch(n.getHostEnv()){case"DEV":return n.API_HOST_ROOT_DEV;case"QA":return n.API_HOST_ROOT_QA;case"PROD":return n.API_HOST_ROOT_PROD;case"localhost":return"/api";default:return n.API_HOST_ROOT_DEV}}static get AUTH_AZURE_CLIENTID(){switch(n.getHostEnv()){case"DEV":return n.AUTH_AZURE_CLIENTID_DEV;case"QA":return n.AUTH_AZURE_CLIENTID_QA;case"PROD":return n.AUTH_AZURE_CLIENTID_PROD;default:return n.AUTH_AZURE_CLIENTID_DEV}}static getHostEnv(e){let t=window.location.hostname||"";return e&&(t=e),t==="localhost"?t:(t=t.split(/[.-]/)[1]||"",["dev","qa","prod"].includes(t)?t.toUpperCase():"DEV")}static msalConfig(){return{auth:{clientId:n.AUTH_AZURE_CLIENTID,authority:n.AUTH_AZURE_AUTHORITY,redirectUri:window.location.origin},cache:{cacheLocation:Tt.LocalStorage,storeAuthStateInCookie:!1},system:{allowNativeBroker:!1}}}};var xA=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(T(Zn),T(ve))}}static{this.\u0275dir=xt({type:n})}}return n})(),g2=(()=>{class n extends xA{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Sl(n)))(i||n)}})()}static{this.\u0275dir=xt({type:n,features:[yr]})}}return n})(),Jp=new le("");var v2={provide:Jp,useExisting:ns(()=>Xp),multi:!0};function y2(){let n=pi()?pi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var C2=new le(""),Xp=(()=>{class n extends xA{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!y2())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(T(Zn),T(ve),T(C2,8))}}static{this.\u0275dir=xt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Me("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[ss([v2]),yr]})}}return n})();function Fo(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function RA(n){return n!=null&&typeof n.length=="number"}var _b=new le(""),Ib=new le(""),b2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Tr=class{static min(e){return w2(e)}static max(e){return E2(e)}static required(e){return _2(e)}static requiredTrue(e){return I2(e)}static email(e){return T2(e)}static minLength(e){return S2(e)}static maxLength(e){return A2(e)}static pattern(e){return D2(e)}static nullValidator(e){return NA(e)}static compose(e){return HA(e)}static composeAsync(e){return BA(e)}};function w2(n){return e=>{if(Fo(e.value)||Fo(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function E2(n){return e=>{if(Fo(e.value)||Fo(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function _2(n){return Fo(n.value)?{required:!0}:null}function I2(n){return n.value===!0?null:{required:!0}}function T2(n){return Fo(n.value)||b2.test(n.value)?null:{email:!0}}function S2(n){return e=>Fo(e.value)||!RA(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function A2(n){return e=>RA(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function D2(n){if(!n)return NA;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Fo(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function NA(n){return null}function OA(n){return n!=null}function PA(n){return cs(n)?Ge(n):n}function FA(n){let e={};return n.forEach(t=>{e=t!=null?M(M({},e),t):e}),Object.keys(e).length===0?null:e}function LA(n,e){return e.map(t=>t(n))}function k2(n){return!n.validate}function UA(n){return n.map(e=>k2(e)?e:t=>e.validate(t))}function HA(n){if(!n)return null;let e=n.filter(OA);return e.length==0?null:function(t){return FA(LA(t,e))}}function Tb(n){return n!=null?HA(UA(n)):null}function BA(n){if(!n)return null;let e=n.filter(OA);return e.length==0?null:function(t){let r=LA(t,e).map(PA);return Fm(r).pipe(Te(FA))}}function Sb(n){return n!=null?BA(UA(n)):null}function IA(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function jA(n){return n._rawValidators}function VA(n){return n._rawAsyncValidators}function vb(n){return n?Array.isArray(n)?n:[n]:[]}function qp(n,e){return Array.isArray(n)?n.includes(e):n===e}function TA(n,e){let t=vb(e);return vb(n).forEach(i=>{qp(t,i)||t.push(i)}),t}function SA(n,e){return vb(e).filter(t=>!qp(n,t))}var Kp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Tb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Sb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Lo=class extends Kp{get formDirective(){return null}get path(){return null}},fd=class extends Kp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Wp=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},M2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},yJ=re(M({},M2),{"[class.ng-submitted]":"isSubmitted"}),Ho=(()=>{class n extends Wp{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(T(fd,2))}}static{this.\u0275dir=xt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&qh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[yr]})}}return n})(),ir=(()=>{class n extends Wp{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(T(Lo,10))}}static{this.\u0275dir=xt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&qh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[yr]})}}return n})();var cd="VALID",Gp="INVALID",Kc="PENDING",ld="DISABLED",Uo=class{},Yp=class extends Uo{constructor(e,t){super(),this.value=e,this.source=t}},dd=class extends Uo{constructor(e,t){super(),this.pristine=e,this.source=t}},hd=class extends Uo{constructor(e,t){super(),this.touched=e,this.source=t}},Wc=class extends Uo{constructor(e,t){super(),this.status=e,this.source=t}},yb=class extends Uo{constructor(e){super(),this.source=e}},Cb=class extends Uo{constructor(e){super(),this.source=e}};function Ab(n){return(em(n)?n.validators:n)||null}function x2(n){return Array.isArray(n)?Tb(n):n||null}function Db(n,e){return(em(e)?e.asyncValidators:n)||null}function R2(n){return Array.isArray(n)?Sb(n):n||null}function em(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function zA(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new me(1e3,"");if(!r[t])throw new me(1001,"")}function $A(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new me(1002,"")})}var Yc=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ua(()=>this.statusReactive()),this.statusReactive=Oa(void 0),this._pristine=Ua(()=>this.pristineReactive()),this.pristineReactive=Oa(!0),this._touched=Ua(()=>this.touchedReactive()),this.touchedReactive=Oa(!1),this._events=new kt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ur(this.statusReactive)}set status(e){Ur(()=>this.statusReactive.set(e))}get valid(){return this.status===cd}get invalid(){return this.status===Gp}get pending(){return this.status==Kc}get disabled(){return this.status===ld}get enabled(){return this.status!==ld}get pristine(){return Ur(this.pristineReactive)}set pristine(e){Ur(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Ur(this.touchedReactive)}set touched(e){Ur(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(TA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(SA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(SA(e,this._rawAsyncValidators))}hasValidator(e){return qp(this._rawValidators,e)}hasAsyncValidator(e){return qp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(re(M({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new hd(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new hd(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(re(M({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new dd(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new dd(!0,r))}markAsPending(e={}){this.status=Kc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(re(M({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ld,this.errors=null,this._forEachChild(i=>{i.disable(re(M({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yp(this.value,r)),this._events.next(new Wc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(M({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=cd,this._forEachChild(r=>{r.enable(re(M({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(re(M({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cd||this.status===Kc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yp(this.value,t)),this._events.next(new Wc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(re(M({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ld:cd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Kc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=PA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Wc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?ld:this.errors?Gp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kc)?Kc:this._anyControlsHaveStatus(Gp)?Gp:cd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new dd(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new hd(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){em(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=x2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=R2(this._rawAsyncValidators)}},Qc=class extends Yc{constructor(e,t,r){super(Ab(t),Db(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){$A(this,!0,e),Object.keys(e).forEach(r=>{zA(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var bb=class extends Qc{};var tm=new le("CallSetDisabledState",{providedIn:"root",factory:()=>nm}),nm="always";function N2(n,e){return[...e.path,n]}function wb(n,e,t=nm){kb(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),P2(n,e),L2(n,e),F2(n,e),O2(n,e)}function AA(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Zp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Qp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function O2(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function kb(n,e){let t=jA(n);e.validator!==null?n.setValidators(IA(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=VA(n);e.asyncValidator!==null?n.setAsyncValidators(IA(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Qp(e._rawValidators,i),Qp(e._rawAsyncValidators,i)}function Zp(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=jA(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=VA(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Qp(e._rawValidators,r),Qp(e._rawAsyncValidators,r),t}function P2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&GA(n,e)})}function F2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&GA(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function GA(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function L2(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function qA(n,e){n==null,kb(n,e)}function U2(n,e){return Zp(n,e)}function H2(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function B2(n){return Object.getPrototypeOf(n.constructor)===g2}function KA(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function j2(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Xp?t=o:B2(o)?r=o:i=o}),i||r||t||null}function V2(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var z2={provide:Lo,useExisting:ns(()=>Mb)},ud=Promise.resolve(),Mb=(()=>{class n extends Lo{get submitted(){return Ur(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Ua(()=>this.submittedReactive()),this.submittedReactive=Oa(!1),this._directives=new Set,this.ngSubmit=new Ke,this.form=new Qc({},Tb(t),Sb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ud.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),wb(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ud.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ud.then(()=>{let r=this._findContainer(t.path),i=new Qc({});qA(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ud.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ud.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),KA(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(T(_b,10),T(Ib,10),T(tm,8))}}static{this.\u0275dir=xt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Me("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ss([z2]),yr]})}}return n})();function DA(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function kA(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var zn=class extends Yc{constructor(e=null,t,r){super(Ab(t),Db(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),em(t)&&(t.nonNullable||t.initialValueIsDefault)&&(kA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){DA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){DA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){kA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var $2=n=>n instanceof zn;var or=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=xt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var WA=new le("");var G2={provide:Lo,useExisting:ns(()=>Sr)},Sr=(()=>{class n extends Lo{get submitted(){return Ur(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Ua(()=>this._submittedReactive()),this._submittedReactive=Oa(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ke,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return wb(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){AA(t.control||null,t,!1),V2(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),KA(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new yb(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Cb(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(AA(r||null,t),$2(i)&&(wb(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);qA(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&U2(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kb(this.form,this),this._oldForm&&Zp(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(T(_b,10),T(Ib,10),T(tm,8))}}static{this.\u0275dir=xt({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Me("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ss([G2]),yr,ci]})}}return n})();var q2={provide:fd,useExisting:ns(()=>ji)},ji=(()=>{class n extends fd{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Ke,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=j2(this,o)}ngOnChanges(t){this._added||this._setUpControl(),H2(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return N2(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(T(Lo,13),T(_b,10),T(Ib,10),T(Jp,10),T(WA,8))}}static{this.\u0275dir=xt({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ss([q2]),yr,ci]})}}return n})();var YA=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Bt({type:n})}static{this.\u0275inj=Ht({})}}return n})(),Eb=class extends Yc{constructor(e,t,r){super(Ab(t),Db(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){$A(this,!1,e),e.forEach((r,i)=>{zA(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function MA(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var sr=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return MA(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Qc(i,o)}record(t,r=null){let i=this._reduceControls(t);return new bb(i,r)}control(t,r,i){let o={};return this.useNonNullable?(MA(r)?o=r:(o.validators=r,o.asyncValidators=i),new zn(t,re(M({},o),{nonNullable:!0}))):new zn(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new Eb(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof zn)return t;if(t instanceof Yc)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Zc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:tm,useValue:t.callSetDisabledState??nm}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Bt({type:n})}static{this.\u0275inj=Ht({imports:[YA]})}}return n})(),ar=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:WA,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:tm,useValue:t.callSetDisabledState??nm}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Bt({type:n})}static{this.\u0275inj=Ht({imports:[YA]})}}return n})();var Lb=$b(QA()),eD=$b(JA());var Xt=[];for(let n=0;n<256;++n)Xt.push((n+256).toString(16).slice(1));function XA(n,e=0){return(Xt[n[e+0]]+Xt[n[e+1]]+Xt[n[e+2]]+Xt[n[e+3]]+"-"+Xt[n[e+4]]+Xt[n[e+5]]+"-"+Xt[n[e+6]]+Xt[n[e+7]]+"-"+Xt[n[e+8]]+Xt[n[e+9]]+"-"+Xt[n[e+10]]+Xt[n[e+11]]+Xt[n[e+12]]+Xt[n[e+13]]+Xt[n[e+14]]+Xt[n[e+15]]).toLowerCase()}var Ob,K2=new Uint8Array(16);function Pb(){if(!Ob){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ob=crypto.getRandomValues.bind(crypto)}return Ob(K2)}var W2=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Fb={randomUUID:W2};function Y2(n,e,t){if(Fb.randomUUID&&!e&&!n)return Fb.randomUUID();n=n||{};let r=n.random||(n.rng||Pb)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=r[i];return e}return XA(r)}var pd=Y2;var Xr=class n{constructor(e,t){this.http=e;this.router=t;let r=JSON.parse(localStorage.getItem("currentUser")||"{}");this.currentUserSubject=new Mt(r),this.currentUser=this.currentUserSubject.asObservable()}userId;sessionID;lineageFileCreationSessionID;userName;currentUserSubject;currentUser;generateUUID(){return pd()}get currentUserValue(){return this.currentUserSubject.value}login(e,t){return this.http.get("assets/user.json").pipe(Te(r=>{let i=r.find(o=>o.user===e&&o.password===t);if(i)return this.userId=i.id.toString(),this.userName=i.user,this.sessionID=this.generateUUID(),this.router.navigate(["/home"]),i.authdata=window.btoa(e+":"+t),localStorage.setItem("currentUser",JSON.stringify(i)),this.currentUserSubject.next(i),i;throw new Error("Invalid username or password")}))}logout(){sessionStorage.removeItem("currentUser"),this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)(oe(Ll),oe(nn))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};var on=class n{constructor(e,t){this.http=e;this.authenticationService=t;window.addEventListener("beforeunload",this.clearSessionStorage.bind(this))}userId;userName;loginSessionID;functionality;lineageFileCreationSessionID;clearSessionStorage(e){sessionStorage.clear()}downloadFile(e){return this.http.get(e,{responseType:"blob"})}uploadFile(e,t){this.userId=this.authenticationService.userId,this.userName=this.authenticationService.userName,this.loginSessionID=this.authenticationService.sessionID,this.lineageFileCreationSessionID=this.authenticationService.lineageFileCreationSessionID;let r=new Date().toISOString(),i=new FormData;i.append("user_id",this.userId),i.append("login_session_id",this.loginSessionID),i.append("timestamp",r),i.append("username",this.userName),i.append("file_data",e,e.name),i.append("functionality",t?"TRANSFORMATION_FILES_CREATION":"LINEAGE_CREATION");let o=this.createFunctionalitySessionID();return i.append("functionality_session_id",o),this.http.post(rr.API_HOST_ROOT,i).pipe(Yt(s=>this.handleError(s)))}createFunctionalitySessionID(){let e=pd();return sessionStorage.setItem("functionalitySessionID",e),e}handleError(e){let t="An unknown error occurred!";return e.status===400?e.error&&typeof e.error=="string"?t=`Error 400: ${e.error}`:t="Error 400: Bad Request. Please check your file and try again.":e.status===504?t="Error 504: Gateway Timeout. The server took too long to respond. Please try again later.":e.status===502?t="Server error 502: Bad Gateway. Please try again later.":e.status>=500?t=`Server error ${e.status}: ${e.message}. Please try again later.`:t=`Error ${e.status}: ${e.message}`,Mr(()=>new Error(t))}submitForm(e,t){this.userId=this.authenticationService.userId,this.userName=this.authenticationService.userName||"",this.loginSessionID=this.authenticationService.sessionID,this.lineageFileCreationSessionID=this.authenticationService.lineageFileCreationSessionID;let r=new Date().toISOString(),i=new FormData;i.append("username",this.userName),i.append("file_data",t,t.name),i.append("functionality","LINEAGE_WITH_TRANSFORMATION_CREATION"),i.append("resource_name",e.resource_name),i.append("user_id",this.userId),i.append("login_session_id",this.loginSessionID),i.append("lineage_file_creation_session_id",this.lineageFileCreationSessionID),i.append("timestamp",r);let o=this.createFunctionalitySessionID();return i.append("functionality_session_id",o),this.http.post(rr.API_HOST_ROOT,i).pipe(Yt(s=>this.handleError(s)))}submitJobForm(e){this.userId=this.authenticationService.userId,this.userName=this.authenticationService.userName||"",this.loginSessionID=this.authenticationService.sessionID;let t=new FormData,r=new Date().toISOString();t.append("functionality","JOB_MONITORING");let i=this.createFunctionalitySessionID();return t.append("functionality_session_id",i),t.append("job_id",e.job_id),t.append("timestamp",r),t.append("username",this.userName),t.append("user_id",this.userId),t.append("login_session_id",this.loginSessionID),this.http.post(rr.API_HOST_ROOT,t).pipe(Yt(o=>this.handleError(o)))}submitBusinessAssociationForm(e,t){this.userId=this.authenticationService.userId,this.userName=this.authenticationService.userName||"",this.loginSessionID=this.authenticationService.sessionID;let r=new FormData,i=new Date().toISOString();r.append("file_data",t,t.name),r.append("timestamp",i),r.append("functionality","BUSINESS_TERMS_ASSOCIATION");let o=this.createFunctionalitySessionID();return r.append("functionality_session_id",o),r.append("sheet_name",e.sheet_selected),r.append("user_id",this.userId),r.append("username",this.userName),r.append("login_session_id",this.loginSessionID),this.http.post(rr.API_HOST_ROOT,r).pipe(Yt(s=>this.handleError(s)))}submitBusinessTermsCreation(e,t){this.userId=this.authenticationService.userId,this.userName=this.authenticationService.userName||"",this.loginSessionID=this.authenticationService.sessionID;let r=new FormData,i=new Date().toISOString();r.append("file_data",t,t.name),r.append("timestamp",i),r.append("functionality","BUSINESS_TERMS_CREATION_UPDATION");let o=this.createFunctionalitySessionID();return r.append("functionality_session_id",o),r.append("user_id",this.userId),r.append("username",this.userName),r.append("login_session_id",this.loginSessionID),this.http.post(rr.API_HOST_ROOT,r).pipe(Yt(s=>this.handleError(s)))}downloadAndZipFile(e,t){let r=atob(e),i=new Uint8Array(r.length);for(let s=0;s<r.length;s++)i[s]=r.charCodeAt(s);if(i[0]===80&&i[1]===75){let s=new Blob([i],{type:"application/zip"});(0,Lb.saveAs)(s,`${t}.zip`)}else{let s=new eD.default;s.file(`${t}.txt`,r),s.generateAsync({type:"blob"}).then(a=>{(0,Lb.saveAs)(a,`${t}.zip`)})}}static \u0275fac=function(t){return new(t||n)(oe(Ll),oe(Xr))};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})};var Q2=["fileInput"],Z2=n=>({width:n}),J2=n=>({"text-danger":n});function X2(n,e){if(n&1&&(x(0,"div",17),F(1),D()),n&2){let t=Xe();te(),tn(" ",t.errorMessage," ")}}function eU(n,e){if(n&1&&(x(0,"div"),F(1),c0(2,"number"),D()),n&2){let t=Xe();te(),tn(" File size: ",l0(2,1,t.fileSizeInMB,"1.2-2")," MB ")}}function tU(n,e){n&1&&(x(0,"div",18),ye(1,"i",19),F(2," File uploaded successfully! "),D())}function nU(n,e){n&1&&ye(0,"img",20)}function rU(n,e){if(n&1){let t=pn();x(0,"huk-button",21),Me("click",function(){hn(t);let i=Xe();return fn(i.uploadFile())}),D()}if(n&2){let t=Xe();se("disabled",t.isUploadDisabled)("text",t.buttonTitle)}}function iU(n,e){if(n&1){let t=pn();x(0,"huk-button",22),Me("click",function(){hn(t);let i=Xe();return fn(i.resetForm())}),D()}if(n&2){let t=Xe();se("disabled",t.isUploadDisabled)}}function oU(n,e){if(n&1){let t=pn();x(0,"div",23)(1,"div",24)(2,"h5"),F(3,"Download the lineage creation file using the link provided below:"),D(),x(4,"div",25),F(5),x(6,"button",26),Me("click",function(){hn(t);let i=Xe();return fn(i.downloadFile())}),ro(),x(7,"svg",27),ye(8,"path",28),D(),F(9," Download "),D()()()()}if(n&2){let t=Xe();te(5),tn(" ",t.fileName," ")}}function sU(n,e){if(n&1){let t=pn();x(0,"div",29)(1,"div",30)(2,"h5",31),F(3,"Error Report"),D(),x(4,"p",32),F(5,"There was an issue with your submission. Please download the error report for more details."),D(),x(6,"button",26),Me("click",function(){hn(t);let i=Xe();return fn(i.downloadFile())}),ro(),x(7,"svg",27),ye(8,"path",28),D(),F(9," Download Error Report "),D()()()}if(n&2){let t=Xe();te(2),se("ngClass",as(1,J2,t.downloadError))}}function aU(n,e){n&1&&(x(0,"div",33)(1,"huk-form-message",34)(2,"ol")(3,"li"),F(4,"Upload the valid Excel format file, Browse it from the folder or you can drag and drop from valid path."),D(),x(5,"li"),F(6,"Wait for the file to be uploaded successfully."),D(),x(7,"li"),F(8,"After uploaded there is will be option below to download file (ZIP format)."),D()()()())}var ei=class n{constructor(e,t,r){this.uploadService=e;this.authenticationService=t;this.formBuilder=r;this.uploadForm=this.formBuilder.group({file:[null,Tr.required]})}file;zipData;downloadError=!1;fileName="transformations";fileNames=[];jsonData;show=!1;isUploadDisabled=!0;showUploadButton=!0;showResetButton=!0;showFormMessage=!0;fileSelected=new Ke;allowedExtensions=["xlsx","xls","xlsm","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel.sheet.macroEnabled.12"];fileError;fileInput;errorMessage=null;fileSize=null;fileSizeInGB=null;uploadSuccess=null;applyMargin=!0;resetUpload;isLineageCreation=!0;downloadResponseChange=new Ke;ngOnChanges(e){this.resetUpload&&this.resetForm(),e.isLineageCreation&&(this.buttonTitle=this.isLineageCreation?"Create Transformation File":"Create Mapping File",this.fileName=this.isLineageCreation?"transformations":"lineage")}resetForm(){this.fileInput&&(this.fileInput.nativeElement.value=""),this.errorMessage=null,this.fileSize=null,this.uploadSuccess=null,this.downloadResponse=!1,this.isUploadDisabled=!0}downloadFile(){let e=this.zipData;this.uploadService.downloadAndZipFile(e,this.fileName)}uploadEvent(e){let t=e.target;if(t.files.length!==1){this.errorMessage="Please upload only one file at a time.";return}this.file=t.files[0],this.selectedFile=this.file,this.isUploadDisabled=!1;let r=5,i=r*1024*1024,o=this.file.name;this.fileSize=this.file.size,this.fileSizeInMB=this.convertBytesToMB(this.fileSize);let s=this.file.type;if(this.userId=this.authenticationService.userId,!this.allowedExtensions.includes(o)&&!this.allowedExtensions.includes(s)){this.errorMessage="File content is invalid, Please upload excel format.";return}if(this.file.size>i){this.errorMessage=`File size exceeds ${r} MB`,alert(`File size exceeds ${r} MB`);return}t.files&&t.files.length>0&&(this.errorMessage="");let a={file:this.file,isDisabled:this.isUploadDisabled};this.fileSelected.emit(a)}convertBytesToMB(e){return e/(1024*1024)}uploadFile(){this.isUploadDisabled=!1;let e=document.querySelector('input[type="file"]');if(!e.files||e.files.length===0)this.errorMessage="Please select a file to upload.",setTimeout(()=>{this.errorMessage=null},3e3);else{this.show=!0;let t=new Promise((i,o)=>setTimeout(()=>o(new Error("Request timed out, please try uploading again")),20*60*1e3)),r=this.uploadService.uploadFile(this.file,this.isLineageCreation).toPromise();Promise.race([r,t]).then(i=>{if(i.is_successful){this.resetUpload=!1,this.show=!1,this.uploadSuccess=!0,this.submitSuccess=!0,this.downloadError=!1;let o={file:this.file,isDisabled:this.isUploadDisabled};this.fileSelected.emit(o),this.downloadResponse=!0,this.downloadResponseChange.emit(this.downloadResponse),this.zipData=i["zip-data"],e.value="",setTimeout(()=>{this.uploadSuccess=!1},1e4)}else this.zipData=i["zip-data"],this.downloadErrorReport(this.zipData),this.submitSuccess=!1,this.uploadSuccess=!1,this.show=!1,this.downloadError=!0,this.resetUpload=!0,e.value="",this.handleError("Submission was not successful.")}).catch(i=>{this.resetUpload=!1,this.errorMessage=i.message,this.show=!1,this.submitSuccess=!1,this.uploadSuccess=!1,this.downloadResponse=!1})}}handleError(e){this.resetUpload=!1,this.errorMessage=e,this.submitSuccess=!1,this.show=!1,setTimeout(()=>{this.errorMessage=null},3e3)}downloadErrorReport(e){let t=this.base64ToBlob(e,"application/zip");this.fileName="error_report",this.downloadResponse=!0,this.show=!1,this.isInputDisabled=!0}base64ToBlob(e,t){let r=atob(e),i=new Array(r.length);for(let s=0;s<r.length;s++)i[s]=r.charCodeAt(s);let o=new Uint8Array(i);return new Blob([o],{type:t})}static \u0275fac=function(t){return new(t||n)(T(on),T(Xr),T(sr))};static \u0275cmp=ue({type:n,selectors:[["app-upload"]],viewQuery:function(t,r){if(t&1&&Fa(Q2,5),t&2){let i;is(i=os())&&(r.fileInput=i.first)}},inputs:{showUploadButton:"showUploadButton",showResetButton:"showResetButton",showFormMessage:"showFormMessage",applyMargin:"applyMargin",resetUpload:"resetUpload",isLineageCreation:"isLineageCreation"},outputs:{fileSelected:"fileSelected",downloadResponseChange:"downloadResponseChange"},standalone:!0,features:[ci,gt],decls:23,vars:12,consts:[["fileInput",""],[1,"child-container"],[3,"ngStyle"],[1,"file-upload-wrapper"],[1,"fontTitle"],["type","file","accept",".xlsx, .xls, .xlsm","multiple","false","id","formFile","required","",1,"file-upload-input","form-control",2,"display","block","width","100%","margin-top","10px",3,"change"],["class","text-danger",4,"ngIf"],[4,"ngIf"],["class","text-success",4,"ngIf"],[1,"font-weight-normal"],["src","assets/Dual Ring-1s-110px.gif","width","50","height","50","alt","Example Image",4,"ngIf"],[1,"button-group","mt-3"],["hukclass","btn-secondary btn-md","type","button",3,"disabled","text","click",4,"ngIf"],["hukclass","btn-secondary-paired btn-md","text","Reset","type","button",3,"disabled","click",4,"ngIf"],["class","container mt-3",4,"ngIf"],["class","card mt-4",4,"ngIf"],["style","width:45%; padding-left:15px; margin-top: 4%;",4,"ngIf"],[1,"text-danger"],[1,"text-success"],[1,"fa","fa-check-circle"],["src","assets/Dual Ring-1s-110px.gif","width","50","height","50","alt","Example Image"],["hukclass","btn-secondary btn-md","type","button",3,"click","disabled","text"],["hukclass","btn-secondary-paired btn-md","text","Reset","type","button",3,"click","disabled"],[1,"container","mt-3"],[1,"mt-4","p-5","text-black","rounded"],[1,"mt-3"],[1,"btn","btn-outline-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"svgClass"],["d","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"],[1,"card","mt-4"],[1,"card-body"],[1,"card-title",3,"ngClass"],[1,"card-text"],[2,"width","45%","padding-left","15px","margin-top","4%"],["type","info"]],template:function(t,r){if(t&1){let i=pn();x(0,"div",1)(1,"form",2)(2,"div")(3,"div")(4,"div",3)(5,"span",4),F(6,"Drag and Drop file here"),D(),x(7,"input",5,0),Me("change",function(s){return hn(i),fn(r.uploadEvent(s))}),D(),Je(9,X2,2,1,"div",6),ye(10,"br"),Je(11,eU,3,4,"div",7)(12,tU,3,0,"div",8),x(13,"span",9),F(14,"Supported file formats: xlsx or xls"),D(),x(15,"div"),Je(16,nU,1,0,"img",10),D(),x(17,"div",11),Je(18,rU,1,2,"huk-button",12)(19,iU,1,1,"huk-button",13),D()(),Je(20,oU,10,1,"div",14),D()()(),Je(21,sU,10,3,"div",15)(22,aU,9,0,"div",16),D()}t&2&&(te(),se("ngStyle",as(10,Z2,r.applyMargin?"39%":"")),te(8),se("ngIf",r.errorMessage),te(2),se("ngIf",r.fileSize),te(),se("ngIf",r.uploadSuccess),te(4),se("ngIf",r.show),te(2),se("ngIf",r.showUploadButton),te(),se("ngIf",r.showResetButton),te(),se("ngIf",r.downloadResponse&&!r.downloadError),te(),se("ngIf",r.downloadResponse&&r.downloadError),te(),se("ngIf",r.showFormMessage))},dependencies:[Rt,Ba,Dn,R0,N0,Zc,or,ir,Mb,ar],styles:[".file-upload-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:#f7f7f7;flex-direction:column;border:2px dashed #ccc;padding:1rem;margin-bottom:1rem;margin-top:10%;border-radius:10px;cursor:pointer}.mt-5[_ngcontent-%COMP%], .my-5[_ngcontent-%COMP%]{margin-top:2rem!important}.svgClass[_ngcontent-%COMP%]{font-size:16px;height:1.5em;cursor:pointer}.fontTitle[_ngcontent-%COMP%]{color:#3a5a78;font-weight:800;font-size:large}.child-container[_ngcontent-%COMP%]{justify-content:flex-end}.dropzone[_ngcontent-%COMP%]{height:156px}.btn-outline-primary[_ngcontent-%COMP%]{color:#3a5a78!important;border-color:1px solid #151515!important}.svgClass[_ngcontent-%COMP%]{fill:#3a5a78}.btn-outline-primary[_ngcontent-%COMP%]:focus{border-color:#4a6a88!important;background-color:#8da4b5!important}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#8da4b5!important;border-color:#4a6a88!important}.button-group[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:10px}.form-control[_ngcontent-%COMP%]{display:block;width:30%}.success-icon[_ngcontent-%COMP%]{color:green;font-size:1.5em;margin-top:10px}.error-icon[_ngcontent-%COMP%]{color:red}.reset-icon[_ngcontent-%COMP%]{color:red;font-size:1.5em;cursor:pointer;margin-top:10px}.file-upload-wrapper.success[_ngcontent-%COMP%]{border-color:green}.file-upload-wrapper.error[_ngcontent-%COMP%]{border-color:red}.file-dropper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.image-name[_ngcontent-%COMP%]{font-weight:700}.image-preview[_ngcontent-%COMP%]{max-width:100%;height:auto;margin-bottom:.5rem;border-radius:10px}.delete-icon[_ngcontent-%COMP%]{cursor:pointer;color:red}"]})};function tD(){var n=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&n.push(import("./chunk-M7TN3VWW.js"));var t=function(){try{var r=new URL("b","http://a");return r.pathname="c%20d",r.href==="http://a/c%20d"&&r.searchParams}catch{return!1}};(typeof Object.assign!="function"||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!t()||typeof WeakMap>"u")&&n.push(import("./chunk-WD2J3DBP.js"))}return Promise.all(n)}Gb();var cU=()=>{},nD=()=>Promise.all([qb(),cU()]);var rD=(n,e)=>S(void 0,null,function*(){if(!(typeof window>"u"))return yield nD(),Kb(JSON.parse('[["huk-table-xc",[[1,"huk-table-xc",{"caption":[1],"captionDescription":[1,"caption-description"],"collapsefade":[4],"collapsenumrows":[2],"gridlines":[4],"hoverhighlight":[4],"mobilebreakpoint":[2],"nodatamessage":[1],"refresh":[2],"striped":[4],"tablejson":[1025],"internalRefresh":[32],"numRows":[32],"tableSorted":[32]},[[0,"hukPopoverDisplay","handlePopoverDisplayed"],[9,"resize","checkWindowSize"]],{"refresh":["refreshChangeHandler"],"tablejson":["validateTableJSON"]}]]],["huk-google-address",[[1,"huk-google-address",{"borderradius":[1],"disabled":[1540],"googlemapsapikey":[1],"hasaptfield":[4],"hastwolines":[4],"netsensitive":[4],"nodisabledtext":[4],"nooptionaltext":[4],"required":[4],"requiredasterisk":[4],"size":[1],"statesmaxheight":[1]},[[8,"hukNetworkEvent","handleNetworkEvent"]],{"borderradius":["borderRadiusChangeHandler"],"size":["sizeChangeHandler"]}]]],["huk-checkbox-group",[[1,"huk-checkbox-group",{"altversion":[4],"datamissing":[1],"disabled":[1540],"eventinfo":[1],"grouplabel":[1],"horizontal":[4],"labelformat":[1],"netsensitive":[4],"nodisabledtext":[4],"nooptionaltext":[4],"nopadding":[4],"required":[4],"requiredasterisk":[4],"secondaryalt":[4],"showdatamissing":[4],"value":[1537],"verticalstacked":[4],"checkboxValuesArray":[32],"showErrMsg":[32],"setMessageText":[64]},[[8,"hukNetworkEvent","handleNetworkEvent"]],{"disabled":["disabledChangeHandler"],"labelformat":["labelFormatChangeHandler"],"showdatamissing":["messageHandler"],"value":["getCheckboxValuesArray"]}]]],["huk-modal",[[1,"huk-modal",{"alert":[1],"arialabel":[1],"backgroundnoclose":[4],"closeicon":[4],"eventinfo":[1],"footerbuttons":[1],"headercenter":[4],"headertitle":[1],"hukid":[1],"iconclass":[1],"size":[1],"verticalcenter":[4],"width":[1],"footerButtonsArray":[32],"modalOpened":[32],"screenMin":[32],"present":[64],"dismiss":[64]},[[0,"hukClick","handleHukClick"],[8,"hukOpenModal","handleHukOpenModal"],[4,"keydown","handleEscape"],[0,"hukModalFocus","handleHukModalFocusEvent"],[9,"resize","checkWindowSize"]],{"alert":["alertChangeHandler"],"footerbuttons":["getFooterButtonsArray"],"size":["sizeChangeHandler"]}]]],["huk-alert",[[1,"huk-alert",{"borderradius":[1],"colorpalette":[1],"dismissible":[4],"noborder":[4],"noicon":[4],"isDisplayed":[32]},null,{"borderradius":["borderRadiusChangeHandler"],"colorpalette":["colorPaletteChangeHandler"]}]]],["huk-card",[[1,"huk-card",{"borderradius":[1],"colorpalette":[1],"fill":[1],"hasfooter":[4],"hasheader":[4],"iconheading":[1],"imagecapbottom":[1],"imagecaptop":[1],"leftheading":[1],"leftheadingformat":[1],"padding":[1],"rightheading":[1],"rightheadingformat":[1],"subtlecolor":[4],"textcolor":[1]},null,{"borderradius":["borderRadiusChangeHandler"],"colorpalette":["colorPaletteChangeHandler"],"fill":["fillChangeHandler"],"leftheadingformat":["leftHeadingFormatChangeHandler"],"padding":["paddingChangeHandler"],"rightheadingformat":["rightHeadingFormatChangeHandler"],"textcolor":["textColorChangeHandler"]}]]],["huk-checkbox-group-tile",[[1,"huk-checkbox-group-tile",{"alignment":[1],"datamissing":[1],"disabled":[1540],"eventinfo":[1],"grouplabel":[1],"labelformat":[1],"netsensitive":[4],"nodisabledtext":[4],"nooptionaltext":[4],"nopadding":[4],"required":[4],"requiredasterisk":[4],"showdatamissing":[4],"size":[1],"tilewidth":[1],"value":[1537],"verticalstacked":[4],"checkboxTilesArray":[32],"screenMin":[32],"showErrMsg":[32],"setMessageText":[64]},[[8,"hukNetworkEvent","handleNetworkEvent"],[9,"resize","checkSize"]],{"alignment":["alignmentChangeHandler"],"disabled":["disabledChangeHandler"],"labelformat":["labelFormatChangeHandler"],"showdatamissing":["messageHandler"],"size":["sizeChangeHandler"],"value":["getCheckboxTilesArray"]}]]],["huk-checkbox-tile",[[1,"huk-checkbox-tile",{"disabled":[1540],"eventinfo":[1],"icon":[1025],"label":[1],"netsensitive":[4],"size":[1],"tilewidth":[1],"value":[1540]},[[8,"hukNetworkEvent","handleNetworkEvent"]],{"size":["sizeChangeHandler"]}]]],["huk-file-upload",[[1,"huk-file-upload",{"acceptedfiles":[1],"btnclass":[1],"dropzoneproperties":[1],"eventinfo":[1],"headers":[1],"hukid":[1],"icon":[1],"maxFiles":[8,"max-files"],"noremovelinks":[4],"nothumbnail":[4],"paramName":[1,"param-name"],"timeout":[2],"url":[1]},null,{"dropzoneproperties":["dropzonePropertiesChangeHandler"]}]]],["huk-multiselect-dropdown",[[1,"huk-multiselect-dropdown",{"arialabel":[1],"compact":[4],"datamissing":[1],"disabled":[1540],"dropdownwidth":[1],"dropposition":[1],"eventinfo":[1],"helpertext":[1],"helpertextformat":[1],"hiddenhelpertext":[1],"hukid":[1],"inputwidth":[1],"label":[1],"labelformat":[1],"netsensitive":[4],"nodisabledtext":[4],"nohelpertextonerror":[4],"nooptionaltext":[4],"nopadding":[4],"optionslistheight":[1],"placeholder":[1],"refresh":[2],"relative":[4],"required":[4],"requiredasterisk":[4],"selectedcount":[4],"showdatamissing":[4],"size":[1],"sortby":[1],"sortdirection":[1],"value":[1537],"isShown":[32],"optionsUpdated":[32],"showIntErrMsg":[32]},[[10,"click","handleWindowClickEvent"],[8,"hukNetworkEvent","handleNetworkEvent"],[9,"resize","getDropdownSize"]],{"isShown":["handleIsShownChange"],"disabled":["disabledChangeHandler"],"dropposition":["dropPositionChangeHandler"],"helpertextformat":["helperTextFormatChangeHandler"],"hukid":["hukIdChangeHandler"],"labelformat":["labelFormatChangeHandler"],"refresh":["refreshChangeHandler"],"showdatamissing":["showDataMissingChangeHandler"],"size":["sizeChangeHandler"],"sortby":["sortByChangeHandler"],"sortdirection":["sortDirectionChangeHandler"],"value":["validateAvailableOptions"]}]]],["huk-multiselect-panel",[[1,"huk-multiselect-panel",{"arialabel":[1],"arialabelright":[1],"datamissing":[1],"disabled":[1540],"eventinfo":[1],"label":[1],"labelformat":[1],"labelright":[1],"labelrightformat":[1],"netsensitive":[4],"nodisabledtext":[4],"nooptionaltext":[4],"nopadding":[4],"refresh":[2],"required":[4],"requiredasterisk":[4],"showdatamissing":[4],"sortby":[1],"sortdirection":[1],"value":[1537],"iLeftPanelOptions":[32],"iRightPanelOptions":[32],"showIntErrMsg":[32]},[[8,"hukNetworkEvent","handleNetworkEvent"]],{"disabled":["disabledChangeHandler"],"labelformat":["labelLeftFormatChangeHandler"],"labelrightformat":["labelRightFormatChangeHandler"],"refresh":["refreshChangeHandler"],"showdatamissing":["showDataMissingChangeHandler"],"sortby":["sortByChangeHandler"],"sortdirection":["sortDirectionChangeHandler"],"value":["validateAvailableOptions"]}]]],["huk-panel",[[1,"huk-panel",{"btnclosetext":[1],"btnopentext":[1],"btnwidth":[2],"collapsible":[4],"expanded":[1540],"heading":[1],"icon":[1],"nocareticon":[4],"subpanel":[4]}]]],["huk-progress-bar",[[1,"huk-progress-bar",{"activeStepIndex":[1026,"active-step-index"],"clickable":[4],"eventinfo":[1],"steps":[1],"iSteps":[32],"stepBackward":[64],"stepForward":[64]},null,{"steps":["validateSteps"]}]]],["huk-radio-button",[[1,"huk-radio-button",{"datamissing":[1],"disabled":[1540],"eventinfo":[1],"grouplabel":[1],"iconclass":[1],"inputwidth":[1],"labelformat":[1],"netsensitive":[4],"nodisabledtext":[4],"nooptionaltext":[4],"nopadding":[4],"options":[1],"required":[4],"requiredasterisk":[4],"showdatamissing":[4],"value":[1537],"verticalstacked":[4],"radioOptionsArray":[32],"showErrMsg":[32],"setMessageText":[64]},[[8,"hukNetworkEvent","handleNetworkEvent"]],{"disabled":["disabledChangeHandler"],"labelformat":["labelFormatChangeHandler"],"options":["getRadioOptionsArray"],"showdatamissing":["messageHandler"]}]]],["huk-radio-tile",[[1,"huk-radio-tile",{"alignment":[1],"datamissing":[1],"disabled":[1540],"eventinfo":[1],"grouplabel":[1],"labelformat":[1],"netsensitive":[4],"nodisabledtext":[4],"nooptionaltext":[4],"nopadding":[4],"options":[1],"required":[4],"requiredasterisk":[4],"showdatamissing":[4],"size":[1],"tilewidth":[1],"value":[1537],"verticalstacked":[4],"radioOptionsArray":[32],"screenMin":[32],"showErrMsg":[32],"setMessageText":[64]},[[8,"hukNetworkEvent","handleNetworkEvent"],[9,"resize","checkSize"]],{"alignment":["alignmentChangeHandler"],"disabled":["disabledChangeHandler"],"labelformat":["labelFormatChangeHandler"],"options":["getRadioOptionsArray"],"showdatamissing":["messageHandler"],"size":["sizeChangeHandler"]}]]],["huk-stepper",[[1,"huk-stepper",{"activeStepIndex":[1026,"active-step-index"],"checkmark":[4],"eventinfo":[1],"halocolor":[1],"refresh":[2],"steps":[1],"iRefresh":[32],"iSteps":[32],"stepBackward":[64],"stepForward":[64]},null,{"halocolor":["haloColorChangeHandler"],"steps":["validateSteps"]}]]],["huk-table",[[1,"huk-table",{"caption":[1],"captionDescription":[1,"caption-description"],"collapsefade":[4],"collapsenumrows":[2],"gridlines":[4],"hoverhighlight":[4],"nodatamessage":[1],"striped":[4],"tablejson":[1],"isMobile":[32],"numRows":[32],"tableSorted":[32]},[[9,"resize","checkWindowSize"]],{"tablejson":["validateTableJSON"]}]]],["huk-tabs",[[1,"huk-tabs",{"activetabid":[1],"eventinfo":[1],"noautoswitch":[4],"refresh":[2],"tabwidth":[2],"iActiveTabId":[32],"internalRefresh":[32]},[[10,"click","handleWindowClickEvent"],[0,"hukTabChangedEvent","hukTabChangedEventListener"],[9,"resize","resizeListener"]],{"activetabid":["updateActiveId"]}]]],["huk-accordion",[[1,"huk-accordion",null,[[0,"hukPanelClick","handleHukPanelClick"]]]]],["huk-bar-graph",[[1,"huk-bar-graph",{"categoryAxisLabel":[1,"category-axis-label"],"categoryAxisOffset":[2,"category-axis-offset"],"categoryLabelSize":[1,"category-label-size"],"categoryTextSize":[1,"category-text-size"],"data":[1],"header":[1],"headerSize":[1,"header-size"],"height":[2],"maxValue":[2,"max-value"],"minValue":[2,"min-value"],"order":[1],"orientation":[1],"padding":[2],"showAxisLabels":[4,"show-axis-labels"],"showticks":[4],"showTransitions":[4,"show-transitions"],"tooltipHorizontalOffset":[2,"tooltip-horizontal-offset"],"tooltipSize":[1,"tooltip-size"],"tooltipVerticalOffset":[2,"tooltip-vertical-offset"],"transitionTime":[2,"transition-time"],"valueAxisLabel":[1,"value-axis-label"],"valueAxisOffset":[2,"value-axis-offset"],"valueLabelSize":[1,"value-label-size"],"valueTextSize":[1,"value-text-size"],"width":[2],"internalRefresh":[32]},null,{"order":["orderChangeHandler"],"orientation":["orientationChangeHandler"]}]]],["huk-label",[[1,"huk-label",{"colorpalette":[1],"labelState":[32],"updateLabelState":[64]},[[2,"click","handleClick"]],{"colorpalette":["colorPaletteChangeHandler"]}]]],["huk-option",[[1,"huk-option",{"disabled":[4],"hukid":[1],"value":[1]},null,{"hukid":["hukIdChangeHandler"]}]]],["huk-paginator",[[1,"huk-paginator",{"activepage":[1538],"altmobileview":[4],"pages":[2],"pagesdisplayed":[2],"intPagesArray":[32],"pageClicked":[32],"screenMin":[32]},[[9,"resize","checkSize"]],{"activepage":["updateIntActivePage"],"pages":["updateIntPages"],"pagesdisplayed":["updateIntPagesDisplayed"]}]]],["huk-pen",[[1,"huk-pen"]]],["huk-pie-chart",[[1,"huk-pie-chart",{"catName":[1,"cat-name"],"chartHeader":[1,"chart-header"],"details":[1],"headerHeightOffset":[2,"header-height-offset"],"headerWidthOffset":[2,"header-width-offset"],"height":[2],"hideLegend":[4,"hide-legend"],"hidePieText":[4,"hide-pie-text"],"pieChartType":[1,"pie-chart-type"],"showTransitions":[4,"show-transitions"],"strokeColor":[1,"stroke-color"],"tooltipOffsetX":[2,"tooltip-offset-x"],"tooltipOffsetY":[2,"tooltip-offset-y"],"transitionDuration":[2,"transition-duration"],"width":[2]},null,{"pieChartType":["pieChartTypeChangeHandler"]}]]],["huk-radio",[[1,"huk-radio",{"arialabel":[1],"checked":[1028],"disabled":[4],"hukid":[1],"size":[1],"value":[1],"iTabIndex":[32],"setRadioFocus":[64],"setTabIndex":[64]},null,{"hukid":["hukIdChangeHandler"],"size":["sizeChangeHandler"]}]]],["huk-radio-group",[[1,"huk-radio-group",{"arialabel":[1],"datamissing":[1],"datavalid":[1],"disabled":[1540],"disablevalidation":[4],"eventinfo":[1],"helpertext":[1],"helpertextformat":[1],"hiddenhelpertext":[1],"horizontal":[4],"hukid":[1],"label":[1],"labelformat":[1],"netsensitive":[4],"nodisabledtext":[4],"nohelpertextonvalidation":[4],"nooptionaltext":[4],"options":[1],"required":[4],"requiredasterisk":[4],"reverse":[4],"showdatamissing":[4],"showdatavalid":[4],"size":[1],"value":[1537],"verticalstacked":[4],"iOptions":[32],"showIntErrMsg":[32],"showIntValidMsg":[32]},[[8,"hukNetworkEvent","handleNetworkEvent"],[0,"hukRadioClick","handleHukRadioClick"],[0,"hukRadioKeyDown","handleHukRadioKeyDown"]],{"disabled":["disabledChangeHandler"],"helpertextformat":["helperTextFormatChangeHandler"],"hukid":["hukIdChangeHandler"],"labelformat":["labelFormatChangeHandler"],"options":["optionsChangeHandler"],"showdatamissing":["showDataMissingChangeHandler"],"showdatavalid":["showDataValidChangeHandler"],"size":["sizeChangeHandler"],"value":["valueChangeHandler"]}]]],["huk-storybook",[[1,"huk-storybook",{"header":[1]}]]],["huk-tab",[[1,"huk-tab",{"active":[4],"disabled":[4],"maxheight":[1],"nopadding":[4],"tabid":[1],"tabnotification":[1],"tabtitle":[1]},null,{"tabnotification":["tabNotificationChangeHandler"]}]]],["huk-toast",[[1,"huk-toast",{"closeButtonText":[513,"close-button-text"],"cssClass":[513,"css-class"],"duration":[520],"message":[513],"position":[513],"showCloseButton":[516,"show-close-button"],"displayToast":[64]},null,{"duration":["validateDuration"],"position":["positionChangeHandler"],"showCloseButton":["validateShowCloseButton"]}]]],["huk-wrapper",[[1,"huk-wrapper",null,[[2,"hukLabelClick","handleHukLabelClick"]]]]],["huk-checkbox",[[1,"huk-checkbox",{"altversion":[4],"disabled":[1540],"eventinfo":[1],"label":[1],"labelformat":[1],"netsensitive":[4],"secondaryalt":[4],"size":[1],"value":[1540]},[[8,"hukNetworkEvent","handleNetworkEvent"]],{"labelformat":["labelFormatChangeHandler"],"size":["sizeChangeHandler"]}]]],["huk-assets_9",[[1,"huk-header",{"headertype":[1],"mobilemenu":[4],"navtitle":[1],"nobreadcrumb":[4],"primarynavalert":[1],"primarynavleft":[1],"primarynavlogolink":[1],"primarynavright":[1],"refresh":[2],"searchfield":[4],"searchicon":[1],"searchplaceholder":[1],"searchresults":[1],"searchresultsmaxheight":[1],"secondarynav":[1025],"showgithub":[4],"fullheader":[32],"internalRefresh":[32],"primaryNavAlert":[32],"primaryNavAlertsArray":[32],"primaryNavLeftArray":[32],"primaryNavLogoLink":[32],"primaryNavRightArray":[32],"screenMin":[32],"secondaryNavArray":[32],"toggleNavOpen":[32],"clearAllAlerts":[64],"loadAlerts":[64],"removeAlerts":[64]},[[9,"resize","checkWindowSize"]],{"toggleNavOpen":["toggleNavOpenChangeHandler"],"headertype":["headerTypeChangeHandler"],"primarynavalert":["getPrimaryNavAlertDropdown"],"primarynavleft":["getPrimaryNavLeftArray"],"primarynavlogolink":["getPrimaryNavLogoLink"],"primarynavright":["getPrimaryNavRightArray"],"refresh":["headerRefresh"],"secondarynav":["getSecondaryNavArray"]}],[1,"huk-side-nav",{"alertsmaxheight":[1],"defaultcollapsed":[4],"nocollapse":[4],"sidenav":[1],"sidenavalert":[1],"sidenavbottom":[1],"sidenavlogolink":[1],"internalRefresh":[32],"navAlert":[32],"navAlertsArray":[32],"screenMin":[32],"toggleMobileNav":[32],"toggleSideNav":[32],"clearAllAlerts":[64],"loadAlerts":[64],"removeAlerts":[64]},[[10,"click","handleWindowClickEvent"],[9,"resize","checkWindowSize"]],{"toggleSideNav":["toggleSideNavChangeHandler"],"defaultcollapsed":["checkDefaultCollapsed"],"nocollapse":["checkNoCollapse"],"sidenav":["getSideNavArray"],"sidenavalert":["getSideNavAlert"],"sidenavbottom":["getSideNavBottomArray"],"sidenavlogolink":["getSideNavLogoLink"]}],[1,"huk-footer",{"additionallinks":[1],"links":[1],"theme":[1],"type":[513],"footerMarginTop":[32]},[[9,"resize","checkWindowSize"]],{"additionallinks":["validateAdditionalLinks"],"links":["validateCustomLinks"],"theme":["themeChangeHandler"],"type":["typeChangeHandler"]}],[1,"huk-header-internal",{"fullheader":[4],"primarynavlogolink":[1]},[[9,"resize","checkWindowSize"]],{"primarynavlogolink":["getPrimaryNavLogoLink"]}],[1,"huk-search",{"aligntext":[1],"arialabel":[1],"autocomplete":[1],"borderradius":[1],"debounce":[2],"disabled":[1540],"dropposition":[1],"eventinfo":[1],"helpertext":[1],"helpertextformat":[1],"hiddenhelpertext":[1],"hukid":[1],"includeuservalue":[4],"inputspellcheck":[4],"inputwidth":[1],"internalparsing":[4],"label":[1],"labelformat":[1],"leftaddonstring":[1],"lefticonclass":[1],"menuemptytext":[1],"menumaxheight":[1],"menuwidth":[1],"netsensitive":[4],"noclearbutton":[4],"nodescriptionmatch":[4],"nodisabledtext":[4],"nosearchbutton":[4],"numcharsearch":[2],"outlinesearchbutton":[4],"placeholder":[1],"rightaddonstring":[1],"righticonclass":[1],"searchresults":[1],"size":[1],"sortresults":[1],"value":[1025],"virtualenterkeyhint":[1],"focusIndex":[32],"parsedOptions":[32],"showClearButton":[32],"showMenu":[32],"manuallyFocus":[64]},[[8,"hukNetworkEvent","handleNetworkEvent"],[11,"mousedown","handleWindowMouseDownEvent"],[9,"resize","handleResizeEvent"]],{"focusIndex":["focusIndexChangeHandler"],"aligntext":["alignTextChangeHandler"],"autocomplete":["autocompleteAttrChangeHandler"],"borderradius":["borderRadiusChangeHandler"],"debounce":["debounceChangeHandler"],"dropposition":["dropPositionChangeHandler"],"helpertextformat":["helperTextFormatChangeHandler"],"hukid":["hukIdChangeHandler"],"labelformat":["labelFormatChangeHandler"],"searchresults":["searchResultsChangeHandler"],"size":["sizeChangeHandler"],"sortresults":["sortResultsChangeHandler"],"value":["valueChangeHandler"],"virtualenterkeyhint":["virtualEnterKeyHintChangeHandler"]}],[1,"huk-badge",{"colorpalette":[1],"fill":[1],"pill":[4],"subtlecolor":[4],"version":[4]},null,{"colorpalette":["colorPaletteChangeHandler"],"fill":["fillChangeHandler"]}],[17,"huk-button",{"arialabel":[1],"borderradius":[1],"clicktext":[1],"colorpalette":[1],"disabled":[1540],"download":[1],"eventinfo":[1],"expand":[4],"fill":[1],"form":[1],"href":[1],"hukclass":[1],"hukid":[1],"iconclass":[1],"load":[1028],"netsensitive":[4],"rel":[1],"setfocus":[1028],"showmore":[1028],"size":[1],"target":[1],"text":[1],"type":[1],"isShowingMore":[32],"loadSpinner":[64],"unloadSpinner":[64]},[[8,"hukLoadSpinner","handleLoadSpinner"],[8,"hukNetworkEvent","handleNetworkEvent"],[8,"hukUnloadSpinner","handleUnloadSpinner"]],{"borderradius":["borderRadiusChangeHandler"],"colorpalette":["colorPaletteChangeHandler"],"disabled":["disabledChangHandler"],"fill":["fillChangeHandler"],"hukclass":["hukClassChangeHandler"],"size":["sizeChangeHandler"],"text":["textChangeHandler"],"type":["typeChangeHandler"]}],[0,"huk-assets",{"altText":[1,"alt-text"],"hukimage":[1]},null,{"hukimage":["watchHandler"]}],[2,"huk-icon",{"arialabel":[1],"colorpalette":[1],"disabled":[4],"eventinfo":[1],"focusable":[1028],"icon":[1],"icontitle":[1],"istoggled":[1028],"lazy":[4],"library":[1],"name":[513],"sanitize":[4],"size":[1],"src":[1],"toggle":[1028],"isVisible":[32],"svgContent":[32]},[[0,"blur","handleBlur"],[0,"click","handleClick"],[0,"focus","handleFocus"],[0,"keydown","handleKeyDown"]],{"colorpalette":["colorPaletteChangeHandler"],"library":["libraryChangeHandler"],"icon":["loadIcon"],"name":["loadIcon"],"src":["loadIcon"],"istoggled":["toggleChangeHandler"],"toggle":["toggleChangeHandler"]}]]],["huk-popover",[[1,"huk-popover",{"alignment":[1],"arialabel":[1],"buttontext":[1],"disabled":[1540],"eventinfo":[1],"hukclass":[1],"hukid":[1],"icon":[1],"iconcolor":[1],"netsensitive":[4],"nocloseicon":[4],"popoverplacement":[1],"popovertitle":[1],"type":[1],"show":[32]},[[10,"click","handleWindowClickEvent"],[8,"hukClosePopover","handleHukClosePopover"],[8,"hukNetworkEvent","handleNetworkEvent"],[4,"keydown","handleEscape"]],{"alignment":["alignmentChangeHandler"],"hukclass":["updateHukClasses"],"hukid":["hukIdChangeHandler"],"popoverplacement":["popoverPlacementChangeHandler"],"type":["typeChangeHandler"]}]]],["huk-input-field_2",[[1,"huk-select",{"aligntext":[1],"arialabel":[1],"borderradius":[1],"datamissing":[1],"datavalid":[1],"disabled":[1540],"disablevalidation":[4],"dropposition":[1],"eventinfo":[1],"gbxunmask":[4],"helpertext":[1],"helpertextformat":[1],"hiddenhelpertext":[1],"hukid":[1],"inputwidth":[1],"label":[1],"labelformat":[1],"leftaddonstring":[1],"lefticonclass":[1],"menuemptytext":[1],"menumaxheight":[1],"menuwidth":[1],"multiselect":[4],"name":[1],"netsensitive":[4],"noclearbutton":[4],"nodisabledtext":[4],"nohelpertextonvalidation":[4],"nooptionaltext":[4],"options":[1],"placeholder":[1],"refresh":[2],"relative":[4],"required":[4],"requiredasterisk":[4],"rightaddonstring":[1],"righticonclass":[1],"setfocus":[1028],"showdatamissing":[4],"showdatavalid":[4],"size":[1],"value":[1025],"focusIndex":[32],"showClearButton":[32],"showIntErrMsg":[32],"showIntValidMsg":[32],"showMenu":[32],"manuallyFocus":[64]},[[8,"hukNetworkEvent","handleNetworkEvent"],[0,"hukOptionClick","handleHukOptionClick"],[0,"hukOptionKeyDown","handleHukOptionKeyDown"],[11,"mousedown","handleWindowMouseDownEvent"],[9,"resize","handleResizeEvent"]],{"focusIndex":["handleFocusIndexChange"],"showIntValidMsg":["showIntValidMsgChangeHandler"],"showMenu":["handleShowOptionsChange"],"aligntext":["alignTextChangeHandler"],"borderradius":["borderRadiusChangeHandler"],"disabled":["disabledChangeHandler"],"dropposition":["dropPositionChangeHandler"],"helpertextformat":["helperTextFormatChangeHandler"],"hukid":["hukIdChangeHandler"],"labelformat":["labelFormatChangeHandler"],"options":["optionsChangeHandler"],"refresh":["refreshChangeHandler"],"showdatamissing":["showDataMissingChangeHandler"],"showdatavalid":["showDataValidChangeHandler"],"size":["sizeChangeHandler"],"value":["valueChangeHandler"]}],[1,"huk-input-field",{"aligntext":[1],"arialabel":[1],"autocomplete":[1],"autoheight":[4],"borderradius":[1],"dataerror":[1],"datamissing":[1],"datavalid":[1],"dateformat":[1],"dateyearprepend":[1],"decimalplaces":[2],"disabled":[1540],"disablevalidation":[4],"eventinfo":[1],"gbxunmask":[4],"helpertext":[1],"helpertextformat":[1],"hiddenhelpertext":[1],"hukclass":[1],"hukid":[1],"inputspellcheck":[4],"inputwidth":[1],"label":[1],"labelformat":[1],"leftaddonstring":[1],"lefticonclass":[1],"masked":[4],"max":[2],"maxdate":[1],"maxheight":[1],"maxlength":[2],"min":[2],"mindate":[1],"minlength":[2],"name":[1],"netsensitive":[4],"nocharactercount":[4],"nodisabledtext":[4],"nohelpertextonvalidation":[4],"nooptionaltext":[4],"pattern":[1],"placeholder":[1],"readonly":[4],"refresh":[2],"required":[4],"requiredasterisk":[4],"revealicon":[4],"rightaddonstring":[1],"righticonclass":[1],"rows":[2],"setfocus":[1028],"showdataerror":[4],"showdatamissing":[4],"showdatavalid":[4],"size":[1],"step":[2],"type":[1],"value":[1025],"virtualenterkeyhint":[1],"iconViewState":[32],"showIntErrMsg":[32],"showIntValidMsg":[32],"manuallyFocus":[64]},[[8,"hukNetworkEvent","handleNetworkEvent"]],{"iconViewState":["iconViewStateChangeHandler"],"aligntext":["alignTextChangeHandler"],"autocomplete":["autocompleteAttrChangeHandler"],"borderradius":["borderRadiusChangeHandler"],"dateformat":["dateFormatChangeHandler"],"dateyearprepend":["dateYearPrependChangeHandler"],"decimalplaces":["decimalPlacesChangeHandler"],"disabled":["disabledChangeHandler"],"helpertextformat":["helperTextFormatChangeHandler"],"hukclass":["hukClassChangeHandler"],"hukid":["hukIdChangeHandler"],"labelformat":["labelFormatChangeHandler"],"masked":["maskedChangeHandler"],"max":["maxChangeHandler"],"maxdate":["maxDateChangeHandler"],"min":["minChangeHandler"],"mindate":["minDateChangeHandler"],"pattern":["patternChangeHandler"],"refresh":["refreshChangeHandler"],"revealicon":["revealIconChangeHandler"],"showdataerror":["showDataErrorChangeHandler"],"showdatamissing":["showDataMissingChangeHandler"],"showdatavalid":["showDataValidChangeHandler"],"size":["sizeChangeHandler"],"step":["stepChangeHandler"],"type":["typeChangeHandler"],"value":["valueChangeHandler"],"virtualenterkeyhint":["virtualEnterKeyHintChangeHandler"]}]]],["huk-autocomplete_3",[[1,"huk-datepicker",{"arialabel":[1],"backgroundnoclose":[4],"borderradius":[1],"buttons":[4],"cancelbtnclass":[1],"cancelbtntext":[1],"confirmbtnclass":[1],"confirmbtntext":[1],"dataerror":[1],"datamissing":[1],"dateformat":[1],"defaultfocusdate":[1],"disabled":[1540],"disableddates":[1],"disablevalidation":[4],"dropposition":[1],"enableddates":[1],"eventinfo":[1],"gbxunmask":[4],"helpertext":[1],"helpertextformat":[1],"hiddenhelpertext":[1],"hukid":[1],"inputwidth":[1],"label":[1],"labelformat":[1],"maxdate":[1],"mindate":[1],"multiselect":[4],"netsensitive":[4],"noclearbutton":[4],"nodisabledtext":[4],"nohelpertextonerror":[4],"noinputfield":[4],"nomanualentry":[4],"nooptionaltext":[4],"nopadding":[4],"placeholder":[1],"refresh":[2],"relative":[4],"required":[4],"requiredasterisk":[4],"showdataerror":[4],"showdatamissing":[4],"size":[1],"value":[1537],"yearprepend":[1],"dateFound":[32],"datepickerDivWidth":[32],"showClearButton":[32],"showIntErrMsg":[32]},[[0,"hukCalendarButtonPressed","handleCalendarButtonPressed"],[8,"hukNetworkEvent","handleNetworkEvent"],[11,"mousedown","handleWindowMouseDownEvent"]],{"borderradius":["borderRadiusChangeHandler"],"cancelbtnclass":["cancelBtnClassChangeHandler"],"confirmbtnclass":["confirmBtnClassChangeHandler"],"dateformat":["dateFormatChangeHandler"],"defaultfocusdate":["verifyDefaultFocusDate"],"disabled":["disabledChangeHandler"],"disableddates":["getDisabledDatesArray"],"dropposition":["dropPositionChangeHandler"],"enableddates":["getEnabledDatesArray"],"helpertextformat":["helperTextFormatChangeHandler"],"hukid":["hukIdChangeHandler"],"labelformat":["labelFormatChangeHandler"],"maxdate":["verifyMaxDate"],"mindate":["verifyMinDate"],"refresh":["refreshChangeHandler"],"showdataerror":["showDataErrorChangeHandler"],"showdatamissing":["showDataMissingChangeHandler"],"size":["sizeChangeHandler"],"value":["valueHandler"],"yearprepend":["yearPrependChangeHandler"]}],[1,"huk-autocomplete",{"aligntext":[1],"arialabel":[1],"borderradius":[1],"containsmatch":[4],"dataerror":[1],"datamissing":[1],"datavalid":[1],"disabled":[1540],"disablevalidation":[4],"dropposition":[1],"eventinfo":[1],"freeform":[4],"gbxunmask":[4],"helpertext":[1],"helpertextformat":[1],"hiddenhelpertext":[1],"hukid":[1],"inputwidth":[1],"isnumeric":[4],"label":[1],"labelformat":[1],"leftaddonstring":[1],"lefticonclass":[1],"maxlength":[2],"menumaxheight":[1],"menuwidth":[1],"minlength":[2],"name":[1],"netsensitive":[4],"nocharactercount":[4],"noclearbutton":[4],"nodisabledtext":[4],"nohelpertextonvalidation":[4],"nooptionaltext":[4],"nooptionssort":[4],"numcharsearch":[2],"options":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"refresh":[2],"relative":[4],"required":[4],"requiredasterisk":[4],"rightaddonstring":[1],"righticonclass":[1],"showallclick":[4],"showdataerror":[4],"showdatamissing":[4],"showdatavalid":[4],"size":[1],"value":[1025],"virtualenterkeyhint":[1],"focusIndex":[32],"parsedOptions":[32],"showClearButton":[32],"showIntErrMsg":[32],"showIntValidMsg":[32],"showMenu":[32],"manuallyFocus":[64]},[[8,"hukNetworkEvent","handleNetworkEvent"],[11,"mousedown","handleWindowMouseDownEvent"],[9,"resize","handleResizeEvent"]],{"focusIndex":["focusIndexChangeHandler"],"showIntValidMsg":["showIntValidMsgChangeHandler"],"showMenu":["showMenuChangeHandler"],"aligntext":["alignTextChangeHandler"],"borderradius":["borderRadiusChangeHandler"],"containsmatch":["containsMatchChangeHandler"],"disabled":["disabledChangeHandler"],"dropposition":["dropPositionChangeHandler"],"freeform":["freeformChangeHandler"],"helpertextformat":["helperTextFormatChangeHandler"],"hukid":["hukIdChangeHandler"],"labelformat":["labelFormatChangeHandler"],"options":["optionsChangeHandler"],"pattern":["patternChangeHandler"],"refresh":["refreshChangeHandler"],"showdataerror":["showDataErrorChangeHandler"],"showdatamissing":["showDataMissingChangeHandler"],"showdatavalid":["showDataValidChangeHandler"],"size":["sizeChangeHandler"],"value":["valueChangeHandler"],"virtualenterkeyhint":["virtualEnterKeyHintChangeHandler"]}],[1,"huk-toggle",{"arialabel":[1],"checkmark":[4],"compact":[4],"disabled":[1540],"eventinfo":[1],"grouplabel":[1],"hukid":[1],"labelformat":[1],"netsensitive":[4],"nodisabledtext":[4],"nopadding":[4],"size":[1],"textoff":[1],"texton":[1],"value":[1540]},[[8,"hukNetworkEvent","handleNetworkEvent"]],{"labelformat":["labelFormatChangeHandler"],"size":["sizeChangeHandler"]}]]]]'),e)});var Fe=["*"],lU=(n,e)=>{let t=n.prototype;e.forEach(r=>{Object.defineProperty(t,r,{get(){return this.el[r]},set(i){this.z.runOutsideAngular(()=>this.el[r]=i)},configurable:!0})})},uU=(n,e)=>{let t=n.prototype;e.forEach(r=>{t[r]=function(){let i=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,i))}})},Be=(n,e,t)=>{t.forEach(r=>n[r]=ul(e,r))};function Le(n){return function(t){let{defineCustomElementFn:r,inputs:i,methods:o}=n;return r!==void 0&&r(),i&&lU(t,i),o&&uU(t,o),t}}var dU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-accordion"]],ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({})],n),n})(),hU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukAlertClosed","hukError"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-alert"]],inputs:{borderradius:"borderradius",colorpalette:"colorpalette",dismissible:"dismissible",noborder:"noborder",noicon:"noicon"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["borderradius","colorpalette","dismissible","noborder","noicon"]})],n),n})(),fU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukBlur","hukCleared","hukError","hukFocus","hukInput","hukInvalid","hukInvalidPattern","hukLabelUpdate","hukMenuOpened","hukSelected","hukTrackableEvent","hukValid"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-autocomplete"]],inputs:{aligntext:"aligntext",arialabel:"arialabel",borderradius:"borderradius",containsmatch:"containsmatch",dataerror:"dataerror",datamissing:"datamissing",datavalid:"datavalid",disabled:"disabled",disablevalidation:"disablevalidation",dropposition:"dropposition",eventinfo:"eventinfo",freeform:"freeform",gbxunmask:"gbxunmask",helpertext:"helpertext",helpertextformat:"helpertextformat",hiddenhelpertext:"hiddenhelpertext",hukid:"hukid",inputwidth:"inputwidth",isnumeric:"isnumeric",label:"label",labelformat:"labelformat",leftaddonstring:"leftaddonstring",lefticonclass:"lefticonclass",maxlength:"maxlength",menumaxheight:"menumaxheight",menuwidth:"menuwidth",minlength:"minlength",name:"name",netsensitive:"netsensitive",nocharactercount:"nocharactercount",noclearbutton:"noclearbutton",nodisabledtext:"nodisabledtext",nohelpertextonvalidation:"nohelpertextonvalidation",nooptionaltext:"nooptionaltext",nooptionssort:"nooptionssort",numcharsearch:"numcharsearch",options:"options",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",refresh:"refresh",relative:"relative",required:"required",requiredasterisk:"requiredasterisk",rightaddonstring:"rightaddonstring",righticonclass:"righticonclass",showallclick:"showallclick",showdataerror:"showdataerror",showdatamissing:"showdatamissing",showdatavalid:"showdatavalid",size:"size",value:"value",virtualenterkeyhint:"virtualenterkeyhint"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["aligntext","arialabel","borderradius","containsmatch","dataerror","datamissing","datavalid","disabled","disablevalidation","dropposition","eventinfo","freeform","gbxunmask","helpertext","helpertextformat","hiddenhelpertext","hukid","inputwidth","isnumeric","label","labelformat","leftaddonstring","lefticonclass","maxlength","menumaxheight","menuwidth","minlength","name","netsensitive","nocharactercount","noclearbutton","nodisabledtext","nohelpertextonvalidation","nooptionaltext","nooptionssort","numcharsearch","options","pattern","placeholder","readonly","refresh","relative","required","requiredasterisk","rightaddonstring","righticonclass","showallclick","showdataerror","showdatamissing","showdatavalid","size","value","virtualenterkeyhint"],methods:["manuallyFocus"]})],n),n})(),pU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-badge"]],inputs:{colorpalette:"colorpalette",fill:"fill",pill:"pill",subtlecolor:"subtlecolor",version:"version"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["colorpalette","fill","pill","subtlecolor","version"]})],n),n})(),mU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-bar-graph"]],inputs:{categoryAxisLabel:"categoryAxisLabel",categoryAxisOffset:"categoryAxisOffset",categoryLabelSize:"categoryLabelSize",categoryTextSize:"categoryTextSize",data:"data",header:"header",headerSize:"headerSize",height:"height",maxValue:"maxValue",minValue:"minValue",order:"order",orientation:"orientation",padding:"padding",showAxisLabels:"showAxisLabels",showTransitions:"showTransitions",showticks:"showticks",tooltipHorizontalOffset:"tooltipHorizontalOffset",tooltipSize:"tooltipSize",tooltipVerticalOffset:"tooltipVerticalOffset",transitionTime:"transitionTime",valueAxisLabel:"valueAxisLabel",valueAxisOffset:"valueAxisOffset",valueLabelSize:"valueLabelSize",valueTextSize:"valueTextSize",width:"width"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["categoryAxisLabel","categoryAxisOffset","categoryLabelSize","categoryTextSize","data","header","headerSize","height","maxValue","minValue","order","orientation","padding","showAxisLabels","showTransitions","showticks","tooltipHorizontalOffset","tooltipSize","tooltipVerticalOffset","transitionTime","valueAxisLabel","valueAxisOffset","valueLabelSize","valueTextSize","width"]})],n),n})(),Vi=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukBlur","hukClick","hukError","hukFocus","hukTrackableEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-button"]],inputs:{arialabel:"arialabel",borderradius:"borderradius",clicktext:"clicktext",colorpalette:"colorpalette",disabled:"disabled",download:"download",eventinfo:"eventinfo",expand:"expand",fill:"fill",form:"form",href:"href",hukclass:"hukclass",hukid:"hukid",iconclass:"iconclass",load:"load",netsensitive:"netsensitive",rel:"rel",setfocus:"setfocus",showmore:"showmore",size:"size",target:"target",text:"text",type:"type"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["arialabel","borderradius","clicktext","colorpalette","disabled","download","eventinfo","expand","fill","form","href","hukclass","hukid","iconclass","load","netsensitive","rel","setfocus","showmore","size","target","text","type"],methods:["loadSpinner","unloadSpinner"]})],n),n})(),gU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-card"]],inputs:{borderradius:"borderradius",colorpalette:"colorpalette",fill:"fill",hasfooter:"hasfooter",hasheader:"hasheader",iconheading:"iconheading",imagecapbottom:"imagecapbottom",imagecaptop:"imagecaptop",leftheading:"leftheading",leftheadingformat:"leftheadingformat",padding:"padding",rightheading:"rightheading",rightheadingformat:"rightheadingformat",subtlecolor:"subtlecolor",textcolor:"textcolor"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["borderradius","colorpalette","fill","hasfooter","hasheader","iconheading","imagecapbottom","imagecaptop","leftheading","leftheadingformat","padding","rightheading","rightheadingformat","subtlecolor","textcolor"]})],n),n})(),Ub=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError","hukInput","hukTrackableEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-checkbox"]],inputs:{altversion:"altversion",disabled:"disabled",eventinfo:"eventinfo",label:"label",labelformat:"labelformat",netsensitive:"netsensitive",secondaryalt:"secondaryalt",size:"size",value:"value"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["altversion","disabled","eventinfo","label","labelformat","netsensitive","secondaryalt","size","value"]})],n),n})(),vU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukBlur","hukError","hukInput","hukTrackableEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-checkbox-group"]],inputs:{altversion:"altversion",datamissing:"datamissing",disabled:"disabled",eventinfo:"eventinfo",grouplabel:"grouplabel",horizontal:"horizontal",labelformat:"labelformat",netsensitive:"netsensitive",nodisabledtext:"nodisabledtext",nooptionaltext:"nooptionaltext",nopadding:"nopadding",required:"required",requiredasterisk:"requiredasterisk",secondaryalt:"secondaryalt",showdatamissing:"showdatamissing",value:"value",verticalstacked:"verticalstacked"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["altversion","datamissing","disabled","eventinfo","grouplabel","horizontal","labelformat","netsensitive","nodisabledtext","nooptionaltext","nopadding","required","requiredasterisk","secondaryalt","showdatamissing","value","verticalstacked"],methods:["setMessageText"]})],n),n})(),yU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukBlur","hukError","hukInput","hukTrackableEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-checkbox-group-tile"]],inputs:{alignment:"alignment",datamissing:"datamissing",disabled:"disabled",eventinfo:"eventinfo",grouplabel:"grouplabel",labelformat:"labelformat",netsensitive:"netsensitive",nodisabledtext:"nodisabledtext",nooptionaltext:"nooptionaltext",nopadding:"nopadding",required:"required",requiredasterisk:"requiredasterisk",showdatamissing:"showdatamissing",size:"size",tilewidth:"tilewidth",value:"value",verticalstacked:"verticalstacked"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["alignment","datamissing","disabled","eventinfo","grouplabel","labelformat","netsensitive","nodisabledtext","nooptionaltext","nopadding","required","requiredasterisk","showdatamissing","size","tilewidth","value","verticalstacked"],methods:["setMessageText"]})],n),n})(),CU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError","hukInput","hukRemoveTileClick","hukTrackableEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-checkbox-tile"]],inputs:{disabled:"disabled",eventinfo:"eventinfo",icon:"icon",label:"label",netsensitive:"netsensitive",size:"size",tilewidth:"tilewidth",value:"value"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["disabled","eventinfo","icon","label","netsensitive","size","tilewidth","value"]})],n),n})(),bU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukBlur","hukCleared","hukDatepickerClose","hukDatepickerOpen","hukError","hukInput","hukTrackableEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-datepicker"]],inputs:{arialabel:"arialabel",backgroundnoclose:"backgroundnoclose",borderradius:"borderradius",buttons:"buttons",cancelbtnclass:"cancelbtnclass",cancelbtntext:"cancelbtntext",confirmbtnclass:"confirmbtnclass",confirmbtntext:"confirmbtntext",dataerror:"dataerror",datamissing:"datamissing",dateformat:"dateformat",defaultfocusdate:"defaultfocusdate",disabled:"disabled",disableddates:"disableddates",disablevalidation:"disablevalidation",dropposition:"dropposition",enableddates:"enableddates",eventinfo:"eventinfo",gbxunmask:"gbxunmask",helpertext:"helpertext",helpertextformat:"helpertextformat",hiddenhelpertext:"hiddenhelpertext",hukid:"hukid",inputwidth:"inputwidth",label:"label",labelformat:"labelformat",maxdate:"maxdate",mindate:"mindate",multiselect:"multiselect",netsensitive:"netsensitive",noclearbutton:"noclearbutton",nodisabledtext:"nodisabledtext",nohelpertextonerror:"nohelpertextonerror",noinputfield:"noinputfield",nomanualentry:"nomanualentry",nooptionaltext:"nooptionaltext",nopadding:"nopadding",placeholder:"placeholder",refresh:"refresh",relative:"relative",required:"required",requiredasterisk:"requiredasterisk",showdataerror:"showdataerror",showdatamissing:"showdatamissing",size:"size",value:"value",yearprepend:"yearprepend"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["arialabel","backgroundnoclose","borderradius","buttons","cancelbtnclass","cancelbtntext","confirmbtnclass","confirmbtntext","dataerror","datamissing","dateformat","defaultfocusdate","disabled","disableddates","disablevalidation","dropposition","enableddates","eventinfo","gbxunmask","helpertext","helpertextformat","hiddenhelpertext","hukid","inputwidth","label","labelformat","maxdate","mindate","multiselect","netsensitive","noclearbutton","nodisabledtext","nohelpertextonerror","noinputfield","nomanualentry","nooptionaltext","nopadding","placeholder","refresh","relative","required","requiredasterisk","showdataerror","showdatamissing","size","value","yearprepend"]})],n),n})(),wU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError","hukTrackableEvent","hukUploadEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-file-upload"]],inputs:{acceptedfiles:"acceptedfiles",btnclass:"btnclass",dropzoneproperties:"dropzoneproperties",eventinfo:"eventinfo",headers:"headers",hukid:"hukid",icon:"icon",maxFiles:"maxFiles",noremovelinks:"noremovelinks",nothumbnail:"nothumbnail",paramName:"paramName",timeout:"timeout",url:"url"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["acceptedfiles","btnclass","dropzoneproperties","eventinfo","headers","hukid","icon","maxFiles","noremovelinks","nothumbnail","paramName","timeout","url"]})],n),n})(),EU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-footer"]],inputs:{additionallinks:"additionallinks",links:"links",theme:"theme",type:"type"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["additionallinks","links","theme","type"]})],n),n})(),_U=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-google-address"]],inputs:{borderradius:"borderradius",disabled:"disabled",googlemapsapikey:"googlemapsapikey",hasaptfield:"hasaptfield",hastwolines:"hastwolines",netsensitive:"netsensitive",nodisabledtext:"nodisabledtext",nooptionaltext:"nooptionaltext",required:"required",requiredasterisk:"requiredasterisk",size:"size",statesmaxheight:"statesmaxheight"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["borderradius","disabled","googlemapsapikey","hasaptfield","hastwolines","netsensitive","nodisabledtext","nooptionaltext","required","requiredasterisk","size","statesmaxheight"]})],n),n})(),IU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukAlertAdded","hukAlertRemoved","hukAlertsCleared","hukError","hukHeaderSearchInput","hukNavClick","hukNavToggled"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-header"]],inputs:{headertype:"headertype",mobilemenu:"mobilemenu",navtitle:"navtitle",nobreadcrumb:"nobreadcrumb",primarynavalert:"primarynavalert",primarynavleft:"primarynavleft",primarynavlogolink:"primarynavlogolink",primarynavright:"primarynavright",refresh:"refresh",searchfield:"searchfield",searchicon:"searchicon",searchplaceholder:"searchplaceholder",searchresults:"searchresults",searchresultsmaxheight:"searchresultsmaxheight",secondarynav:"secondarynav",showgithub:"showgithub"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["headertype","mobilemenu","navtitle","nobreadcrumb","primarynavalert","primarynavleft","primarynavlogolink","primarynavright","refresh","searchfield","searchicon","searchplaceholder","searchresults","searchresultsmaxheight","secondarynav","showgithub"],methods:["clearAllAlerts","loadAlerts","removeAlerts"]})],n),n})(),TU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-header-internal"]],inputs:{fullheader:"fullheader",primarynavlogolink:"primarynavlogolink"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["fullheader","primarynavlogolink"]})],n),n})(),md=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukBlur","hukClick","hukError","hukFocus","hukTrackableEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-icon"]],inputs:{arialabel:"arialabel",colorpalette:"colorpalette",disabled:"disabled",eventinfo:"eventinfo",focusable:"focusable",icon:"icon",icontitle:"icontitle",istoggled:"istoggled",lazy:"lazy",library:"library",name:"name",sanitize:"sanitize",size:"size",src:"src",toggle:"toggle"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["arialabel","colorpalette","disabled","eventinfo","focusable","icon","icontitle","istoggled","lazy","library","name","sanitize","size","src","toggle"]})],n),n})(),zi=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukBlur","hukError","hukFocus","hukInput","hukInvalid","hukInvalidPattern","hukLabelUpdate","hukTrackableEvent","hukValid"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-input-field"]],inputs:{aligntext:"aligntext",arialabel:"arialabel",autocomplete:"autocomplete",autoheight:"autoheight",borderradius:"borderradius",dataerror:"dataerror",datamissing:"datamissing",datavalid:"datavalid",dateformat:"dateformat",dateyearprepend:"dateyearprepend",decimalplaces:"decimalplaces",disabled:"disabled",disablevalidation:"disablevalidation",eventinfo:"eventinfo",gbxunmask:"gbxunmask",helpertext:"helpertext",helpertextformat:"helpertextformat",hiddenhelpertext:"hiddenhelpertext",hukclass:"hukclass",hukid:"hukid",inputspellcheck:"inputspellcheck",inputwidth:"inputwidth",label:"label",labelformat:"labelformat",leftaddonstring:"leftaddonstring",lefticonclass:"lefticonclass",masked:"masked",max:"max",maxdate:"maxdate",maxheight:"maxheight",maxlength:"maxlength",min:"min",mindate:"mindate",minlength:"minlength",name:"name",netsensitive:"netsensitive",nocharactercount:"nocharactercount",nodisabledtext:"nodisabledtext",nohelpertextonvalidation:"nohelpertextonvalidation",nooptionaltext:"nooptionaltext",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",refresh:"refresh",required:"required",requiredasterisk:"requiredasterisk",revealicon:"revealicon",rightaddonstring:"rightaddonstring",righticonclass:"righticonclass",rows:"rows",setfocus:"setfocus",showdataerror:"showdataerror",showdatamissing:"showdatamissing",showdatavalid:"showdatavalid",size:"size",step:"step",type:"type",value:"value",virtualenterkeyhint:"virtualenterkeyhint"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["aligntext","arialabel","autocomplete","autoheight","borderradius","dataerror","datamissing","datavalid","dateformat","dateyearprepend","decimalplaces","disabled","disablevalidation","eventinfo","gbxunmask","helpertext","helpertextformat","hiddenhelpertext","hukclass","hukid","inputspellcheck","inputwidth","label","labelformat","leftaddonstring","lefticonclass","masked","max","maxdate","maxheight","maxlength","min","mindate","minlength","name","netsensitive","nocharactercount","nodisabledtext","nohelpertextonvalidation","nooptionaltext","pattern","placeholder","readonly","refresh","required","requiredasterisk","revealicon","rightaddonstring","righticonclass","rows","setfocus","showdataerror","showdatamissing","showdatavalid","size","step","type","value","virtualenterkeyhint"],methods:["manuallyFocus"]})],n),n})(),SU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError","hukLabelClick"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-label"]],inputs:{colorpalette:"colorpalette"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["colorpalette"],methods:["updateLabelState"]})],n),n})(),AU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError","hukModalDismiss","hukTrackableEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-modal"]],inputs:{alert:"alert",arialabel:"arialabel",backgroundnoclose:"backgroundnoclose",closeicon:"closeicon",eventinfo:"eventinfo",footerbuttons:"footerbuttons",headercenter:"headercenter",headertitle:"headertitle",hukid:"hukid",iconclass:"iconclass",size:"size",verticalcenter:"verticalcenter",width:"width"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["alert","arialabel","backgroundnoclose","closeicon","eventinfo","footerbuttons","headercenter","headertitle","hukid","iconclass","size","verticalcenter","width"],methods:["present","dismiss"]})],n),n})(),DU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukBlur","hukClearAllClickEvent","hukError","hukFocus","hukOnChangeSelectionEvent","hukSelectAllClickEvent","hukTrackableEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-multiselect-dropdown"]],inputs:{arialabel:"arialabel",compact:"compact",datamissing:"datamissing",disabled:"disabled",dropdownwidth:"dropdownwidth",dropposition:"dropposition",eventinfo:"eventinfo",helpertext:"helpertext",helpertextformat:"helpertextformat",hiddenhelpertext:"hiddenhelpertext",hukid:"hukid",inputwidth:"inputwidth",label:"label",labelformat:"labelformat",netsensitive:"netsensitive",nodisabledtext:"nodisabledtext",nohelpertextonerror:"nohelpertextonerror",nooptionaltext:"nooptionaltext",nopadding:"nopadding",optionslistheight:"optionslistheight",placeholder:"placeholder",refresh:"refresh",relative:"relative",required:"required",requiredasterisk:"requiredasterisk",selectedcount:"selectedcount",showdatamissing:"showdatamissing",size:"size",sortby:"sortby",sortdirection:"sortdirection",value:"value"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["arialabel","compact","datamissing","disabled","dropdownwidth","dropposition","eventinfo","helpertext","helpertextformat","hiddenhelpertext","hukid","inputwidth","label","labelformat","netsensitive","nodisabledtext","nohelpertextonerror","nooptionaltext","nopadding","optionslistheight","placeholder","refresh","relative","required","requiredasterisk","selectedcount","showdatamissing","size","sortby","sortdirection","value"]})],n),n})(),kU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukBlur","hukError","hukMovedFromLeftPanelEvent","hukMovedFromRightPanelEvent","hukTrackableEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-multiselect-panel"]],inputs:{arialabel:"arialabel",arialabelright:"arialabelright",datamissing:"datamissing",disabled:"disabled",eventinfo:"eventinfo",label:"label",labelformat:"labelformat",labelright:"labelright",labelrightformat:"labelrightformat",netsensitive:"netsensitive",nodisabledtext:"nodisabledtext",nooptionaltext:"nooptionaltext",nopadding:"nopadding",refresh:"refresh",required:"required",requiredasterisk:"requiredasterisk",showdatamissing:"showdatamissing",sortby:"sortby",sortdirection:"sortdirection",value:"value"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["arialabel","arialabelright","datamissing","disabled","eventinfo","label","labelformat","labelright","labelrightformat","netsensitive","nodisabledtext","nooptionaltext","nopadding","refresh","required","requiredasterisk","showdatamissing","sortby","sortdirection","value"]})],n),n})(),MU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukOptionClick","hukOptionKeyDown"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-option"]],inputs:{disabled:"disabled",hukid:"hukid",value:"value"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["disabled","hukid","value"]})],n),n})(),xU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukClick","hukError"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-paginator"]],inputs:{activepage:"activepage",altmobileview:"altmobileview",pages:"pages",pagesdisplayed:"pagesdisplayed"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["activepage","altmobileview","pages","pagesdisplayed"]})],n),n})(),RU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError","hukPanelClick"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-panel"]],inputs:{btnclosetext:"btnclosetext",btnopentext:"btnopentext",btnwidth:"btnwidth",collapsible:"collapsible",expanded:"expanded",heading:"heading",icon:"icon",nocareticon:"nocareticon",subpanel:"subpanel"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["btnclosetext","btnopentext","btnwidth","collapsible","expanded","heading","icon","nocareticon","subpanel"]})],n),n})(),NU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-pie-chart"]],inputs:{catName:"catName",chartHeader:"chartHeader",details:"details",headerHeightOffset:"headerHeightOffset",headerWidthOffset:"headerWidthOffset",height:"height",hideLegend:"hideLegend",hidePieText:"hidePieText",pieChartType:"pieChartType",showTransitions:"showTransitions",strokeColor:"strokeColor",tooltipOffsetX:"tooltipOffsetX",tooltipOffsetY:"tooltipOffsetY",transitionDuration:"transitionDuration",width:"width"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["catName","chartHeader","details","headerHeightOffset","headerWidthOffset","height","hideLegend","hidePieText","pieChartType","showTransitions","strokeColor","tooltipOffsetX","tooltipOffsetY","transitionDuration","width"]})],n),n})(),OU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError","hukPopoverDisplay","hukTrackableEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-popover"]],inputs:{alignment:"alignment",arialabel:"arialabel",buttontext:"buttontext",disabled:"disabled",eventinfo:"eventinfo",hukclass:"hukclass",hukid:"hukid",icon:"icon",iconcolor:"iconcolor",netsensitive:"netsensitive",nocloseicon:"nocloseicon",popoverplacement:"popoverplacement",popovertitle:"popovertitle",type:"type"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["alignment","arialabel","buttontext","disabled","eventinfo","hukclass","hukid","icon","iconcolor","netsensitive","nocloseicon","popoverplacement","popovertitle","type"]})],n),n})(),PU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError","hukTrackableEvent","hukStepBackwardEvent","hukStepClickedEvent","hukStepForwardEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-progress-bar"]],inputs:{activeStepIndex:"activeStepIndex",clickable:"clickable",eventinfo:"eventinfo",steps:"steps"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["activeStepIndex","clickable","eventinfo","steps"],methods:["stepBackward","stepForward"]})],n),n})(),FU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError","hukRadioBlur","hukRadioClick","hukRadioFocus","hukRadioKeyDown"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-radio"]],inputs:{arialabel:"arialabel",checked:"checked",disabled:"disabled",hukid:"hukid",size:"size",value:"value"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["arialabel","checked","disabled","hukid","size","value"],methods:["setRadioFocus","setTabIndex"]})],n),n})(),LU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukBlur","hukClick","hukError","hukModalFocus","hukTrackableEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-radio-button"]],inputs:{datamissing:"datamissing",disabled:"disabled",eventinfo:"eventinfo",grouplabel:"grouplabel",iconclass:"iconclass",inputwidth:"inputwidth",labelformat:"labelformat",netsensitive:"netsensitive",nodisabledtext:"nodisabledtext",nooptionaltext:"nooptionaltext",nopadding:"nopadding",options:"options",required:"required",requiredasterisk:"requiredasterisk",showdatamissing:"showdatamissing",value:"value",verticalstacked:"verticalstacked"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["datamissing","disabled","eventinfo","grouplabel","iconclass","inputwidth","labelformat","netsensitive","nodisabledtext","nooptionaltext","nopadding","options","required","requiredasterisk","showdatamissing","value","verticalstacked"],methods:["setMessageText"]})],n),n})(),UU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukBlur","hukError","hukFocus","hukInput","hukInvalid","hukLabelUpdate","hukModalFocus","hukTrackableEvent","hukValid"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-radio-group"]],inputs:{arialabel:"arialabel",datamissing:"datamissing",datavalid:"datavalid",disabled:"disabled",disablevalidation:"disablevalidation",eventinfo:"eventinfo",helpertext:"helpertext",helpertextformat:"helpertextformat",hiddenhelpertext:"hiddenhelpertext",horizontal:"horizontal",hukid:"hukid",label:"label",labelformat:"labelformat",netsensitive:"netsensitive",nodisabledtext:"nodisabledtext",nohelpertextonvalidation:"nohelpertextonvalidation",nooptionaltext:"nooptionaltext",options:"options",required:"required",requiredasterisk:"requiredasterisk",reverse:"reverse",showdatamissing:"showdatamissing",showdatavalid:"showdatavalid",size:"size",value:"value",verticalstacked:"verticalstacked"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["arialabel","datamissing","datavalid","disabled","disablevalidation","eventinfo","helpertext","helpertextformat","hiddenhelpertext","horizontal","hukid","label","labelformat","netsensitive","nodisabledtext","nohelpertextonvalidation","nooptionaltext","options","required","requiredasterisk","reverse","showdatamissing","showdatavalid","size","value","verticalstacked"]})],n),n})(),HU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukBlur","hukError","hukInput","hukModalFocus","hukRemoveTileClick","hukTrackableEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-radio-tile"]],inputs:{alignment:"alignment",datamissing:"datamissing",disabled:"disabled",eventinfo:"eventinfo",grouplabel:"grouplabel",labelformat:"labelformat",netsensitive:"netsensitive",nodisabledtext:"nodisabledtext",nooptionaltext:"nooptionaltext",nopadding:"nopadding",options:"options",required:"required",requiredasterisk:"requiredasterisk",showdatamissing:"showdatamissing",size:"size",tilewidth:"tilewidth",value:"value",verticalstacked:"verticalstacked"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["alignment","datamissing","disabled","eventinfo","grouplabel","labelformat","netsensitive","nodisabledtext","nooptionaltext","nopadding","options","required","requiredasterisk","showdatamissing","size","tilewidth","value","verticalstacked"],methods:["setMessageText"]})],n),n})(),BU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukBlur","hukCleared","hukError","hukFocus","hukInput","hukLabelUpdate","hukMenuOpened","hukSearch","hukSelected","hukTrackableEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-search"]],inputs:{aligntext:"aligntext",arialabel:"arialabel",autocomplete:"autocomplete",borderradius:"borderradius",debounce:"debounce",disabled:"disabled",dropposition:"dropposition",eventinfo:"eventinfo",helpertext:"helpertext",helpertextformat:"helpertextformat",hiddenhelpertext:"hiddenhelpertext",hukid:"hukid",includeuservalue:"includeuservalue",inputspellcheck:"inputspellcheck",inputwidth:"inputwidth",internalparsing:"internalparsing",label:"label",labelformat:"labelformat",leftaddonstring:"leftaddonstring",lefticonclass:"lefticonclass",menuemptytext:"menuemptytext",menumaxheight:"menumaxheight",menuwidth:"menuwidth",netsensitive:"netsensitive",noclearbutton:"noclearbutton",nodescriptionmatch:"nodescriptionmatch",nodisabledtext:"nodisabledtext",nosearchbutton:"nosearchbutton",numcharsearch:"numcharsearch",outlinesearchbutton:"outlinesearchbutton",placeholder:"placeholder",rightaddonstring:"rightaddonstring",righticonclass:"righticonclass",searchresults:"searchresults",size:"size",sortresults:"sortresults",value:"value",virtualenterkeyhint:"virtualenterkeyhint"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["aligntext","arialabel","autocomplete","borderradius","debounce","disabled","dropposition","eventinfo","helpertext","helpertextformat","hiddenhelpertext","hukid","includeuservalue","inputspellcheck","inputwidth","internalparsing","label","labelformat","leftaddonstring","lefticonclass","menuemptytext","menumaxheight","menuwidth","netsensitive","noclearbutton","nodescriptionmatch","nodisabledtext","nosearchbutton","numcharsearch","outlinesearchbutton","placeholder","rightaddonstring","righticonclass","searchresults","size","sortresults","value","virtualenterkeyhint"],methods:["manuallyFocus"]})],n),n})(),Hb=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukBlur","hukCleared","hukError","hukFocus","hukInvalid","hukLabelUpdate","hukMenuOpened","hukSelected","hukTrackableEvent","hukUnselected","hukValid"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-select"]],inputs:{aligntext:"aligntext",arialabel:"arialabel",borderradius:"borderradius",datamissing:"datamissing",datavalid:"datavalid",disabled:"disabled",disablevalidation:"disablevalidation",dropposition:"dropposition",eventinfo:"eventinfo",gbxunmask:"gbxunmask",helpertext:"helpertext",helpertextformat:"helpertextformat",hiddenhelpertext:"hiddenhelpertext",hukid:"hukid",inputwidth:"inputwidth",label:"label",labelformat:"labelformat",leftaddonstring:"leftaddonstring",lefticonclass:"lefticonclass",menuemptytext:"menuemptytext",menumaxheight:"menumaxheight",menuwidth:"menuwidth",multiselect:"multiselect",name:"name",netsensitive:"netsensitive",noclearbutton:"noclearbutton",nodisabledtext:"nodisabledtext",nohelpertextonvalidation:"nohelpertextonvalidation",nooptionaltext:"nooptionaltext",options:"options",placeholder:"placeholder",refresh:"refresh",relative:"relative",required:"required",requiredasterisk:"requiredasterisk",rightaddonstring:"rightaddonstring",righticonclass:"righticonclass",setfocus:"setfocus",showdatamissing:"showdatamissing",showdatavalid:"showdatavalid",size:"size",value:"value"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["aligntext","arialabel","borderradius","datamissing","datavalid","disabled","disablevalidation","dropposition","eventinfo","gbxunmask","helpertext","helpertextformat","hiddenhelpertext","hukid","inputwidth","label","labelformat","leftaddonstring","lefticonclass","menuemptytext","menumaxheight","menuwidth","multiselect","name","netsensitive","noclearbutton","nodisabledtext","nohelpertextonvalidation","nooptionaltext","options","placeholder","refresh","relative","required","requiredasterisk","rightaddonstring","righticonclass","setfocus","showdatamissing","showdatavalid","size","value"],methods:["manuallyFocus"]})],n),n})(),jU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukAlertAdded","hukAlertRemoved","hukAlertsActionItemClick","hukAlertsCleared","hukError","hukNavClick","hukNavToggled"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-side-nav"]],inputs:{alertsmaxheight:"alertsmaxheight",defaultcollapsed:"defaultcollapsed",nocollapse:"nocollapse",sidenav:"sidenav",sidenavalert:"sidenavalert",sidenavbottom:"sidenavbottom",sidenavlogolink:"sidenavlogolink"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["alertsmaxheight","defaultcollapsed","nocollapse","sidenav","sidenavalert","sidenavbottom","sidenavlogolink"],methods:["clearAllAlerts","loadAlerts","removeAlerts"]})],n),n})(),VU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError","hukTrackableEvent","hukStepBackwardEvent","hukStepClickedEvent","hukStepForwardEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-stepper"]],inputs:{activeStepIndex:"activeStepIndex",checkmark:"checkmark",eventinfo:"eventinfo",halocolor:"halocolor",refresh:"refresh",steps:"steps"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["activeStepIndex","checkmark","eventinfo","halocolor","refresh","steps"],methods:["stepBackward","stepForward"]})],n),n})(),zU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError","hukTabChangedEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-tab"]],inputs:{active:"active",disabled:"disabled",maxheight:"maxheight",nopadding:"nopadding",tabid:"tabid",tabnotification:"tabnotification",tabtitle:"tabtitle"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["active","disabled","maxheight","nopadding","tabid","tabnotification","tabtitle"]})],n),n})(),$U=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-table"]],inputs:{caption:"caption",captionDescription:"captionDescription",collapsefade:"collapsefade",collapsenumrows:"collapsenumrows",gridlines:"gridlines",hoverhighlight:"hoverhighlight",nodatamessage:"nodatamessage",striped:"striped",tablejson:"tablejson"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["caption","captionDescription","collapsefade","collapsenumrows","gridlines","hoverhighlight","nodatamessage","striped","tablejson"]})],n),n})(),GU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukClosePopover","hukError","hukTableEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-table-xc"]],inputs:{caption:"caption",captionDescription:"captionDescription",collapsefade:"collapsefade",collapsenumrows:"collapsenumrows",gridlines:"gridlines",hoverhighlight:"hoverhighlight",mobilebreakpoint:"mobilebreakpoint",nodatamessage:"nodatamessage",refresh:"refresh",striped:"striped",tablejson:"tablejson"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["caption","captionDescription","collapsefade","collapsenumrows","gridlines","hoverhighlight","mobilebreakpoint","nodatamessage","refresh","striped","tablejson"]})],n),n})(),qU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError","hukModalFocus","hukTabsClickEvent","hukTrackableEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-tabs"]],inputs:{activetabid:"activetabid",eventinfo:"eventinfo",noautoswitch:"noautoswitch",refresh:"refresh",tabwidth:"tabwidth"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["activetabid","eventinfo","noautoswitch","refresh","tabwidth"]})],n),n})(),KU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError","hukToastDismissedEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-toast"]],inputs:{closeButtonText:"closeButtonText",cssClass:"cssClass",duration:"duration",message:"message",position:"position",showCloseButton:"showCloseButton"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["closeButtonText","cssClass","duration","message","position","showCloseButton"],methods:["displayToast"]})],n),n})(),WU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,Be(this,this.el,["hukError","hukInput","hukTrackableEvent"])}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-toggle"]],inputs:{arialabel:"arialabel",checkmark:"checkmark",compact:"compact",disabled:"disabled",eventinfo:"eventinfo",grouplabel:"grouplabel",hukid:"hukid",labelformat:"labelformat",netsensitive:"netsensitive",nodisabledtext:"nodisabledtext",nopadding:"nopadding",size:"size",textoff:"textoff",texton:"texton",value:"value"},ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({inputs:["arialabel","checkmark","compact","disabled","eventinfo","grouplabel","hukid","labelformat","netsensitive","nodisabledtext","nopadding","size","textoff","texton","value"]})],n),n})(),YU=(()=>{let n=class{constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(T(_e),T(ve),T(ae))},n.\u0275cmp=ue({type:n,selectors:[["huk-wrapper"]],ngContentSelectors:Fe,decls:1,vars:0,template:function(t,r){t&1&&(xe(),Re(0))},encapsulation:2,changeDetection:0}),n=ke([Le({})],n),n})(),QU=(()=>{class n{constructor(t){this.el=t,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(t){this.el.nativeElement.value=this.lastValue=t??""}handleChangeEvent(t){t!==this.lastValue&&(this.lastValue=t,this.onChange(t))}_handleBlurEvent(){this.onTouched()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.el.nativeElement.disabled=t}}return n.\u0275fac=function(t){return new(t||n)(T(ve))},n.\u0275dir=xt({type:n,hostBindings:function(t,r){t&1&&Me("focusout",function(){return r._handleBlurEvent()})}}),n})(),$i=(()=>{class n extends QU{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(T(ve))},n.\u0275dir=xt({type:n,selectors:[["huk-autocomplete"],["huk-datepicker"],["huk-select"],["huk-autocomplete"],["huk-input-field"],["huk-radio-group"],["huk-autocomplete"],["huk-select"],["huk-select"]],hostBindings:function(t,r){t&1&&Me("hukCleared",function(o){return r.handleChangeEvent(o.target.value)})("hukInput",function(o){return r.handleChangeEvent(o.target.value)})("hukSelected",function(o){return r.handleChangeEvent(o.target.value)})("hukUnselected",function(o){return r.handleChangeEvent(o.target.value)})},features:[ss([{provide:Jp,useExisting:n,multi:!0}]),yr]}),n})(),ZU=(n,e)=>()=>{let t=n.defaultView;if(t&&typeof window<"u"){let r="__zone_symbol__addEventListener"in n.body?"__zone_symbol__addEventListener":"addEventListener";return tD().then(()=>rD(t,{syncQueue:!0,jmp:i=>e.runOutsideAngular(i),ael(i,o,s,a){i[r](o,s,a)},rel(i,o,s,a){i.removeEventListener(o,s,a)}}))}},JU=[dU,hU,fU,pU,mU,Vi,gU,Ub,vU,yU,CU,bU,wU,EU,_U,IU,TU,md,zi,SU,AU,DU,kU,MU,xU,RU,NU,OU,PU,FU,LU,UU,HU,BU,Hb,jU,VU,zU,$U,GU,qU,KU,WU,YU],mee=[...JU,$i],Bo=(()=>{class n{static forRoot(){return{ngModule:n,providers:[{provide:La,useFactory:ZU,multi:!0,deps:[yt,ae]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Bt({type:n}),n.\u0275inj=Ht({imports:[Rt]}),n})();var XU=n=>({"text-danger":n});function eH(n,e){n&1&&(x(0,"div")(1,"div",15),ye(2,"huk-input-field",16),D()())}function tH(n,e){n&1&&ye(0,"img",17)}function nH(n,e){n&1&&(x(0,"div",18),ye(1,"i",19),F(2," Lineage creation form submit successfully! "),D())}function rH(n,e){if(n&1&&(x(0,"div",20),F(1),D()),n&2){let t=Xe();te(),di(t.errorMessage)}}function iH(n,e){if(n&1&&ye(0,"huk-button",21),n&2){let t=Xe();se("disabled",t.isInputDisabled)}}function oH(n,e){if(n&1){let t=pn();x(0,"div",22)(1,"div",23)(2,"h5"),F(3," Download the lineage creation file using the link provided below: "),D(),x(4,"div",24),F(5),x(6,"button",25),Me("click",function(){hn(t);let i=Xe();return fn(i.downloadFile())}),ro(),x(7,"svg",26),ye(8,"path",27),D(),F(9," Download "),D()()()()}if(n&2){let t=Xe();te(5),tn(" ",t.fileName,"\xA0\xA0\xA0 ")}}function sH(n,e){if(n&1){let t=pn();x(0,"div",28)(1,"div",29)(2,"h5",30),F(3,"Error Report"),D(),x(4,"p",31),F(5,"There was an issue with your submission. Please download the error report for more details."),D(),x(6,"button",25),Me("click",function(){hn(t);let i=Xe();return fn(i.downloadFile())}),ro(),x(7,"svg",26),ye(8,"path",27),D(),F(9," Download Error Report "),D()()()}if(n&2){let t=Xe();te(2),se("ngClass",as(1,XU,t.downloadError))}}function aH(n,e){n&1&&(x(0,"div",32)(1,"huk-form-message",33)(2,"h6"),F(3,`Uploading Custom lineage with transformation into the IDMC tool involves 4 key steps:
`),D(),x(4,"p",34),F(5,"Step 1"),D(),x(6,"ol")(7,"li"),F(8,"\u201CDrag and drop the User Input Mapping file here, or click to browse\u201D"),D(),x(9,"li"),F(10,"Click \u201CCreate Transformation files\u201D"),D(),x(11,"li"),F(12,"Wait for the file to be uploaded successfully"),D()(),x(13,"p",34),F(14,"Step 2"),D(),x(15,"ol")(16,"li"),F(17,"Once the transformation files are created by the routine, a \u201CDownload\u201D button will appear with an option for the user to download the file in zip format "),D(),x(18,"li"),F(19,"Click the \u201Cdownload\u201D button"),D()(),x(20,"p",34),F(21,"Step 3 (To be performed within the IDMC Catalog tool) "),D(),x(22,"ol")(23,"li"),F(24,"Next step is to create a Custom resource within the IDMC tool using "),x(25,"a",35),F(26,"this link"),D(),F(27,' by uploading the tranformatioin zip file (that was downloaded in the previous step). After uploading the zip file, make sure to click on the "Run" button to execute the process. Make a note of the \u201CCustom Resource Name\u201D created within IDMC.'),D()(),x(28,"p",34),F(29,"Step 4 "),D(),x(30,"ol")(31,"li"),F(32,"The final step is to provide the \u201CCatalog Resource Name\u201D created in the previous step and click the \u201CStart Lineage Creation\u201D button. The routine will run in the background to build all the mappings within the IDMC tool. "),D()(),x(33,"p",34),F(34,"Step 5 "),D(),x(35,"ol")(36,"li"),F(37,'After the lineage creation process is completed, upload the lineage zip file within the IDMC tool. Ensure you click on the "Run" button to execute the process.. '),D()(),x(38,"p"),F(39,"User can monitor the status of the lineage creation job using the \u201CJob Status\u201D link on the left."),D()()())}function cH(n,e){n&1&&(x(0,"div",36)(1,"huk-form-message",33)(2,"h6"),F(3,"Uploading Custom lineage with NO transformation into the IDMC tool involves 3 key steps:"),D(),x(4,"p",34),F(5,"Step 1"),D(),x(6,"ol")(7,"li"),F(8,"\u201CDrag and drop the User Input Mapping file here, or click to browse\u201D"),D(),x(9,"li"),F(10,"Click \u201CCreate Transformation files\u201D"),D(),x(11,"li"),F(12,"Wait for the file to be uploaded successfully"),D()(),x(13,"p",34),F(14,"Step 2"),D(),x(15,"ol")(16,"li"),F(17,"Once the mapping file is created by the routine, a \u201CDownload\u201D button will appear with an option for the user to download the file in zip format"),D(),x(18,"li"),F(19,"Click the \u201Cdownload\u201D button"),D()(),x(20,"p",34),F(21,"Step 3 (To be performed within the IDMC Catalog tool) "),D(),x(22,"ol")(23,"li"),F(24,"Next step is to create a Custom resource within the IDMC tool using "),x(25,"a",35),F(26,"this link"),D(),F(27," by uploading the zip file (that was downloaded in the previous step). "),D(),ye(28,"br"),x(29,"p"),F(30,"This will create the custom lineage between source and target in IDMC. "),D(),x(31,"p"),F(32,"User can monitor the status of the lineage creation job using the \u201CJob Status\u201D link on the left."),D()()()())}var om=class n{constructor(e,t){this.fb=e;this.uploadService=t;this.form=this.fb.group({resource_name:new zn({value:"",disabled:this.isInputDisabled},Tr.required)})}form;show=!1;zipData;fileName="lineage";isInputDisabled=!0;submitSuccess=!1;functionality;islineageCreation=!0;file;downloadError=!1;buttonTitle="Start Lineage Creation";errorMessage=null;fileSelected=new Ke;lineageCreationChange=new Ke;downloadResponse=!1;user;resetUpload=!1;ngOnInit(){this.resetUpload=!1,this.form.get("resource_name")?.valueChanges.subscribe(e=>{this.isInputDisabled=!e})}onDownloadResponseChange(e){this.downloadResponse=e,this.downloadResponse&&this.form.get("resource_name")?.enable(),this.downloadResponse=!1}onSelectionChange(e){this.islineageCreation=e.detail.value,this.downloadResponse=!1,this.lineageCreationChange.emit(this.islineageCreation),this.buttonTitle=this.islineageCreation?"Start Lineage Creation":"Lineage Creation Disabled"}onFileSelected(e){this.file=e.file,this.isInputDisabled=e.isDisabled,this.form.get("resource_name")?.disable()}downloadFile(){let e=this.zipData;this.uploadService.downloadAndZipFile(e,this.fileName)}onSubmit(){if(this.form.valid&&this.file){let e=this.form.value;this.show=!0,this.uploadService.submitForm(e,this.file).subscribe({next:t=>{t.is_successful?(this.resetUpload=!0,this.zipData=t["zip-data"],this.show=!1,this.submitSuccess=!0,this.downloadResponse=!0,this.downloadError=!1,this.form.get("resource_name")?.disable(),this.resetForm(),setTimeout(()=>{this.submitSuccess=!1},1e4)):(this.zipData=t["zip-data"],this.downloadErrorReport(this.zipData),this.submitSuccess=!1,this.show=!1,this.downloadError=!0,this.handleError("Submission was not successful."))},error:t=>{this.resetUpload=!1,this.errorMessage=t.message,this.submitSuccess=!1,this.show=!1}})}else this.file||(this.errorMessage="File is required."),this.displayValidationErrors(),setTimeout(()=>{this.errorMessage=null},3e3)}handleError(e){this.resetUpload=!1,this.errorMessage=e,this.submitSuccess=!1,this.show=!1,setTimeout(()=>{this.errorMessage=null},3e3)}downloadErrorReport(e){let t=this.base64ToBlob(e,"application/zip");this.fileName="error_report",this.downloadResponse=!0,this.show=!1,this.isInputDisabled=!0}base64ToBlob(e,t){let r=atob(e),i=new Array(r.length);for(let s=0;s<r.length;s++)i[s]=r.charCodeAt(s);let o=new Uint8Array(i);return new Blob([o],{type:t})}resetForm(){this.form.reset(),this.form.patchValue({resource_name:""})}displayValidationErrors(){for(let e in this.form.controls)if(this.form.controls.hasOwnProperty(e)){let t=this.form.get(e);if(t&&t.invalid){let r=t.errors}}}static \u0275fac=function(t){return new(t||n)(T(sr),T(on))};static \u0275cmp=ue({type:n,selectors:[["app-lineage-creation"]],outputs:{fileSelected:"fileSelected",lineageCreationChange:"lineageCreationChange"},standalone:!0,features:[gt],decls:17,vars:16,consts:[[1,"mainDiv"],[1,"form"],[3,"ngSubmit","formGroup"],[1,"form-container"],["label","Lineage Creation with transformation","labelformat","text","value","true",3,"hukInput"],[3,"fileSelected","downloadResponseChange","isLineageCreation","showFormMessage","applyMargin","showUploadButton","showResetButton","resetUpload"],[4,"ngIf"],["src","assets/Dual Ring-1s-110px.gif","class","centre","alignment","justify-content","width","50","height","50","alt","Example Image",4,"ngIf"],["class","text-success",4,"ngIf"],["style","color: red;",4,"ngIf"],["type","submit","hukclass","btn-secondary btn-md","text","Start Lineage Creation",3,"disabled",4,"ngIf"],["class","container mt-3",4,"ngIf"],["class","card mt-4",4,"ngIf"],["class","secondDiv",4,"ngIf"],["class","intructionCSS",4,"ngIf"],[1,"form-group"],["type","text","formControlName","resource_name","nooptionaltext","","name","resource_name","label","Custom Catalog Resource Name","nodisabledtext","","id","resourceName","labelformat","text","refresh","0"],["src","assets/Dual Ring-1s-110px.gif","alignment","justify-content","width","50","height","50","alt","Example Image",1,"centre"],[1,"text-success"],[1,"fa","fa-check-circle"],[2,"color","red"],["type","submit","hukclass","btn-secondary btn-md","text","Start Lineage Creation",3,"disabled"],[1,"container","mt-3"],[1,"mt-4","p-5","text-black","rounded"],[1,"mt-3"],[1,"btn","btn-outline-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"svgClass"],["d","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"],[1,"card","mt-4"],[1,"card-body"],[1,"card-title",3,"ngClass"],[1,"card-text"],[1,"secondDiv"],["type","info"],[2,"font-weight","600"],["href","https://dm-us.informaticacloud.com/","target","_blank"],[1,"intructionCSS"]],template:function(t,r){t&1&&(x(0,"div",0)(1,"div",1)(2,"form",2),Me("ngSubmit",function(){return r.onSubmit()}),x(3,"div",3)(4,"huk-checkbox",4),Me("hukInput",function(o){return r.onSelectionChange(o)}),D(),x(5,"app-upload",5),Me("fileSelected",function(o){return r.onFileSelected(o)})("downloadResponseChange",function(o){return r.onDownloadResponseChange(o)}),D(),x(6,"div"),Je(7,eH,3,0,"div",6),D(),Je(8,tH,1,0,"img",7),ye(9,"br"),Je(10,nH,3,0,"div",8)(11,rH,2,1,"div",9)(12,iH,1,1,"huk-button",10)(13,oH,10,1,"div",11),D()(),Je(14,sH,10,3,"div",12),D(),Je(15,aH,40,0,"div",13)(16,cH,33,0,"div",14),D()),t&2&&(te(2),se("formGroup",r.form),te(3),se("isLineageCreation",r.islineageCreation)("showFormMessage",!1)("applyMargin",!1)("showUploadButton",!0)("showResetButton",!0)("resetUpload",r.resetUpload),te(2),se("ngIf",r.islineageCreation),te(),se("ngIf",r.show),te(2),se("ngIf",r.submitSuccess),te(),se("ngIf",r.errorMessage),te(),se("ngIf",r.islineageCreation),te(),se("ngIf",r.downloadResponse&&!r.downloadError),te(),se("ngIf",r.downloadResponse&&r.downloadError),te(),se("ngIf",r.islineageCreation),te(),se("ngIf",!r.islineageCreation))},dependencies:[ei,Rt,Ba,Dn,Bo,Vi,Ub,zi,$i,ar,or,Ho,ir,Sr,ji],styles:[".form-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:10px;background-color:#f9f9f9}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:5px}.centre[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.svgClass[_ngcontent-%COMP%]{font-size:16px;height:1.5em;cursor:pointer}button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;background-color:#3a5a78;border:2px solid #3a5a78!important;color:#fff;border:none;border-radius:5px;cursor:pointer}.form[_ngcontent-%COMP%]{width:40%!important}.intructionCSS[_ngcontent-%COMP%]{margin-left:3%}.btn-outline-primary[_ngcontent-%COMP%]{color:#3a5a78!important;background-color:#fff;border-color:1px solid #151515!important}.svgClass[_ngcontent-%COMP%]{fill:#3a5a78}.btn-outline-primary[_ngcontent-%COMP%]:focus{border-color:#4a6a88!important;background-color:#8da4b5!important}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#8da4b5!important;border-color:#4a6a88!important}.inputWidth[_ngcontent-%COMP%]{width:100%}#file-name[_ngcontent-%COMP%]{display:block;margin-top:5px;font-style:italic;color:#555}.mainDiv[_ngcontent-%COMP%]{display:flex}.secondDiv[_ngcontent-%COMP%]{width:70%!important;margin-left:3%}.btn-outline-danger[_ngcontent-%COMP%]:hover{border-color:1px solid #151515!important;background-color:#8da4b5}.card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;box-shadow:0 2px 4px #0000001a}.card-body[_ngcontent-%COMP%]{padding:16px}.card-title[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:8px}.card-text[_ngcontent-%COMP%]{margin-bottom:16px}.text-danger[_ngcontent-%COMP%]{color:red}@media only screen and (min-width: 360px) and (max-width: 768px){.secondDiv[_ngcontent-%COMP%]{width:auto!important}.mainDiv[_ngcontent-%COMP%]{display:block}.form[_ngcontent-%COMP%]{width:auto!important}}"]})};var Bb=class{_document;_textarea;constructor(e,t){this._document=t;let r=this._textarea=this._document.createElement("textarea"),i=r.style;i.position="fixed",i.top=i.opacity="0",i.left="-999em",r.setAttribute("aria-hidden","true"),r.value=e,r.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(r)}copy(){let e=this._textarea,t=!1;try{if(e){let r=this._document.activeElement;e.select(),e.setSelectionRange(0,e.value.length),t=this._document.execCommand("copy"),r&&r.focus()}}catch{}return t}destroy(){let e=this._textarea;e&&(e.remove(),this._textarea=void 0)}},lH=(()=>{class n{_document=z(yt);constructor(){}copy(t){let r=this.beginCopy(t),i=r.copy();return r.destroy(),i}beginCopy(t){return new Bb(t,this._document)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ce({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uH=new le("CDK_COPY_TO_CLIPBOARD_CONFIG"),sm=(()=>{class n{_clipboard=z(lH);_ngZone=z(ae);text="";attempts=1;copied=new Ke;_pending=new Set;_destroyed;_currentTimeout;constructor(){let t=z(uH,{optional:!0});t&&t.attempts!=null&&(this.attempts=t.attempts)}copy(t=this.attempts){if(t>1){let r=t,i=this._clipboard.beginCopy(this.text);this._pending.add(i);let o=()=>{let s=i.copy();!s&&--r&&!this._destroyed?this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(o,1)):(this._currentTimeout=null,this._pending.delete(i),i.destroy(),this.copied.emit(s))};o()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(t=>t.destroy()),this._pending.clear(),this._destroyed=!0}static \u0275fac=function(r){return new(r||n)};static \u0275dir=xt({type:n,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(r,i){r&1&&Me("click",function(){return i.copy()})},inputs:{text:[0,"cdkCopyToClipboard","text"],attempts:[0,"cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"},standalone:!0})}return n})(),am=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=Ht({})}return n})();var dH=["fileInput"],hH=n=>({"text-danger":n});function fH(n,e){if(n&1){let t=pn();x(0,"div")(1,"div",13)(2,"huk-select",17),Me("hukChange",function(i){hn(t);let o=Xe();return fn(o.dropdown(i))}),D()()()}}function pH(n,e){n&1&&(x(0,"div",18),ye(1,"i",19),F(2," Business terms association job created succesfully! "),D())}function mH(n,e){if(n&1&&(x(0,"div",20),F(1),D()),n&2){let t=Xe();te(),di(t.errorMessage)}}function gH(n,e){n&1&&ye(0,"img",21)}function vH(n,e){if(n&1){let t=pn();x(0,"huk-button",22),Me("downloadResponseChange",function(){hn(t);let i=Xe();return fn(i.onDownloadResponseChange(i.downloadResponses))}),D()}if(n&2){let t=Xe();se("disabled",t.isInputDisabled)}}function yH(n,e){if(n&1){let t=pn();x(0,"div",23)(1,"div",24)(2,"h5",25),F(3,"Error Report"),D(),x(4,"p",26),F(5,"There was an issue with your submission. Please download the error report for more details."),D(),x(6,"button",27),Me("click",function(){hn(t);let i=Xe();return fn(i.downloadErrorFile())}),ro(),x(7,"svg",28),ye(8,"path",29),D(),F(9," Download Error Report "),D()()()}if(n&2){let t=Xe();te(2),se("ngClass",as(1,hH,t.downloadError))}}function CH(n,e){n&1&&(x(0,"div",30)(1,"huk-form-message",31)(2,"p",32),F(3,"Step 1"),D(),x(4,"ol")(5,"li"),F(6,"Drag and drop the User Input Mapping file into the designated area, or click to browse and select the file."),D()(),x(7,"p",32),F(8,"Step 2"),D(),x(9,"ol")(10,"li"),F(11,"Choose the sheet that contains the business information either \u201CMapping+Business Info\u201D or \u201CBusiness Term Association\u201D information."),D(),x(12,"li"),F(13," Once selected, click on Start Business Terms Association."),D()(),x(14,"p",32),F(15,"Monitor"),D(),x(16,"ol")(17,"li"),F(18,"Job ID will appear in the Job ID text box below."),D(),x(19,"li"),F(20,"Use the Job ID to check the job status."),D()()()())}var cm=class n{constructor(e,t,r){this.fb=e;this.uploadService=t;this.renderer=r;this.form=this.fb.group({sheet_selected:new zn({value:"",disabled:this.isInputDisabled}),job_id:new zn("this.jobID")})}fileName;form;downloadResponse=!1;downloadError=!1;submitSuccess=!1;isInputDisabled=!0;functionality;zipData;islineageCreation=!0;file;jobID;show=!1;errorMessage=null;fileSelected=new Ke;lineageCreationChange=new Ke;fileInput;downloadResponses=!1;resetUpload=!1;allowedExtensions;maxSizeInBytes;maxSizeInMB;toggleIconColor(e){if(this.jobID){let t=e.target;t.style.color==="red"?this.renderer.setStyle(t,"color",""):this.renderer.setStyle(t,"color","#1571BE")}}ngOnInit(){this.resetUpload=!1}dropdown(e){this.form.get("sheet_selected")?.setValue(e.detail),this.isInputDisabled=!1}onDownloadResponseChange(e){this.downloadResponses=e}onSelectionChange(e){this.islineageCreation=e.detail.value,this.lineageCreationChange.emit(this.islineageCreation)}downloadFile(){let e=this.zipData,t=this.file.name;this.uploadService.downloadAndZipFile(e,t)}downloadErrorFile(){let e=this.zipData;this.uploadService.downloadAndZipFile(e,this.fileName)}onFileSelected(e){this.file=e.file,this.form.get("sheet_selected")?.enable()}onSubmit(){if(this.form.valid&&this.file){let e=this.form.value;this.show=!0;let t=new Promise((i,o)=>setTimeout(()=>o(new Error("Request timed out, please try uploading again")),20*60*1e3)),r=this.uploadService.submitBusinessAssociationForm(e,this.file).toPromise();Promise.race([r,t]).then(i=>{i.is_successful?(this.jobID=i.job_id,this.resetUpload=!0,this.submitSuccess=!0,this.resetForm(),this.show=!1):(this.zipData=i["zip-data"],this.downloadErrorReport(this.zipData),this.submitSuccess=!1,this.show=!1,this.downloadError=!0,this.handleError("Submission was not successful."))},i=>{this.resetUpload=!1,this.errorMessage=i.message,this.submitSuccess=!1,this.show=!1,i.message==="Request timed out, please try uploading again"&&this.resetUploadState()}).catch(i=>{this.errorMessage="Upload failed"})}else this.file?this.errorMessage="Please fill out the required fields.":this.errorMessage="File is required.",this.displayValidationErrors(),setTimeout(()=>{this.errorMessage=null},3e3)}resetUploadState(){this.fileInput&&(this.fileInput.nativeElement.value="")}downloadErrorReport(e){let t=this.base64ToBlob(e,"application/zip");this.fileName="error_report",this.downloadResponse=!0,this.show=!1,this.isInputDisabled=!0}base64ToBlob(e,t){let r=atob(e),i=new Array(r.length);for(let s=0;s<r.length;s++)i[s]=r.charCodeAt(s);let o=new Uint8Array(i);return new Blob([o],{type:t})}handleError(e){this.resetUpload=!1,this.errorMessage=e,this.submitSuccess=!1,this.show=!1,setTimeout(()=>{this.errorMessage=null},3e3)}copyJobID(){let e=this.form.get("job_id")?.value;e&&navigator.clipboard.writeText(e).then(()=>{console.log("Job ID copied to clipboard")}).catch(t=>{console.error("Could not copy Job ID: ",t)})}resetForm(){this.form.reset(),this.form.reset(),this.form.patchValue({sheet_selected:""}),this.form.get("sheet_selected")?.disable(),this.isInputDisabled=!0,this.resetUpload=!1}displayValidationErrors(){for(let e in this.form.controls)if(this.form.controls.hasOwnProperty(e)){let t=this.form.get(e);if(t&&t.invalid){let r=t.errors}}}static \u0275fac=function(t){return new(t||n)(T(sr),T(on),T(Zn))};static \u0275cmp=ue({type:n,selectors:[["app-business-terms-creation"]],viewQuery:function(t,r){if(t&1&&Fa(dH,5),t&2){let i;is(i=os())&&(r.fileInput=i.first)}},outputs:{fileSelected:"fileSelected",lineageCreationChange:"lineageCreationChange"},standalone:!0,features:[gt],decls:20,vars:16,consts:[[1,"mainDiv"],[1,"formWidth"],[3,"ngSubmit","downloadResponseChange","formGroup"],[1,"form-container"],[3,"fileSelected","isLineageCreation","showFormMessage","applyMargin","showUploadButton","showResetButton","resetUpload"],[4,"ngIf"],["class","text-success",4,"ngIf"],["style","color: red;",4,"ngIf"],["src","assets/Dual Ring-1s-110px.gif","class","centre","alignment","justify-content","width","50","height","50","alt","Example Image",4,"ngIf"],["type","submit","hukclass","btn-secondary btn-md","text","Start Business Terms Association",3,"disabled","downloadResponseChange",4,"ngIf"],[1,"group"],["type","text","nooptionaltext","","name","job_id","label","Job ID","aligntext","left","id","job_id","labelformat","text","refresh","0",3,"value"],["icon","documents","iconsize","sm",1,"icon-sm","icon-inside-input",2,"cursor","pointer","height","41px",3,"click","cdkCopyToClipboard"],[1,"form-group"],["href","https://mcc.dm-us.informaticacloud.com/monitor","target","_blank",1,"styled-link"],["class","card mt-4",4,"ngIf"],["class","instructionCSS",4,"ngIf"],["dropposition","bottom-left","nodisabledtext","","helpertextformat","text","label","Input Sheet Selection","labelformat","text","nooptionaltext","","options",'[{"name":"Mapping+Business Info","value":"Mapping+Business Info"},{"name":"Business Terms Association","value":"Business Terms Association"}]',"placeholder","Please Select","refresh","0","formControlName","sheet_selected",3,"hukChange"],[1,"text-success"],[1,"fa","fa-check-circle"],[2,"color","red"],["src","assets/Dual Ring-1s-110px.gif","alignment","justify-content","width","50","height","50","alt","Example Image",1,"centre"],["type","submit","hukclass","btn-secondary btn-md","text","Start Business Terms Association",3,"downloadResponseChange","disabled"],[1,"card","mt-4"],[1,"card-body"],[1,"card-title",3,"ngClass"],[1,"card-text"],[1,"btn","btn-outline-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"svgClass"],["d","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"],[1,"instructionCSS"],["type","info"],[2,"font-weight","600"]],template:function(t,r){t&1&&(x(0,"div",0)(1,"div",1)(2,"form",2),Me("ngSubmit",function(){return r.onSubmit()})("downloadResponseChange",function(o){return r.onDownloadResponseChange(o)}),x(3,"div",3)(4,"app-upload",4),Me("fileSelected",function(o){return r.onFileSelected(o)}),D(),x(5,"div"),Je(6,fH,3,0,"div",5),D(),Je(7,pH,3,0,"div",6)(8,mH,2,1,"div",7)(9,gH,1,0,"img",8),ye(10,"br"),Je(11,vH,1,1,"huk-button",9),x(12,"div",10),ye(13,"huk-input-field",11),x(14,"huk-icon",12),Me("click",function(o){return r.toggleIconColor(o)}),D()(),x(15,"div",13)(16,"a",14),F(17,"Metadata Command Center (informaticacloud.com)"),D()()()(),Je(18,yH,10,3,"div",15),D(),Je(19,CH,21,0,"div",16),D()),t&2&&(te(2),se("formGroup",r.form),te(2),se("isLineageCreation",r.islineageCreation)("showFormMessage",!1)("applyMargin",!1)("showUploadButton",!1)("showResetButton",!1)("resetUpload",r.resetUpload),te(2),se("ngIf",r.islineageCreation),te(),se("ngIf",r.submitSuccess),te(),se("ngIf",r.errorMessage),te(),se("ngIf",r.show),te(2),se("ngIf",r.islineageCreation),te(2),se("value",r.jobID),te(),Ml("cdkCopyToClipboard",r.jobID),te(4),se("ngIf",r.downloadResponse&&r.downloadError),te(),se("ngIf",r.islineageCreation))},dependencies:[ei,Rt,Ba,Dn,Bo,Vi,md,zi,Hb,$i,ar,or,Ho,ir,Sr,ji,am,sm],styles:[".mt-5[_ngcontent-%COMP%], .my-5[_ngcontent-%COMP%]{margin-top:2rem!important}.group[_ngcontent-%COMP%]{display:flex;align-items:center}.group[_ngcontent-%COMP%]   huk-input-field[_ngcontent-%COMP%]{flex:1}.centre[_ngcontent-%COMP%]{display:block;margin:auto}.svgClass[_ngcontent-%COMP%]{font-size:16px;height:1.5em;cursor:pointer;fill:#fff}.dropzone[_ngcontent-%COMP%]{height:156px}.button-group[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:10px}.form-control[_ngcontent-%COMP%]{width:30%}.success-icon[_ngcontent-%COMP%], .reset-icon[_ngcontent-%COMP%]{font-size:1.5em;margin-top:10px}.success-icon[_ngcontent-%COMP%]{color:#fff}.error-icon[_ngcontent-%COMP%], .reset-icon[_ngcontent-%COMP%]{color:red;cursor:pointer}.file-upload-wrapper.success[_ngcontent-%COMP%]{border-color:green}.file-upload-wrapper.error[_ngcontent-%COMP%]{border-color:red}.file-dropper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.image-name[_ngcontent-%COMP%]{font-weight:700}.image-preview[_ngcontent-%COMP%]{max-width:100%;height:auto;margin-bottom:.5rem;border-radius:10px}.delete-icon[_ngcontent-%COMP%]{cursor:pointer;color:red}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:10px;background-color:#f9f9f9}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:5px}button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;background-color:#3a5a78;color:#fff;border:2px solid #3a5a78!important;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.inputWidth[_ngcontent-%COMP%]{width:100%}#file-name[_ngcontent-%COMP%]{display:block;margin-top:5px;font-style:italic;color:#555}.formWidth[_ngcontent-%COMP%]{width:40%}.instructionCSS[_ngcontent-%COMP%]{width:60%;margin-left:3%}.mainDiv[_ngcontent-%COMP%]{display:flex}.btn-outline-primary[_ngcontent-%COMP%]:focus, .btn-outline-primary[_ngcontent-%COMP%]:hover{border-color:#4a6a88!important;background-color:#8da4b5!important}.card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;box-shadow:0 2px 4px #0000001a}.card-body[_ngcontent-%COMP%]{padding:16px}.card-title[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:8px}.card-text[_ngcontent-%COMP%]{margin-bottom:16px}.text-danger[_ngcontent-%COMP%]{color:red}.styled-link[_ngcontent-%COMP%]{color:#3a5a78;text-decoration:none;font-weight:700}.styled-link[_ngcontent-%COMP%]:hover{text-decoration:underline}@media only screen and (min-width: 360px) and (max-width: 768px){.mainDiv[_ngcontent-%COMP%]{display:block}.instructionCSS[_ngcontent-%COMP%]{width:auto;margin-top:3%}.formWidth[_ngcontent-%COMP%]{width:auto}}"]})};var lm=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ue({type:n,selectors:[["app-lineage-update"]],standalone:!0,features:[gt],decls:0,vars:0,template:function(t,r){},styles:[".child-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]})};function bH(n,e){n&1&&ye(0,"img",15)}function wH(n,e){if(n&1&&ye(0,"huk-button",16),n&2){let t,r=Xe();se("disabled",!((t=r.form.get("job_id"))!=null&&t.valid))}}function EH(n,e){n&1&&(x(0,"div",17),ye(1,"i",18),F(2," Job details fetched successfully. "),D())}function _H(n,e){if(n&1&&(x(0,"div",19),F(1),D()),n&2){let t=Xe();te(),tn(" ",t.errorMessage," ")}}function IH(n,e){if(n&1&&(x(0,"div")(1,"div",20)(2,"h2"),F(3,"Job Status Details"),D(),x(4,"div",21)(5,"div",22)(6,"div",23)(7,"h3"),F(8,"Job Information:"),D(),x(9,"p")(10,"strong"),F(11,"Job ID:"),D(),F(12),D(),x(13,"p")(14,"strong"),F(15,"Job Name:"),D(),F(16),D(),x(17,"p")(18,"strong"),F(19,"Job Type:"),D(),F(20),D()()(),x(21,"div",22)(22,"div",23)(23,"h3"),F(24,"Status:"),D(),x(25,"p")(26,"strong"),F(27,"Status:"),D(),F(28),D(),x(29,"p")(30,"strong"),F(31,"Lifecycle Status:"),D(),F(32),D(),x(33,"p")(34,"strong"),F(35,"Progress Percentage:"),D(),F(36),D()()()()()()),n&2){let t=Xe();te(12),tn(" ",t.jobStatus.id,""),te(4),tn(" ",t.jobStatus.name,""),te(4),tn(" ",t.jobStatus.type,""),te(8),tn(" ",t.jobStatus.status,""),te(4),tn(" ",t.jobStatus.lifecycleStatus,""),te(4),tn(" ",t.jobStatus.outputProperties,"%")}}var um=class n{constructor(e,t){this.fb=e;this.uploadService=t;this.form=this.fb.group({job_id:new zn("",Tr.required)}),this.form.get("job_id")?.valueChanges.subscribe(r=>{this.isInputDisabled=!r})}form;submitSuccess=!1;isInputDisabled=!0;jobStatus;functionality;showJobDetails=!1;file;show=!1;islineageCreation=!0;errorMessage=null;fileSelected=new Ke;lineageCreationChange=new Ke;onSubmit(){if(this.form.valid){let e=this.form.value;this.show=!0,this.isInputDisabled=!0,this.uploadService.submitJobForm(e).subscribe({next:t=>{this.jobStatus=t.job_status_data,this.submitSuccess=!0,this.show=!1,this.jobStatus.status==="COMPLETED"?this.jobStatus.outputProperties=100:this.jobStatus.outputProperties=0,this.showJobDetails=!0,this.resetForm(),setTimeout(()=>{this.submitSuccess=!1},5e3)},error:t=>{this.errorMessage=t.message,this.show=!1,this.submitSuccess=!1,this.showJobDetails=!1}})}else this.displayValidationErrors();setTimeout(()=>{this.errorMessage=null},3e3)}resetForm(){this.form.reset(),this.form.patchValue({resourceName:""})}displayValidationErrors(){for(let e in this.form.controls)if(this.form.controls.hasOwnProperty(e)){let t=this.form.get(e);if(t&&t.invalid){let r=t.errors}}}static \u0275fac=function(t){return new(t||n)(T(sr),T(on))};static \u0275cmp=ue({type:n,selectors:[["app-job-status"]],outputs:{fileSelected:"fileSelected",lineageCreationChange:"lineageCreationChange"},standalone:!0,features:[gt],decls:23,vars:6,consts:[[1,"mainDiv"],[1,"innerDiv"],[3,"ngSubmit","formGroup"],[1,"form-container"],[1,"form-group"],["type","text","formControlName","job_id","name","job_id","label","Job ID","aligntext","left","id","jobID","labelformat","text","refresh","0","nooptionaltext",""],[1,"image-container"],["src","assets/Dual Ring-1s-110px.gif","class","imageCentre","width","50","height","50","alt","Example Image",4,"ngIf"],[1,"button-container"],["type","submit","hukclass","btn-secondary btn-md","text","Track Job",3,"disabled",4,"ngIf"],["class","text-success",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"secondDiv"],["type","info"],[4,"ngIf"],["src","assets/Dual Ring-1s-110px.gif","width","50","height","50","alt","Example Image",1,"imageCentre"],["type","submit","hukclass","btn-secondary btn-md","text","Track Job",3,"disabled"],[1,"text-success"],[1,"fa","fa-check-circle"],[1,"text-danger"],[1,"card"],[1,"row"],[1,"column"],[1,"section"]],template:function(t,r){t&1&&(x(0,"div",0)(1,"div",1)(2,"form",2),Me("ngSubmit",function(){return r.onSubmit()}),x(3,"div",3)(4,"div",4),ye(5,"huk-input-field",5),D(),x(6,"div",6),Je(7,bH,1,0,"img",7),D(),x(8,"div",8),Je(9,wH,1,1,"huk-button",9),D(),Je(10,EH,3,0,"div",10)(11,_H,2,1,"div",11),D()()(),x(12,"div",12)(13,"huk-form-message",13)(14,"ol")(15,"li"),F(16,"Copy the job ID from the business terms association."),D(),x(17,"li"),F(18,"Paste the job ID here to verify its status."),D(),x(19,"li"),F(20,'Click on "Track Job" to view the status response.'),D()()()()(),ye(21,"br"),Je(22,IH,37,6,"div",14)),t&2&&(te(2),se("formGroup",r.form),te(5),se("ngIf",r.show),te(2),se("ngIf",r.islineageCreation),te(),se("ngIf",r.submitSuccess),te(),se("ngIf",r.errorMessage),te(11),se("ngIf",r.showJobDetails))},dependencies:[Rt,Dn,Bo,Vi,zi,$i,Zc,or,Ho,ir,ar,Sr,ji],styles:[".mainDiv[_ngcontent-%COMP%]{display:flex}.secondDiv[_ngcontent-%COMP%]{width:55%;margin-left:3%;margin-top:2%}.imageCentre[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 4px 8px #0000001a;max-width:1000px;width:100%;padding:20px;box-sizing:border-box;margin:20px auto}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#3a5a78;margin-bottom:20px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.column[_ngcontent-%COMP%]{flex:1;margin:0 10px}.section[_ngcontent-%COMP%]{margin-bottom:20px}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:10px;color:#3a5a78;border-bottom:2px solid #eee;padding-bottom:5px}.section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:#3a5a78}.link[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.innerDiv[_ngcontent-%COMP%]{width:60%}@media only screen and (min-width: 360px) and (max-width: 768px){.mainDiv[_ngcontent-%COMP%]{display:block}.innerDiv[_ngcontent-%COMP%]{width:auto}.secondDiv[_ngcontent-%COMP%]{width:auto;margin-top:3%}}"]})};var dm=class n{constructor(e){this.uploadService=e}download(){this.uploadService.downloadFile("assets/lineageCreation.xlsm").subscribe(t=>{let r=window.URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.download="UserInputTemplate.xlsm",document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r)})}static \u0275fac=function(t){return new(t||n)(T(on))};static \u0275cmp=ue({type:n,selectors:[["app-template-file"]],standalone:!0,features:[gt],decls:64,vars:0,consts:[[1,"container"],[1,"d-flex","justify-content-between"],[1,"card","shadow-lg","flex-fill","mr-3","mainDiv"],[1,"card-header","bg-primary","text-white"],[1,"card-body","text-center"],["hukclass","btn-secondary btn-md","text","Download Template","type","button",3,"click"],[1,"card","shadow-lg","flex-fill","ml-3","secondDiv"],[1,"card-header","bg-info","text-white"],[1,"card-body"],[1,"list-group"],[1,"list-group-item"],[1,"custom-list"]],template:function(t,r){t&1&&(x(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),F(5,"Download Template File"),D()(),x(6,"div",4)(7,"p"),F(8,"Click the button below to download the template file."),D(),x(9,"huk-button",5),Me("click",function(){return r.download()}),D()()(),x(10,"div",6)(11,"div",7)(12,"h2"),F(13,"Guidelines"),D()(),x(14,"div",8)(15,"ul",9)(16,"li",10)(17,"strong"),F(18,"Document Mapping Info"),D(),x(19,"ul",11)(20,"li"),F(21,'Transformation Structure: Contains information related to "Custom Metadata Resource" for capturing Transformation logic.'),D(),x(22,"li"),F(23,"Expected to contain only one row item in this sheet, about the mapping documents / location etc."),D(),x(24,"li")(25,"strong"),F(26,"Note:"),D(),x(27,"ul",11)(28,"li"),F(29,'If the transformation information is captured in "Mapping+Business Info" sheet, then user needs to provide information in this sheet.'),D(),x(30,"li"),F(31,"If there are no transformation logic, then user can skip this sheet."),D()()()()(),x(32,"li",10)(33,"strong"),F(34,"Mapping+Business Info"),D(),x(35,"ul",11)(36,"li"),F(37,"Create Lineage: User template to create lineage with/without transformation."),D(),x(38,"li"),F(39,"To provide Business Term Association."),D(),x(40,"li")(41,"strong"),F(42,"Note:"),D(),F(43,' To capture Business Term Association, use either of the sheets "Mapping+Business Info\u201D or "Business Term Association". Do not use both.'),D()()(),x(44,"li",10)(45,"strong"),F(46,"Business Term Create + Update"),D(),x(47,"ul",11)(48,"li"),F(49,"Create Business Term: User template to create/update Business Terms. To create business term successfully, user needs to provide all mandatory fields minimally."),D()()(),x(50,"li",10)(51,"strong"),F(52,"Business Term Association"),D(),x(53,"ul",11)(54,"li"),F(55,"Business Term Association: User template to create Business Terms Association."),D(),x(56,"li"),F(57,'If the user didn\u2019t use "Mapping+Business Info" for association, in that scenario user can use "Business Term Association" sheet.'),D()()(),x(58,"li",10)(59,"strong"),F(60,"Business Area Association"),D(),x(61,"ul",11)(62,"li"),F(63,'Business Area Association: User template to create "Business Area Association" with requisite Glossary asset.'),D()()()()()()()())},styles:['.custom-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;list-style-type:none;position:relative;padding-left:25px}.custom-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";width:10px;height:10px;border-radius:50%;background-color:#3a5a78;position:absolute;left:0;top:50%;transform:translateY(-50%)}.card-header[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .btn-lg[_ngcontent-%COMP%]{font-size:1.2rem}.container[_ngcontent-%COMP%]{max-width:100%;margin:auto}.bg-primary[_ngcontent-%COMP%], .bg-info[_ngcontent-%COMP%]{background-color:#3a5a78!important}.card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0000001a;border-radius:10px}.card-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.card-text[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}.btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#8da4b5;border-color:#3a5a78}.btn-success[_ngcontent-%COMP%]{color:#fff;background-color:#3a5a78;border-color:#3a5a78}.mainDiv[_ngcontent-%COMP%]{width:40%}.secondDiv[_ngcontent-%COMP%]{width:60%}@media only screen and (min-width: 360px) and (max-width: 768px){.d-flex[_ngcontent-%COMP%]{display:block!important}.mainDiv[_ngcontent-%COMP%]{width:auto!important}.secondDiv[_ngcontent-%COMP%]{width:auto!important;margin-top:3%;margin-left:0!important}}']})};var TH=["fileInput"];function SH(n,e){n&1&&ye(0,"div")}function AH(n,e){n&1&&(x(0,"div",16),ye(1,"i",17),F(2," Business terms created successfully! "),D())}function DH(n,e){if(n&1&&(x(0,"div",18),F(1),D()),n&2){let t=Xe();te(),di(t.errorMessage)}}function kH(n,e){n&1&&ye(0,"img",19)}function MH(n,e){if(n&1){let t=pn();x(0,"huk-button",20),Me("downloadResponseChange",function(){hn(t);let i=Xe();return fn(i.onDownloadResponseChange(i.downloadResponses))}),D()}if(n&2){let t=Xe();se("disabled",t.isInputDisabled)}}function xH(n,e){n&1&&(x(0,"div",21)(1,"huk-form-message",22)(2,"p",23),F(3,"Step 1"),D(),x(4,"ol")(5,"li"),F(6,"Drag and drop the User Input Mapping file into the designated area, or click to browse and select the file."),D()(),x(7,"p",23),F(8,"Step 2"),D(),x(9,"ol")(10,"li"),F(11,"Job ID will appear in the Job ID text box below."),D(),x(12,"li"),F(13,"Use the Job ID to check the job status."),D()()()())}var hm=class n{constructor(e,t,r){this.fb=e;this.uploadService=t;this.renderer=r;this.form=this.fb.group({job_id:new zn("this.jobID")})}fileName;form;submitSuccess=!1;isInputDisabled=!0;functionality;zipData;islineageCreation=!0;file;jobID;show=!1;errorMessage=null;fileSelected=new Ke;lineageCreationChange=new Ke;fileInput;downloadResponses=!1;user;resetUpload=!1;allowedExtensions;maxSizeInBytes;maxSizeInMB;toggleIconColor(e){debugger;if(this.jobID){let t=e.target;t.style.color==="red"?this.renderer.setStyle(t,"color",""):this.renderer.setStyle(t,"color","#1571BE")}}ngOnInit(){this.resetUpload=!1}onDownloadResponseChange(e){this.downloadResponses=e}onSelectionChange(e){this.islineageCreation=e.detail.value,this.lineageCreationChange.emit(this.islineageCreation)}downloadFile(){let e=this.zipData,t=this.file.name;this.uploadService.downloadAndZipFile(e,t)}onFileSelected(e){this.file=e.file,this.isInputDisabled=!1}onSubmit(){if(this.form.valid&&this.file){let e=this.form.value;this.show=!0;let t=new Promise((i,o)=>setTimeout(()=>o(new Error("Request timed out, please try uploading again")),20*60*1e3)),r=this.uploadService.submitBusinessTermsCreation(e,this.file).toPromise();Promise.race([r,t]).then(i=>{this.jobID=i.job_id,this.resetUpload=!0,this.submitSuccess=!0,this.resetForm(),this.show=!1},i=>{this.resetUpload=!1,this.errorMessage=i.message,this.submitSuccess=!1,this.show=!1,i.message==="Request timed out, please try uploading again"&&this.resetUploadState()}).catch(i=>{this.errorMessage="Upload failed"})}else this.file?this.errorMessage="Please fill out the required fields.":this.errorMessage="File is required.",this.displayValidationErrors(),setTimeout(()=>{this.errorMessage=null},3e3)}resetUploadState(){this.fileInput&&(this.fileInput.nativeElement.value="")}resetForm(){this.form.reset(),this.form.reset(),this.isInputDisabled=!0,this.resetUpload=!1}displayValidationErrors(){for(let e in this.form.controls)if(this.form.controls.hasOwnProperty(e)){let t=this.form.get(e);if(t&&t.invalid){let r=t.errors}}}static \u0275fac=function(t){return new(t||n)(T(sr),T(on),T(Zn))};static \u0275cmp=ue({type:n,selectors:[["app-business-terms-creation-updation"]],viewQuery:function(t,r){if(t&1&&Fa(TH,5),t&2){let i;is(i=os())&&(r.fileInput=i.first)}},outputs:{fileSelected:"fileSelected",lineageCreationChange:"lineageCreationChange"},standalone:!0,features:[gt],decls:19,vars:15,consts:[[1,"mainDiv"],[1,"formWidth"],[3,"ngSubmit","downloadResponseChange","formGroup"],[1,"form-container"],[3,"fileSelected","isLineageCreation","showFormMessage","applyMargin","showUploadButton","showResetButton","resetUpload"],[4,"ngIf"],["class","text-success",4,"ngIf"],["style","color: red;",4,"ngIf"],["src","assets/Dual Ring-1s-110px.gif","class","centre","alignment","justify-content","width","50","height","50","alt","Example Image",4,"ngIf"],["type","submit","hukclass","btn-secondary btn-md","text","Create/Update Business Terms",3,"disabled","downloadResponseChange",4,"ngIf"],[1,"group"],["type","text","nooptionaltext","","name","job_id","label","Job ID","aligntext","left","id","job_id","labelformat","text","refresh","0",3,"value"],["icon","documents","iconsize","sm",1,"icon-sm","icon-inside-input",2,"cursor","pointer","height","41px",3,"click","cdkCopyToClipboard"],[1,"form-group"],["href","https://mcc.dm-us.informaticacloud.com/monitor","target","_blank",1,"styled-link"],["class","instructionCSS",4,"ngIf"],[1,"text-success"],[1,"fa","fa-check-circle"],[2,"color","red"],["src","assets/Dual Ring-1s-110px.gif","alignment","justify-content","width","50","height","50","alt","Example Image",1,"centre"],["type","submit","hukclass","btn-secondary btn-md","text","Create/Update Business Terms",3,"downloadResponseChange","disabled"],[1,"instructionCSS"],["type","info"],[2,"font-weight","600"]],template:function(t,r){t&1&&(x(0,"div",0)(1,"div",1)(2,"form",2),Me("ngSubmit",function(){return r.onSubmit()})("downloadResponseChange",function(o){return r.onDownloadResponseChange(o)}),x(3,"div",3)(4,"app-upload",4),Me("fileSelected",function(o){return r.onFileSelected(o)}),D(),x(5,"div"),Je(6,SH,1,0,"div",5),D(),Je(7,AH,3,0,"div",6)(8,DH,2,1,"div",7)(9,kH,1,0,"img",8),ye(10,"br"),Je(11,MH,1,1,"huk-button",9),x(12,"div",10),ye(13,"huk-input-field",11),x(14,"huk-icon",12),Me("click",function(o){return r.toggleIconColor(o)}),D()(),x(15,"div",13)(16,"a",14),F(17,"Metadata Command Center (informaticacloud.com)"),D()()()()(),Je(18,xH,14,0,"div",15),D()),t&2&&(te(2),se("formGroup",r.form),te(2),se("isLineageCreation",r.islineageCreation)("showFormMessage",!1)("applyMargin",!1)("showUploadButton",!1)("showResetButton",!1)("resetUpload",r.resetUpload),te(2),se("ngIf",r.islineageCreation),te(),se("ngIf",r.submitSuccess),te(),se("ngIf",r.errorMessage),te(),se("ngIf",r.show),te(2),se("ngIf",r.islineageCreation),te(2),se("value",r.jobID),te(),Ml("cdkCopyToClipboard",r.jobID),te(4),se("ngIf",r.islineageCreation))},dependencies:[ei,Rt,Dn,Bo,Vi,md,zi,$i,ar,or,ir,Sr,am,sm],styles:[".file-upload-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background:#f7f7f7;flex-direction:column;border:2px dashed #ccc;padding:1rem;margin-bottom:1rem;border-radius:10px;cursor:pointer}.mt-5[_ngcontent-%COMP%], .my-5[_ngcontent-%COMP%]{margin-top:2rem!important}.centre[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.svgClass[_ngcontent-%COMP%]{font-size:16px;height:1.5em;cursor:pointer}.dropzone[_ngcontent-%COMP%]{height:156px}.group[_ngcontent-%COMP%]{display:flex;align-items:center}.group[_ngcontent-%COMP%]   huk-input-field[_ngcontent-%COMP%]{flex:1}.svgClass[_ngcontent-%COMP%]{fill:green}.button-group[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:10px}.form-control[_ngcontent-%COMP%]{display:block;width:30%}.success-icon[_ngcontent-%COMP%]{color:green;font-size:1.5em;margin-top:10px}.error-icon[_ngcontent-%COMP%]{color:red}.reset-icon[_ngcontent-%COMP%]{color:red;font-size:1.5em;cursor:pointer;margin-top:10px}.file-upload-wrapper.success[_ngcontent-%COMP%]{border-color:green}.file-upload-wrapper.error[_ngcontent-%COMP%]{border-color:red}.file-dropper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.image-name[_ngcontent-%COMP%]{font-weight:700}.image-preview[_ngcontent-%COMP%]{max-width:100%;height:auto;margin-bottom:.5rem;border-radius:10px}.delete-icon[_ngcontent-%COMP%]{cursor:pointer;color:red}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:10px;background-color:#f9f9f9}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:5px}button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.inputWidth[_ngcontent-%COMP%]{width:100%}#file-name[_ngcontent-%COMP%]{display:block;margin-top:5px;font-style:italic;color:#555}.formWidth[_ngcontent-%COMP%]{width:40%}.instructionCSS[_ngcontent-%COMP%]{width:60%;margin-left:3%}.mainDiv[_ngcontent-%COMP%]{display:flex}.styled-link[_ngcontent-%COMP%]{color:#3a5a78;text-decoration:none;font-weight:700}.styled-link[_ngcontent-%COMP%]:hover{text-decoration:underline}@media only screen and (min-width: 360px) and (max-width: 768px){.mainDiv[_ngcontent-%COMP%]{display:block}.instructionCSS[_ngcontent-%COMP%]{width:auto;margin-top:3%}.formWidth[_ngcontent-%COMP%]{width:auto}}"]})};function RH(n,e){n&1&&ye(0,"app-upload")}function NH(n,e){n&1&&ye(0,"app-lineage-creation")}function OH(n,e){n&1&&ye(0,"app-lineage-update")}function PH(n,e){n&1&&ye(0,"app-business-terms-creation")}function FH(n,e){n&1&&ye(0,"app-business-area-association")}function LH(n,e){n&1&&ye(0,"app-job-status")}function UH(n,e){n&1&&ye(0,"app-template-file")}function HH(n,e){n&1&&ye(0,"app-business-terms-creation-updation")}var fm=class n{constructor(e){this.authenticationService=e}title="Home Page";userId;navigateComponent="templateFile";logout(){this.authenticationService.logout()}currentComponent="";showComponent(e){this.navigateComponent=e.detail.id}static \u0275fac=function(t){return new(t||n)(T(Xr))};static \u0275cmp=ue({type:n,selectors:[["app-home"]],standalone:!0,features:[gt],decls:15,vars:8,consts:[[1,"btn","btn-danger","menu-width","menu",3,"click"],[1,"main"],[1,"sidenav"],["alertsmaxheight","20em","sidenav",`[
        {"id":"templateFile","dropdown":"Template File","active":true,"icon":"documents"},
        
         {"id":"Lineage","dropdown":"Lineage Creation","active":true,"icon":"add-function"},
         {"id":"Update","dropdown":"Lineage Update","active":true,"icon":"edit"},
         {"id":"BusinessTerms","dropdown":"Business Terms Association ","active":true,"icon":"business"},
         {"id":"JobStatus","dropdown":"Job Status","active":true,"icon":"view"},
         {"id":"businessTermsCreation","dropdown":"Business Terms Creation / Updation","active":true,"icon":"business-services"}
         
       ]`,3,"hukNavClick"],[1,"selectcomponent"],[4,"ngIf"]],template:function(t,r){t&1&&(x(0,"header")(1,"button",0),Me("click",function(){return r.logout()}),F(2,"Logout"),D()(),x(3,"div",1)(4,"div",2)(5,"huk-side-nav",3),Me("hukNavClick",function(o){return r.showComponent(o)}),D()(),x(6,"div",4),Je(7,RH,1,0,"app-upload",5)(8,NH,1,0,"app-lineage-creation",5)(9,OH,1,0,"app-lineage-update",5)(10,PH,1,0,"app-business-terms-creation",5)(11,FH,1,0,"app-business-area-association",5)(12,LH,1,0,"app-job-status",5)(13,UH,1,0,"app-template-file",5)(14,HH,1,0,"app-business-terms-creation-updation",5),D()()),t&2&&(te(7),se("ngIf",r.navigateComponent=="lineageCreation"),te(),se("ngIf",r.navigateComponent=="Lineage"),te(),se("ngIf",r.navigateComponent=="Update"),te(),se("ngIf",r.navigateComponent=="BusinessTerms"),te(),se("ngIf",r.navigateComponent=="BusinessAreaAssociation"),te(),se("ngIf",r.navigateComponent=="JobStatus"),te(),se("ngIf",r.navigateComponent=="templateFile"),te(),se("ngIf",r.navigateComponent=="businessTermsCreation"))},dependencies:[ei,um,Mf,Rt,Dn,dm,om,lm,cm,hm],styles:[".menu[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;justify-content:center}header[_ngcontent-%COMP%]{height:70px;padding:0 30px;background-color:#3a5a78;position:sticky;z-index:100;box-shadow:1px 1px 15px #a1b6fdd2;display:flex;justify-content:normal;align-items:center}.selectcomponent[_ngcontent-%COMP%]{width:100%}.message[_ngcontent-%COMP%]{gap:40px;position:relative;cursor:pointer}@media (max-width: 768px){.button-container[_ngcontent-%COMP%]{grid-template-columns:1fr;padding-left:10%;padding-top:2%}huk-button[_ngcontent-%COMP%]{max-width:100%}}.menu-width[_ngcontent-%COMP%]{margin-left:auto;padding:10px}.main[_ngcontent-%COMP%]{height:calc(100vh - 70px);width:100%;overflow-y:scroll;overflow-x:hidden;padding:40px 30px 30px}.main[_ngcontent-%COMP%]{display:flex}@media only screen and (min-width: 360px) and (max-width: 768px){.main[_ngcontent-%COMP%]{display:block}}"]})};var pm=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ue({type:n,selectors:[["app-no-user"]],standalone:!0,features:[gt],decls:10,vars:0,consts:[[1,"container","mt-5"],[1,"d-flex","align-items-center","justify-content-center","text-center","prompt-title","pb-3"],["role","alert",1,"alert","alert-danger","shadow-lg","p-4","rounded",2,"max-width","600px","background-color","#f8d7da","color","#721c24"],[1,"alert-heading",2,"font-size","1.5rem"],[2,"font-size","1.2rem"],[1,"mb-0",2,"font-size","1rem"]],template:function(t,r){t&1&&(x(0,"main",0)(1,"div",1)(2,"div",2)(3,"h4",3),F(4,"Access Denied"),D(),x(5,"p",4),F(6,"You do not have the necessary permissions to access this tool."),D(),ye(7,"hr"),x(8,"p",5),F(9,"If you believe this is an error, please contact your manager."),D()()()())}})};function BH(n,e){n&1&&(x(0,"div",18),F(1," Username is required "),D())}function jH(n,e){n&1&&(x(0,"div",18),F(1," Password is required "),D())}function VH(n,e){if(n&1&&(x(0,"div",19),F(1),D()),n&2){let t=Xe();te(),di(t.error)}}var mm=class n{constructor(e,t,r,i,o,s){this.formBuilder=e;this.route=t;this.router=r;this.uploadService=i;this.authenticationService=o;this.authServices=s;this.authenticationService.currentUserValue&&this.router.navigate(["/"])}loginForm;userId;isSSOLogin=!1;loading=!1;submitted=!1;returnUrl;error="";loginData={user:"",password:""};ngOnInit(){this.loginForm=this.formBuilder.group({username:["",Tr.required],password:["",Tr.required]}),this.userId=this.authenticationService.userId,this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}loginWithSSO(){this.authServices.getUserAuth().subscribe(e=>{if(e){sessionStorage.setItem("accessToken",e.accessToken);let t=Date.now()+rr.MSAL_TIMEOUT,r=new Date(t).toString(),i=Date.parse(r);sessionStorage.setItem("expiryTime",i.toString()),sessionStorage.setItem("username",e.account?.username),sessionStorage.setItem("isSSOLogin","true"),this.router.navigate(["/lineageCreation"])}else this.error="SSO login failed"},e=>{this.error="SSO login failed"})}submit(){if(this.loginForm.invalid)return;let{username:e,password:t}=this.loginForm.value;this.authenticationService.login(e,t).subscribe(r=>{this.router.navigate(["/lineageCreation"])},r=>{this.error="Invalid username or password"})}static \u0275fac=function(t){return new(t||n)(T(sr),T(wi),T(nn),T(on),T(Xr),T(gb))};static \u0275cmp=ue({type:n,selectors:[["app-login"]],standalone:!0,features:[gt],decls:27,vars:4,consts:[["lang","en"],[1,"logosec"],["src","assets/getsitelogo.png","alt","Data Governance Logo"],[1,"col-md-6","offset-md-3","mt-5"],[1,"card",2,"border-color","#3a5a78"],[1,"card-header","text-white",2,"background-color","#3a5a78"],[1,"card-body"],[3,"formGroup"],[1,"form-group"],["for","username"],["type","text","formControlName","username",1,"form-control"],["class","alert alert-danger validation",4,"ngIf"],["for","password"],["type","password","formControlName","password",1,"form-control"],[1,"d-flex","justify-content-between"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],["class","alert alert-danger mt-3 mb-0",4,"ngIf"],[1,"alert","alert-danger","validation"],[1,"alert","alert-danger","mt-3","mb-0"]],template:function(t,r){if(t&1&&(x(0,"html",0)(1,"body")(2,"header")(3,"div",1),ye(4,"img",2),D()(),x(5,"div",3)(6,"div",4)(7,"h4",5),F(8,"Login Form"),D(),x(9,"div",6)(10,"form",7)(11,"div",8)(12,"label",9),F(13,"Username"),D(),ye(14,"input",10),Je(15,BH,2,0,"div",11),D(),x(16,"div",8)(17,"label",12),F(18,"Password"),D(),ye(19,"input",13),Je(20,jH,2,0,"div",11),D(),x(21,"div",14)(22,"button",15),Me("click",function(){return r.submit()}),F(23,"Login"),D(),x(24,"button",16),Me("click",function(){return r.loginWithSSO()}),F(25,"Login with SAML SSO"),D()(),Je(26,VH,2,1,"div",17),D()()()()()()),t&2){let i,o;te(10),se("formGroup",r.loginForm),te(5),se("ngIf",((i=r.loginForm.get("username"))==null?null:i.invalid)&&((i=r.loginForm.get("username"))==null?null:i.touched)),te(5),se("ngIf",((o=r.loginForm.get("password"))==null?null:o.invalid)&&((o=r.loginForm.get("password"))==null?null:o.touched)),te(6),se("ngIf",r.error)}},dependencies:[ar,or,Xp,Ho,ir,Sr,ji,Rt,Dn,Mf,Zc],styles:[".validation[_ngcontent-%COMP%]{margin-top:3px}.menu[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;justify-content:center}.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 15px}.menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:700}.menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.textAdjustment[_ngcontent-%COMP%]{margin:60px;text-align:center}header[_ngcontent-%COMP%]{height:70px;width:100vw;padding:0 30px;background-color:#3a5a78;position:sticky;z-index:100;box-shadow:1px 1px 15px #a1b6fdd2;display:flex;justify-content:normal;align-items:center}.logo[_ngcontent-%COMP%]{font-size:27px;font-weight:600;color:#2f8d46}.icn[_ngcontent-%COMP%]{height:30px}.menuicn[_ngcontent-%COMP%]{cursor:pointer}.searchbar[_ngcontent-%COMP%], .message[_ngcontent-%COMP%], .logosec[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.logosec[_ngcontent-%COMP%]{gap:60px}.btn-primary[_ngcontent-%COMP%]{background-color:#0067b8;border-color:#007bff;font-weight:500}.btn-secondary[_ngcontent-%COMP%]{background-color:#0067b8;font-weight:500;border-color:#007bff;color:#fff}.d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:10px}.d-flex[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{margin-right:0}"]})};function zH(){return new sd(rr.msalConfig())}var $H={scopes:["api://064088b8-3b21-4945-a3ea-96113971dac8/objres.app.user"],forceRefresh:!1},oD=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"lineageCreation",component:fm},{path:"login",component:mm},{path:"no-user-access",component:pm}],sD={providers:[Vv({eventCoalescing:!0}),Zy(oD),gT(),cf(),Vv({eventCoalescing:!0}),cf(rT()),Rh(_A),Rh(iT),{provide:Po,useFactory:zH},{provide:qc,useValue:$H},Bi,Zy(oD)]};var gm=class n{title="Data Governance";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ue({type:n,selectors:[["app-root"]],standalone:!0,features:[gt],decls:1,vars:0,template:function(t,r){t&1&&ye(0,"router-outlet")},dependencies:[qy]})};var GH=()=>Yb(),aD=(n,e)=>typeof window>"u"?Promise.resolve():GH().then(()=>Wb(JSON.parse('[["huk-table-xc",[[1,"huk-table-xc",{"caption":[1],"captionDescription":[1,"caption-description"],"collapsefade":[4],"collapsenumrows":[2],"gridlines":[4],"hoverhighlight":[4],"mobilebreakpoint":[2],"nodatamessage":[1],"refresh":[2],"striped":[4],"tablejson":[1025],"internalRefresh":[32],"numRows":[32],"tableSorted":[32]},[[0,"hukPopoverDisplay","handlePopoverDisplayed"],[9,"resize","checkWindowSize"]]]]],["huk-google-address",[[1,"huk-google-address",{"compact":[4],"disabled":[1540],"googleMapsApiKey":[1,"google-maps-api-key"],"hasAptField":[4,"has-apt-field"],"hasTwoLines":[4,"has-two-lines"],"netsensitive":[4],"nodisabledtext":[4],"nooptionaltext":[4],"required":[4],"requiredasterisk":[4],"size":[1],"statesmaxheight":[1]},[[8,"hukNetworkEvent","handleNetworkEvent"]]]]],["huk-paginator",[[1,"huk-paginator",{"activepage":[1538],"altmobileview":[4],"pages":[2],"pagesdisplayed":[2],"intPagesArray":[32],"pageClicked":[32],"screenMin":[32]},[[9,"resize","checkSize"]]]]],["huk-card",[[1,"huk-card",{"bluetop":[4],"hasheader":[4],"heading":[1],"iconheading":[1],"imageheading":[1],"leftheading":[1],"leftheadingformat":[1],"offset":[4],"padding":[1],"rightheading":[1],"rightheadingformat":[1],"theme":[1],"top":[4]}]]],["huk-checkbox-group",[[1,"huk-checkbox-group",{"altversion":[4],"datamissing":[1],"disabled":[1540],"eventinfo":[1],"grouplabel":[1],"horizontal":[4],"labelformat":[1],"netsensitive":[4],"nodisabledtext":[4],"nooptionaltext":[4],"nopadding":[4],"required":[4],"requiredasterisk":[4],"secondaryalt":[4],"showdatamissing":[4],"value":[1537],"verticalstacked":[4],"checkboxValuesArray":[32],"showErrMsg":[32],"setMessageText":[64]},[[8,"hukNetworkEvent","handleNetworkEvent"]]]]],["huk-checkbox-group-tile",[[1,"huk-checkbox-group-tile",{"alignment":[1],"datamissing":[1],"disabled":[1540],"eventinfo":[1],"grouplabel":[1],"labelformat":[1],"netsensitive":[4],"nodisabledtext":[4],"nooptionaltext":[4],"nopadding":[4],"required":[4],"requiredasterisk":[4],"showdatamissing":[4],"size":[1],"theme":[1],"tilewidth":[1],"value":[1537],"verticalstacked":[4],"checkboxTilesArray":[32],"screenMin":[32],"showErrMsg":[32],"setMessageText":[64]},[[8,"hukNetworkEvent","handleNetworkEvent"],[9,"resize","checkSize"]]]]],["huk-modal",[[1,"huk-modal",{"alert":[1],"arialabel":[1],"backgroundnoclose":[4],"closeicon":[4],"eventinfo":[1],"footerbuttons":[1],"headercenter":[4],"headertitle":[1],"hukid":[1],"iconclass":[1],"scrolling":[4],"size":[1],"verticalcenter":[4],"width":[1],"footerButtonsArray":[32],"modalOpened":[32],"screenMin":[32],"present":[64],"dismiss":[64]},[[0,"hukClick","handleHukClick"],[8,"hukOpenModal","handleHukOpenModal"],[4,"keydown","handleEscape"],[0,"hukModalFocus","handleHukModalFocusEvent"],[9,"resize","checkWindowSize"]]]]],["huk-radio-tile",[[1,"huk-radio-tile",{"alignment":[1],"datamissing":[1],"disabled":[1540],"eventinfo":[1],"grouplabel":[1],"labelformat":[1],"netsensitive":[4],"nodisabledtext":[4],"nooptionaltext":[4],"nopadding":[4],"options":[1],"required":[4],"requiredasterisk":[4],"showdatamissing":[4],"size":[1],"theme":[1],"tilewidth":[1],"value":[1537],"verticalstacked":[4],"radioOptionsArray":[32],"screenMin":[32],"showErrMsg":[32],"setMessageText":[64]},[[8,"hukNetworkEvent","handleNetworkEvent"],[9,"resize","checkSize"]]]]],["huk-timeline",[[1,"huk-timeline",{"eventinfo":[1],"steps":[1],"iSteps":[32],"stepBackward":[64],"stepForward":[64]}]]],["huk-checkbox-tile",[[1,"huk-checkbox-tile",{"disabled":[1540],"eventinfo":[1],"icon":[1025],"label":[1],"netsensitive":[4],"removable":[4],"size":[1],"theme":[1],"tilewidth":[1],"value":[1540]},[[8,"hukNetworkEvent","handleNetworkEvent"]]]]],["huk-file-upload",[[1,"huk-file-upload",{"acceptedfiles":[1],"btnclass":[1],"dropzoneproperties":[1],"eventinfo":[1],"headers":[1],"hukid":[1],"icon":[1],"maxFiles":[8,"max-files"],"noremovelinks":[4],"nothumbnail":[4],"paramName":[1,"param-name"],"timeout":[2],"url":[1]}]]],["huk-form-message",[[1,"huk-form-message",{"displayclose":[4],"type":[1],"showMessage":[32]}]]],["huk-foundation",[[1,"huk-foundation",{"header":[1]}]]],["huk-message",[[1,"huk-message",{"anchorNav":[1,"anchor-nav"],"displayClose":[1028,"display-close"],"faded":[1028],"heading":[1],"message":[1],"readmore":[4],"showAnchor":[4,"show-anchor"],"showTitle":[4,"show-title"],"type":[1],"isCollapsed":[32],"iShowComp":[32]}]]],["huk-multiselect-panel",[[1,"huk-multiselect-panel",{"arialabel":[1],"arialabelright":[1],"datamissing":[1],"disabled":[1540],"eventinfo":[1],"label":[1],"labelformat":[1],"labelright":[1],"labelrightformat":[1],"netsensitive":[4],"nodisabledtext":[4],"nooptionaltext":[4],"nopadding":[4],"refresh":[2],"required":[4],"requiredasterisk":[4],"showdatamissing":[4],"sortby":[1],"sortdirection":[1],"value":[1537],"iLeftPanelOptions":[32],"iRightPanelOptions":[32],"showIntErrMsg":[32]},[[8,"hukNetworkEvent","handleNetworkEvent"]]]]],["huk-panel",[[1,"huk-panel",{"btnclosetext":[1],"btnopentext":[1],"btnwidth":[2],"collapsible":[4],"expanded":[1540],"heading":[1],"icon":[1],"nocareticon":[4],"subpanel":[4],"theme":[1]}]]],["huk-progress-bar",[[1,"huk-progress-bar",{"activeStepIndex":[1026,"active-step-index"],"clickable":[4],"eventinfo":[1],"steps":[1],"theme":[1],"iSteps":[32],"stepBackward":[64],"stepForward":[64]}]]],["huk-radio-button",[[1,"huk-radio-button",{"datamissing":[1],"disabled":[1540],"eventinfo":[1],"grouplabel":[1],"iconclass":[1],"inputwidth":[1],"labelformat":[1],"netsensitive":[4],"nodisabledtext":[4],"nooptionaltext":[4],"nopadding":[4],"options":[1],"required":[4],"requiredasterisk":[4],"showdatamissing":[4],"theme":[1],"value":[1537],"verticalstacked":[4],"radioOptionsArray":[32],"showErrMsg":[32],"setMessageText":[64]},[[8,"hukNetworkEvent","handleNetworkEvent"]]]]],["huk-stepper",[[1,"huk-stepper",{"activeStepIndex":[1026,"active-step-index"],"checkmark":[4],"eventinfo":[1],"halocolor":[1],"refresh":[2],"steps":[1],"iRefresh":[32],"iSteps":[32],"stepBackward":[64],"stepForward":[64]}]]],["huk-tab",[[1,"huk-tab",{"disabled":[4],"active":[1028],"collapse":[1028],"maxheight":[1],"noPadding":[4,"no-padding"],"responsive":[4],"tabId":[1,"tab-id"],"tabNotification":[1,"tab-notification"],"tabTitle":[1,"tab-title"],"hideInAccordion":[32]}]]],["huk-table",[[1,"huk-table",{"caption":[1],"captionDescription":[1,"caption-description"],"collapsefade":[4],"collapsenumrows":[2],"gridlines":[4],"hoverhighlight":[4],"nodatamessage":[1],"striped":[4],"tablejson":[1],"isMobile":[32],"numRows":[32],"tableSorted":[32]},[[9,"resize","checkWindowSize"]]]]],["huk-tabs",[[1,"huk-tabs",{"activeTabId":[1,"active-tab-id"],"eventinfo":[1],"noautoswitch":[4],"refresh":[2],"responsive":[4],"tabwidth":[2],"theme":[1],"iActiveTabId":[32],"internalRefresh":[32]},[[10,"click","handleWindowClickEvent"],[0,"hukExpandCollapseClickEvent","hukExpandCollapseClickEventListener"],[0,"hukTabChangedEvent","hukTabChangedEventListener"],[9,"resize","resizeListener"]]]]],["huk-text-list",[[1,"huk-text-list",{"items":[1],"label":[1],"underlined":[4],"itemsArray":[32]}]]],["huk-accordion",[[1,"huk-accordion",null,[[0,"hukPanelClick","handleHukPanelClick"]]]]],["huk-bar-graph",[[1,"huk-bar-graph",{"categoryAxisLabel":[1,"category-axis-label"],"categoryAxisOffset":[2,"category-axis-offset"],"categoryLabelSize":[1,"category-label-size"],"categoryTextSize":[1,"category-text-size"],"data":[1],"header":[1],"headerSize":[1,"header-size"],"height":[2],"maxValue":[2,"max-value"],"minValue":[2,"min-value"],"order":[1],"orientation":[1],"padding":[2],"showAxisLabels":[4,"show-axis-labels"],"showticks":[4],"showTransitions":[4,"show-transitions"],"tooltipHorizontalOffset":[2,"tooltip-horizontal-offset"],"tooltipSize":[1,"tooltip-size"],"tooltipVerticalOffset":[2,"tooltip-vertical-offset"],"transitionTime":[2,"transition-time"],"valueAxisLabel":[1,"value-axis-label"],"valueAxisOffset":[2,"value-axis-offset"],"valueLabelSize":[1,"value-label-size"],"valueTextSize":[1,"value-text-size"],"width":[2],"internalRefresh":[32]}]]],["huk-pie-chart",[[1,"huk-pie-chart",{"catName":[1,"cat-name"],"chartHeader":[1,"chart-header"],"details":[1],"headerHeightOffset":[2,"header-height-offset"],"headerWidthOffset":[2,"header-width-offset"],"height":[2],"hideLegend":[4,"hide-legend"],"hidePieText":[4,"hide-pie-text"],"pieChartType":[1,"pie-chart-type"],"showTransitions":[4,"show-transitions"],"strokeColor":[1,"stroke-color"],"tooltipOffsetX":[2,"tooltip-offset-x"],"tooltipOffsetY":[2,"tooltip-offset-y"],"transitionDuration":[2,"transition-duration"],"width":[2]}]]],["huk-radio",[[1,"huk-radio",{"datamissing":[1],"disabled":[1540],"eventinfo":[1],"grouplabel":[1],"horizontal":[4],"labelformat":[1],"netsensitive":[4],"nodisabledtext":[4],"nooptionaltext":[4],"nopadding":[4],"options":[1],"required":[4],"requiredasterisk":[4],"showdatamissing":[4],"value":[1537],"verticalstacked":[4],"radioOptionsArray":[32],"showErrMsg":[32],"setMessageText":[64]},[[8,"hukNetworkEvent","handleNetworkEvent"]]]]],["huk-toast",[[1,"huk-toast",{"closeButtonText":[513,"close-button-text"],"cssClass":[513,"css-class"],"duration":[520],"message":[513],"position":[513],"showCloseButton":[520,"show-close-button"],"displayToast":[64]}]]],["huk-checkbox",[[1,"huk-checkbox",{"altversion":[4],"disabled":[1540],"eventinfo":[1],"label":[1],"labelformat":[1],"netsensitive":[4],"secondaryalt":[4],"size":[1],"value":[1540]},[[8,"hukNetworkEvent","handleNetworkEvent"]]]]],["huk-image",[[0,"huk-image",{"altText":[1,"alt-text"],"height":[1],"source":[1],"width":[1]}]]],["huk-assets_9",[[1,"huk-header",{"headertype":[1],"mobilemenu":[4],"navtitle":[1],"nobreadcrumb":[4],"primarynavalert":[1],"primarynavleft":[1],"primarynavlogolink":[1],"primarynavright":[1],"refresh":[2],"searchfield":[4],"searchicon":[1],"searchplaceholder":[1],"searchresults":[1],"searchresultsmaxheight":[1],"secondarynav":[1025],"showgithub":[4],"fullheader":[32],"internalRefresh":[32],"primaryNavAlert":[32],"primaryNavAlertsArray":[32],"primaryNavLeftArray":[32],"primaryNavLogoLink":[32],"primaryNavRightArray":[32],"screenMin":[32],"secondaryNavArray":[32],"toggleNavOpen":[32],"clearAllAlerts":[64],"loadAlerts":[64],"removeAlerts":[64]},[[9,"resize","checkWindowSize"]]],[1,"huk-side-nav",{"alertsmaxheight":[1],"defaultcollapsed":[4],"nocollapse":[4],"sidenav":[1],"sidenavalert":[1],"sidenavbottom":[1],"sidenavlogolink":[1],"internalRefresh":[32],"navAlert":[32],"navAlertsArray":[32],"screenMin":[32],"toggleMobileNav":[32],"toggleSideNav":[32],"clearAllAlerts":[64],"loadAlerts":[64],"removeAlerts":[64]},[[10,"click","handleWindowClickEvent"],[9,"resize","checkWindowSize"]]],[1,"huk-footer",{"additionallinks":[1],"links":[1],"theme":[1],"type":[513],"footerMarginTop":[32]},[[9,"resize","checkWindowSize"]]],[1,"huk-header-internal",{"fullheader":[4],"primarynavlogolink":[1]},[[9,"resize","checkWindowSize"]]],[1,"huk-search",{"arialabel":[1],"compact":[4],"disabled":[1540],"dropdownwidth":[1],"dropposition":[1],"eventinfo":[1],"excludeuservalue":[4],"helpertext":[1],"helpertextformat":[1],"hukid":[1],"inputwidth":[1],"label":[1],"labelformat":[1],"lefticonclass":[1],"navbarsearch":[4],"netsensitive":[4],"nodescriptionmatch":[4],"nodisabledtext":[4],"nopadding":[4],"placeholder":[1],"resultsmaxheight":[1],"righticonclass":[1],"searchresults":[1],"size":[1],"sortresults":[1],"value":[1537],"expandedSearch":[32],"selectedOptionIndex":[32],"showResults":[32]},[[10,"click","handleWindowClickEvent"],[8,"hukNetworkEvent","handleNetworkEvent"],[9,"resize","getDropdownSize"]]],[1,"huk-version",{"fontsize":[1]}],[17,"huk-button",{"clicktext":[1],"compact":[4],"disabled":[1540],"eventinfo":[1],"hukclass":[1],"hukid":[1],"iconclass":[1025],"netsensitive":[4],"setfocus":[1028],"text":[1025],"type":[1],"showMore":[32],"loadSpinner":[64],"unloadSpinner":[64]},[[8,"hukLoadSpinner","handleLoadSpinner"],[8,"hukNetworkEvent","handleNetworkEvent"],[8,"hukUnloadSpinner","handleUnloadSpinner"]]],[0,"huk-assets",{"altText":[1,"alt-text"],"hukimage":[1]}],[0,"huk-icon",{"disabled":[4],"errormessage":[4],"focusable":[4],"icon":[1],"iconsize":[1],"icontitle":[1],"istoggled":[1028],"label":[1],"stylemods":[1],"toggle":[4]}]]],["huk-popover",[[1,"huk-popover",{"alignment":[1],"buttontext":[1],"disabled":[1540],"eventinfo":[1],"hukclass":[1],"hukid":[1],"icon":[1],"iconcolor":[1],"netsensitive":[4],"nocloseicon":[4],"popoverplacement":[1],"popovertitle":[1],"type":[1],"show":[32]},[[10,"click","handleWindowClickEvent"],[8,"hukClosePopover","handleHukClosePopover"],[8,"hukNetworkEvent","handleNetworkEvent"],[4,"keydown","handleEscape"]]]]],["huk-select",[[1,"huk-select",{"arialabel":[1],"compact":[4],"datamissing":[1],"disabled":[1540],"dropdownwidth":[1],"dropposition":[1],"eventinfo":[1],"gbxunmask":[4],"helpertext":[1],"helpertextformat":[1],"hukid":[1],"inputwidth":[1],"label":[1],"labelformat":[1],"netsensitive":[4],"nodisabledtext":[4],"nohelpertextonerror":[4],"nooptionaltext":[4],"nopadding":[4],"options":[1],"optionsmaxheight":[1],"placeholder":[1],"refresh":[2],"relative":[4],"required":[4],"requiredasterisk":[4],"setfocus":[1028],"showdatamissing":[4],"size":[1],"value":[1537],"displayValue":[32],"focusedOptionIndex":[32],"showIntErrMsg":[32],"showOptions":[32]},[[10,"click","handleWindowClickEvent"],[8,"hukNetworkEvent","handleNetworkEvent"],[9,"resize","getDropdownSize"]]]]],["huk-input-field",[[1,"huk-input-field",{"acceptedcreditcards":[1],"aligntext":[1],"arialabel":[1],"autoheight":[4],"compact":[4],"dataerror":[1],"datamissing":[1],"dateformat":[1],"dateyearprepend":[1],"decimalplaces":[2],"disabled":[1540],"disablevalidation":[4],"eventinfo":[1],"gbxunmask":[4],"helpertext":[1],"helpertextformat":[1],"hukclass":[1],"hukid":[1],"inputwidth":[1],"label":[1],"labelformat":[1],"lefticonclass":[1],"masked":[4],"maxheight":[1],"maxlength":[2],"minlength":[2],"netsensitive":[4],"nodisabledtext":[4],"nohelpertextonerror":[4],"nooptionaltext":[4],"nopadding":[4],"passwordreveal":[4],"pattern":[1],"placeholder":[1],"readonly":[4],"refresh":[2],"required":[4],"requiredasterisk":[4],"revealicon":[4],"righticonclass":[1],"rows":[2],"setfocus":[1028],"showdataerror":[4],"showdatamissing":[4],"size":[1],"value":[1025],"iconViewState":[32],"showIntErrMsg":[32]},[[8,"hukNetworkEvent","handleNetworkEvent"]]]]],["huk-autocomplete_4",[[1,"huk-datepicker",{"arialabel":[1],"backgroundnoclose":[4],"buttons":[4],"cancelbtnclass":[1],"cancelbtntext":[1],"compact":[4],"confirmbtnclass":[1],"confirmbtntext":[1],"dataerror":[1],"datamissing":[1],"dateformat":[1],"defaultfocusdate":[1],"disabled":[1540],"disableddates":[1],"disablevalidation":[4],"dropposition":[1],"enableddates":[1],"eventinfo":[1],"gbxunmask":[4],"helpertext":[1],"helpertextformat":[1],"hukid":[1],"inputwidth":[1],"label":[1],"labelformat":[1],"maxdate":[1],"mindate":[1],"multiselect":[4],"netsensitive":[4],"nodisabledtext":[4],"nohelpertextonerror":[4],"noinputfield":[4],"nomanualentry":[4],"nooptionaltext":[4],"nopadding":[4],"placeholder":[1],"refresh":[2],"relative":[4],"required":[4],"requiredasterisk":[4],"showdataerror":[4],"showdatamissing":[4],"size":[1],"value":[1537],"yearprepend":[1],"dateFound":[32],"datepickerDivWidth":[32],"showIntErrMsg":[32]},[[10,"click","handleWindowClickEvent"],[8,"hukNetworkEvent","handleNetworkEvent"]]],[1,"huk-autocomplete",{"arialabel":[1],"compact":[4],"containsmatch":[4],"dataerror":[1],"datamissing":[1],"disabled":[1540],"disablevalidation":[4],"dropdownwidth":[1],"dropposition":[1],"eventinfo":[1],"freeform":[4],"gbxunmask":[4],"helpertext":[1],"helpertextformat":[1],"hukid":[1],"inputwidth":[1],"label":[1],"labelformat":[1],"lefticonclass":[1],"listdisplay":[2],"matchonblur":[4],"maxlength":[2],"netsensitive":[4],"nodisabledtext":[4],"nohelpertextonerror":[4],"nooptionaltext":[4],"nooptionssort":[4],"nopadding":[4],"noshowalltext":[4],"numcharsearch":[2],"options":[1],"pattern":[1],"placeholder":[1],"refresh":[2],"relative":[4],"required":[4],"requiredasterisk":[4],"righticonclass":[1],"showallclick":[4],"showallindicator":[1],"showdataerror":[4],"showdatamissing":[4],"size":[1],"type":[1],"value":[1537],"optionsArr":[32],"selectedOptionIndex":[32],"showIntErrMsg":[32],"showList":[32],"suggestionList":[32]},[[10,"click","handleWindowClickEvent"],[8,"hukNetworkEvent","handleNetworkEvent"],[9,"resize","getDropdownSize"]]],[1,"huk-multiselect-dropdown",{"arialabel":[1],"compact":[4],"datamissing":[1],"disabled":[1540],"dropdownwidth":[1],"dropposition":[1],"eventinfo":[1],"helpertext":[1],"helpertextformat":[1],"hukid":[1],"inputwidth":[1],"label":[1],"labelformat":[1],"netsensitive":[4],"nodisabledtext":[4],"nohelpertextonerror":[4],"nooptionaltext":[4],"nopadding":[4],"optionslistheight":[1],"placeholder":[1],"refresh":[2],"relative":[4],"required":[4],"requiredasterisk":[4],"selectedcount":[4],"showdatamissing":[4],"size":[1],"sortby":[1],"sortdirection":[1],"value":[1537],"isShown":[32],"optionsUpdated":[32],"showIntErrMsg":[32]},[[10,"click","handleWindowClickEvent"],[8,"hukNetworkEvent","handleNetworkEvent"],[9,"resize","getDropdownSize"]]],[1,"huk-toggle",{"arialabel":[1],"checkmark":[4],"compact":[4],"disabled":[1540],"eventinfo":[1],"grouplabel":[1],"hukid":[1],"labelformat":[1],"netsensitive":[4],"nodisabledtext":[4],"nopadding":[4],"size":[1],"textoff":[1],"texton":[1],"value":[1540]},[[8,"hukNetworkEvent","handleNetworkEvent"]]]]]]'),e));aD();pT(gm,sD).catch(n=>console.error(n));
